<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico">
  <link rel="mask-icon" href="/images/favicon.ico" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"bobbyliujb.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.23.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"hide","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="迎难而上，祝我好运。">
<meta property="og:type" content="article">
<meta property="og:title" content="孤狗">
<meta property="og:url" content="https://bobbyliujb.github.io/2017/10/21/google/index.html">
<meta property="og:site_name" content="Bob&#39;s Blog">
<meta property="og:description" content="迎难而上，祝我好运。">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://drscdn.500px.org/photo/130178585/m%3D2048/300d71f784f679d5e70fadda8ad7d68f">
<meta property="article:published_time" content="2017-10-22T00:29:42.000Z">
<meta property="article:modified_time" content="2021-04-01T05:17:01.580Z">
<meta property="article:author" content="Bob">
<meta property="article:tag" content="java">
<meta property="article:tag" content="algorithm">
<meta property="article:tag" content="interview">
<meta property="article:tag" content="google">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://drscdn.500px.org/photo/130178585/m%3D2048/300d71f784f679d5e70fadda8ad7d68f">


<link rel="canonical" href="https://bobbyliujb.github.io/2017/10/21/google/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://bobbyliujb.github.io/2017/10/21/google/","path":"2017/10/21/google/","title":"孤狗"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>孤狗 | Bob's Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-118868735-1"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-118868735-1","only_pageview":false,"measure_protocol_api_secret":null}</script>
  <script src="/js/third-party/analytics/google-analytics.js" defer></script>








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  






  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Bob's Blog</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="home fa-fw"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="archive fa-fw"></i>Archives</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#2021%E7%89%88%E6%9C%AC"><span class="nav-number">1.</span> <span class="nav-text">2021版本</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8F%97%E6%AC%A2%E8%BF%8E%E7%9A%84%E5%85%83%E7%B4%A0"><span class="nav-number">1.1.</span> <span class="nav-text">受欢迎的元素</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#flip%E4%B8%80%E6%AC%A1%E6%B1%82%E6%9C%80%E5%A4%9A1%E7%9A%84%E6%95%B0%E9%87%8F"><span class="nav-number">1.2.</span> <span class="nav-text">flip一次求最多1的数量</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#2018%E7%89%88%E6%9C%AC"><span class="nav-number">2.</span> <span class="nav-text">2018版本</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#10-regular-expression-matching"><span class="nav-number">2.1.</span> <span class="nav-text">10. regular-expression-matching</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#36-valid-sudoku"><span class="nav-number">2.2.</span> <span class="nav-text">36. valid-sudoku</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#37-sudoku-solver"><span class="nav-number">2.3.</span> <span class="nav-text">37. sudoku-solver</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#41-first-missing-positive"><span class="nav-number">2.4.</span> <span class="nav-text">41. first-missing-positive</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#42-trapping-rain-water"><span class="nav-number">2.5.</span> <span class="nav-text">42. trapping-rain-water</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#43-multiply-strings"><span class="nav-number">2.6.</span> <span class="nav-text">43. multiply-strings</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#44-wildcard-matching"><span class="nav-number">2.7.</span> <span class="nav-text">44. wildcard-matching</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#56-merge-intervals"><span class="nav-number">2.8.</span> <span class="nav-text">56. merge-intervals</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#59-spiral-matrix-ii"><span class="nav-number">2.9.</span> <span class="nav-text">59. spiral-matrix-ii</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#72-edit-distance"><span class="nav-number">2.10.</span> <span class="nav-text">72. edit-distance</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#91-decode-ways"><span class="nav-number">2.11.</span> <span class="nav-text">91. decode-ways</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#95-unique-binary-search-trees-ii"><span class="nav-number">2.12.</span> <span class="nav-text">95. unique-binary-search-trees-ii</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#OA-Email%E5%9C%B0%E5%9D%80%E5%A4%84%E7%90%86"><span class="nav-number">2.13.</span> <span class="nav-text">OA: Email地址处理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#OA-%E4%B8%A4%E4%B8%AA%E7%AF%AE%E5%AD%90%E5%8F%96%E6%B0%B4%E6%9E%9C"><span class="nav-number">2.14.</span> <span class="nav-text">OA: 两个篮子取水果</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#OA-%E4%B8%8A%E4%B8%80%E4%B8%AA%E6%9C%80%E6%8E%A5%E8%BF%91%E6%97%B6%E9%97%B4"><span class="nav-number">2.15.</span> <span class="nav-text">OA: 上一个最接近时间</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#OA-%E5%BC%80%E8%8A%B1%E6%97%B6%E9%97%B4"><span class="nav-number">2.16.</span> <span class="nav-text">OA: 开花时间</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%B1%82%E6%9C%89%E5%BA%8F%E6%95%B0%E7%BB%84%E7%9A%84%E5%B9%B3%E6%96%B9%E6%95%B0"><span class="nav-number">2.17.</span> <span class="nav-text">求有序数组的平方数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#String%E5%AD%97%E7%AC%A6%E4%BA%A4%E6%8D%A2"><span class="nav-number">2.18.</span> <span class="nav-text">String字符交换</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%90%8C%E4%B9%89%E8%AF%8D-734-737"><span class="nav-number">2.19.</span> <span class="nav-text">同义词 734 737</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#flip-game-293-294"><span class="nav-number">2.20.</span> <span class="nav-text">flip game  293   294 </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E9%A6%96%E4%B8%AAprefix%E4%B8%8D%E5%8C%B9%E9%85%8D%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="nav-number">2.21.</span> <span class="nav-text">首个prefix不匹配字符串</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#flatten-iterator-251"><span class="nav-number">2.22.</span> <span class="nav-text">flatten iterator 251</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%88%A4%E6%96%AD%E4%BA%8C%E5%8F%89%E6%A0%91%E6%98%AF%E5%90%A6%E5%AF%B9%E7%A7%B0-101"><span class="nav-number">2.23.</span> <span class="nav-text">判断二叉树是否对称 101</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#outbound-spiral"><span class="nav-number">2.24.</span> <span class="nav-text">outbound spiral</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Longest-substirng-with-k-distinct-characters-340"><span class="nav-number">2.25.</span> <span class="nav-text">Longest substirng with k distinct characters    340 </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%AD%A3%E5%88%99-10"><span class="nav-number">2.26.</span> <span class="nav-text">正则  10 </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#X%E5%88%A0%E9%99%A4%E5%AD%97%E7%9C%BC"><span class="nav-number">2.27.</span> <span class="nav-text">X删除字眼</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%97%E6%AF%8D%E7%9F%A9%E9%98%B5%E7%A7%BB%E5%8A%A8%E7%BB%84%E6%88%90%E5%8D%95%E8%AF%8D"><span class="nav-number">2.28.</span> <span class="nav-text">字母矩阵移动组成单词</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#43-multiply-strings-1"><span class="nav-number">2.29.</span> <span class="nav-text">43. multiply-strings</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%BC%E5%AD%90%E4%B8%AD%E6%9C%80%E9%95%BF%E8%BF%9E%E7%BB%AD-562"><span class="nav-number">2.30.</span> <span class="nav-text">格子中最长连续 562 </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E7%BB%99%E5%87%BA%E4%B8%80%E7%B3%BB%E5%88%97%E5%AD%97%E6%AF%8D%E6%B1%82%E7%9B%B8%E9%99%A4%E7%BB%93%E6%9E%9C-399"><span class="nav-number">2.31.</span> <span class="nav-text">给出一系列字母求相除结果  399 </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%8D%81%E8%BF%9B%E5%88%B6%E8%BD%AC%E4%B8%83%E8%BF%9B%E5%88%B6-%E5%8F%AF%E5%8F%82%E8%80%83405"><span class="nav-number">2.32.</span> <span class="nav-text">十进制转七进制 可参考405</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E4%B9%9D%E5%AE%AB%E6%A0%BC-%E9%9D%A2%E5%B7%BE"><span class="nav-number">2.33.</span> <span class="nav-text">九宫格 面巾</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%AD%97%E7%AC%A6%E4%B8%B2%E9%87%8D%E7%BB%84"><span class="nav-number">2.34.</span> <span class="nav-text">字符串重组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#stream-observer"><span class="nav-number">2.35.</span> <span class="nav-text">stream observer</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%9C%89%E5%90%91%E6%97%A0%E7%8E%AF%E5%9B%BE%E6%9C%80%E9%95%BF%E8%B7%AF%E5%BE%84"><span class="nav-number">2.36.</span> <span class="nav-text">有向无环图最长路径</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E5%B8%A6%E6%97%B6%E9%97%B4%E6%88%B3%E7%9A%84Map"><span class="nav-number">2.37.</span> <span class="nav-text">带时间戳的Map</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#%E6%A0%91%E7%9A%84%E9%81%8D%E5%8E%86"><span class="nav-number">2.38.</span> <span class="nav-text">树的遍历</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Frequencey-Iterator-%E7%B1%BB%E4%BC%BC%E4%BA%8E%E5%88%A9%E5%8F%A3604"><span class="nav-number">2.39.</span> <span class="nav-text">Frequencey Iterator (类似于利口604)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#toeplitz-matrix"><span class="nav-number">2.40.</span> <span class="nav-text">toeplitz matrix</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3sum"><span class="nav-number">2.41.</span> <span class="nav-text">3sum</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#validate-2D-array"><span class="nav-number">2.42.</span> <span class="nav-text">validate 2D array</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2D-array-search-sum"><span class="nav-number">2.43.</span> <span class="nav-text">2D array search &amp; sum</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#voting-with-timestamp"><span class="nav-number">2.44.</span> <span class="nav-text">voting with timestamp</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#feed-tree"><span class="nav-number">2.45.</span> <span class="nav-text">feed tree</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#remove-node"><span class="nav-number">2.46.</span> <span class="nav-text">remove node</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#361-Bomb-Enemy"><span class="nav-number">2.47.</span> <span class="nav-text">361. Bomb Enemy</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-Median-of-2-sorted-arrays"><span class="nav-number">2.48.</span> <span class="nav-text">4. Median of 2 sorted arrays</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#17-letter-combinations"><span class="nav-number">2.49.</span> <span class="nav-text">17. letter-combinations</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#20-valid-parentheses"><span class="nav-number">2.50.</span> <span class="nav-text">20. valid-parentheses</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#22-generate-parentheses"><span class="nav-number">2.51.</span> <span class="nav-text">22. generate-parentheses</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#23-merge-k-sorted-lists"><span class="nav-number">2.52.</span> <span class="nav-text">23. merge-k-sorted-lists</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#31-next-permutation"><span class="nav-number">2.53.</span> <span class="nav-text">31. next-permutation</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#42-trapping-rain-water-1"><span class="nav-number">2.54.</span> <span class="nav-text">42. trapping-rain-water</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#676-implement-magic-dictionary"><span class="nav-number">2.55.</span> <span class="nav-text">676. implement-magic-dictionary</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Bob"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Bob</p>
  <div class="site-description" itemprop="description">I'm a Software Engineer!</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">50</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">5</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">54</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://bobbyliujb.github.io/2017/10/21/google/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Bob">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bob's Blog">
      <meta itemprop="description" content="I'm a Software Engineer!">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="孤狗 | Bob's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          孤狗
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2017-10-21 17:29:42" itemprop="dateCreated datePublished" datetime="2017-10-21T17:29:42-07:00">2017-10-21</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2021-03-31 22:17:01" itemprop="dateModified" datetime="2021-03-31T22:17:01-07:00">2021-03-31</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Tech/" itemprop="url" rel="index"><span itemprop="name">Tech</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2017/10/21/google/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2017/10/21/google/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><p>迎难而上，祝我好运。</p>
<span id="more"></span>

<h3 id="2021版本"><a href="#2021版本" class="headerlink" title="2021版本"></a>2021版本</h3><h4 id="受欢迎的元素"><a href="#受欢迎的元素" class="headerlink" title="受欢迎的元素"></a>受欢迎的元素</h4><ul>
<li>给一个数组，求其中受欢迎的元素（出现频数超过一半）。Map统计即可。</li>
<li>若数组排好序了，求出现频数超过n&#x2F;4的。既然排好序就可以考虑直接通过前后比较来计数了，不需要额外空间。</li>
<li>follow-up: 优化时间复杂度？排好序就应该想下有没有贪心&#x2F;挪指针&#x2F;二分查找了。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getPopularElement</span><span class="params">(<span class="type">int</span>[] sorted)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (sorted == <span class="literal">null</span> || sorted.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// throw new InputValidationExcpetion();</span></span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> sorted.length, threshold = n / <span class="number">4</span>;</span><br><span class="line">    <span class="keyword">if</span> (countElement(sorted, sorted[n / <span class="number">4</span>]) &gt; threshold) &#123;</span><br><span class="line">        <span class="keyword">return</span> sorted[n / <span class="number">4</span>];</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (countElement(sorted, sorted[n / <span class="number">2</span>]) &gt; threshold) &#123;</span><br><span class="line">        <span class="keyword">return</span> sorted[n / <span class="number">2</span>];</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (countElement(sorted, sorted[(n * <span class="number">3</span>) / <span class="number">4</span>]) &gt; threshold) &#123;</span><br><span class="line">        <span class="keyword">return</span> sorted[(n * <span class="number">3</span>) / <span class="number">4</span>];</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// throw new NotFoundException();</span></span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">countElement</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">firstIndex</span> <span class="operator">=</span> binarySearchFirst(arr, target);</span><br><span class="line">    <span class="type">int</span> <span class="variable">lastIndex</span> <span class="operator">=</span> binarySearchLast(arr, target);</span><br><span class="line">    <span class="keyword">return</span> lastIndex - firstIndex + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">binarySearchFirst</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = arr.length;</span><br><span class="line">    <span class="keyword">while</span> (left &lt; right) &#123;          <span class="comment">// [left, right)</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + (right - left) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (arr[mid] &gt;= target) &#123;   <span class="comment">// [left, mid)</span></span><br><span class="line">            right = mid;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">binarySearchLast</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = arr.length;</span><br><span class="line">    <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> left + (right - left) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (arr[mid] &lt;= target) &#123;   <span class="comment">// [mid + 1, right)</span></span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            right = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> left - <span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="flip一次求最多1的数量"><a href="#flip一次求最多1的数量" class="headerlink" title="flip一次求最多1的数量"></a>flip一次求最多1的数量</h4><ul>
<li>给一个硬币面朝上朝下的0&#x2F;1一维数组，求通过最多一次局部翻转(翻转起止位置自己定)能够得到的最大1的个数。</li>
<li>本质上就是求0比1数量多最多的subarray段，类似用贪心做法求max subarray sum。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxSumAfterFlip</span><span class="params">(<span class="type">int</span>[] coins)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (coins == <span class="literal">null</span> || coins.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">currSum</span> <span class="operator">=</span> <span class="number">0</span>, maxSum = <span class="number">0</span>, ones = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = <span class="number">0</span>, len = coins.length;</span><br><span class="line">    <span class="keyword">while</span> (left &lt; len) &#123;</span><br><span class="line">        <span class="keyword">if</span> (coins[left] == <span class="number">0</span>) &#123;</span><br><span class="line">            right = left;</span><br><span class="line">            currSum = <span class="number">0</span>;</span><br><span class="line">            <span class="keyword">while</span> (right &lt; len) &#123;</span><br><span class="line">                <span class="keyword">if</span> (coin[right] == <span class="number">0</span>) &#123;</span><br><span class="line">                    currSum++;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    ones++;</span><br><span class="line">                    currSum--;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (currSum &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                    <span class="keyword">break</span>;      <span class="comment">// 这一段的0和1持平，直接忽略</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// 表示这一段0比1多多少，也就是翻转后会多出多少1</span></span><br><span class="line">                maxSum = Math.max(currSum, maxSum);</span><br><span class="line">                left++;</span><br><span class="line">                right++;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        left++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxSum + ones;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>follow-up：如果要记录起止位置？那么就在内层while循环中maxSum需要更新时对start, end赋值即可。</li>
<li>follow-up：如果将一维数组换成二维matrix，求其中submatrix flip之后最多能得到的1的数量？</li>
</ul>
<hr>
<h3 id="2018版本"><a href="#2018版本" class="headerlink" title="2018版本"></a>2018版本</h3><h4 id="10-regular-expression-matching"><a href="#10-regular-expression-matching" class="headerlink" title="10. regular-expression-matching"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/regular-expression-matching">10. regular-expression-matching</a></h4><ul>
<li>输入两个字符串，写个支持<code>.</code>和<code>*</code>的正则表达式判断的method。例如<code>s = &quot;ab&quot;</code>, <code>p = &quot;a*&quot;</code>, 为True。</li>
<li>目标字符串s和正则字符串p之间相互比较，就需要维护一个boolean的二维数组<code>dp[i][j]</code>，表示<code>s[0~i-1]</code>与<code>p[0~j-1]</code>是否匹配。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isMatch</span><span class="params">(String s, String p)</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (s == <span class="literal">null</span> || p == <span class="literal">null</span> || s.equals(p)) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="type">char</span>[] sChar = s.toCharArray(), pChar = p.toCharArray();</span><br><span class="line">      <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> sChar.length, n = pChar.length;</span><br><span class="line">      <span class="type">boolean</span>[][] dp = <span class="keyword">new</span> <span class="title class_">boolean</span> [m + <span class="number">1</span>][n + <span class="number">1</span>];</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// initial the dp states</span></span><br><span class="line">      dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">2</span>; j &lt;= n; j++) &#123;</span><br><span class="line">          dp[<span class="number">0</span>][j] = pChar[j - <span class="number">1</span>] == <span class="string">&#x27;*&#x27;</span> &amp;&amp; dp[<span class="number">0</span>][j - <span class="number">2</span>];</span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= m; i++) &#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">              <span class="keyword">if</span> (pChar[j - <span class="number">1</span>] == <span class="string">&#x27;*&#x27;</span>) &#123;  </span><br><span class="line">                  <span class="comment">// check if ignoring curr pattern</span></span><br><span class="line">                  <span class="comment">// OR (the char is matched AND ignoring curr pattern)</span></span><br><span class="line">                  dp[i][j] = (dp[i][j - <span class="number">2</span>]) <span class="comment">// 不取pattern</span></span><br><span class="line">                      || ((sChar[i - <span class="number">1</span>] == pChar[j - <span class="number">2</span>] || pChar[j - <span class="number">2</span>] == <span class="string">&#x27;.&#x27;</span>) &amp;&amp; dp[i - <span class="number">1</span>][j]);</span><br><span class="line">              &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                  <span class="comment">// check if char is matched for curr pattern</span></span><br><span class="line">                  dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>] </span><br><span class="line">                      &amp;&amp; (sChar[i - <span class="number">1</span>] == pChar[j - <span class="number">1</span>] || pChar[j - <span class="number">1</span>] == <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> dp[m][n];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="36-valid-sudoku"><a href="#36-valid-sudoku" class="headerlink" title="36. valid-sudoku"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/valid-sudoku/#/description">36. valid-sudoku</a></h4><ul>
<li>给一个二维char数组，里面是一个未完成的数独9x9棋盘，要求每一行、每一列、每个3x3方块中数字1-9有且仅有出现一次。判断这个棋盘是否符合数独规则，返回布尔值。</li>
<li>方法一：直接双重循环遍历，注意可以利用index的变换同时判断行、列和box的情况</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValidSudoku</span><span class="params">(<span class="type">char</span>[][] board)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (board == <span class="literal">null</span> || board.length == <span class="number">0</span> || board[<span class="number">0</span>].length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; board.length; i++) &#123;</span><br><span class="line">        Set&lt;Character&gt; rowSet = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        Set&lt;Character&gt; colSet = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        Set&lt;Character&gt; boxSet = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">rowIndex</span> <span class="operator">=</span> <span class="number">3</span> * (i / <span class="number">3</span>), colIndex = <span class="number">3</span> * (i % <span class="number">3</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; board[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][j] != <span class="string">&#x27;.&#x27;</span> &amp;&amp; !rowSet.add(board[i][j])) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (board[j][i] != <span class="string">&#x27;.&#x27;</span> &amp;&amp; !colSet.add(board[j][i])) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (board[rowIndex + j / <span class="number">3</span>][colIndex + j % <span class="number">3</span>] != <span class="string">&#x27;.&#x27;</span> </span><br><span class="line">                &amp;&amp; !boxSet.add(board[rowIndex + j / <span class="number">3</span>][colIndex + j % <span class="number">3</span>])) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>方法二：利用String encoding，直接将每个数字出现的行、列、box情况encode成String存入set。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValidSudoku</span><span class="params">(<span class="type">char</span>[][] board)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (board == <span class="literal">null</span> || board.length == <span class="number">0</span> || board[<span class="number">0</span>].length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Set&lt;String&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; board.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; board[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][j] != <span class="string">&#x27;.&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (!set.add(board[i][j] + <span class="string">&quot; in row &quot;</span> + i) </span><br><span class="line">                    || !set.add(board[i][j] + <span class="string">&quot; in col &quot;</span> + j) </span><br><span class="line">                    || !set.add(board[i][j] + <span class="string">&quot; in block &quot;</span> + (i / <span class="number">3</span>) + <span class="string">&#x27;-&#x27;</span> + (j / <span class="number">3</span>))) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="37-sudoku-solver"><a href="#37-sudoku-solver" class="headerlink" title="37. sudoku-solver"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/sudoku-solver/#/description">37. sudoku-solver</a></h4><ul>
<li>给一个二位char数组，里面是一个未完成的数独9x9棋盘，要求每一行、每一列、每个3x3方块中数字1-9有且仅有出现一次。解出数独，解有且仅有一种，直接在原二维数组中将<code>.</code>改为数字的char。</li>
<li>暴力dfs，确定一个位置后就进入下一层DFS去判断。时间复杂度为O(9^m)，m为可填的空位数。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="type">String</span> <span class="variable">inRow</span> <span class="operator">=</span> <span class="string">&quot; in row &quot;</span>;</span><br><span class="line"><span class="keyword">final</span> <span class="type">String</span> <span class="variable">inCol</span> <span class="operator">=</span> <span class="string">&quot; in col &quot;</span>;</span><br><span class="line"><span class="keyword">final</span> <span class="type">String</span> <span class="variable">inBlk</span> <span class="operator">=</span> <span class="string">&quot; in blk &quot;</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">solveSudoku</span><span class="params">(<span class="type">char</span>[][] board)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (board == <span class="literal">null</span> || board.length != <span class="number">9</span> || board[<span class="number">0</span>].length != <span class="number">9</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    Set&lt;String&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">9</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][j] != <span class="string">&#x27;.&#x27;</span>) &#123;</span><br><span class="line">                set.add(board[i][j] + inRow + i);</span><br><span class="line">                set.add(board[i][j] + inCol + j);</span><br><span class="line">                set.add(board[i][j] + inBlk + i/<span class="number">3</span> + <span class="string">&quot;-&quot;</span> + j/<span class="number">3</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    dfs(board, set);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">dfs</span><span class="params">(<span class="type">char</span>[][] board, Set&lt;String&gt; set)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">9</span>; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (board[i][j] == <span class="string">&#x27;.&#x27;</span>) &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">0</span>; c &lt; <span class="number">9</span>; c++) &#123;</span><br><span class="line">                    <span class="type">char</span> <span class="variable">temp</span> <span class="operator">=</span> (<span class="type">char</span>)(c + <span class="string">&#x27;1&#x27;</span>);</span><br><span class="line">                    <span class="type">String</span> <span class="variable">row</span> <span class="operator">=</span> temp + inRow + i;</span><br><span class="line">                    <span class="type">String</span> <span class="variable">col</span> <span class="operator">=</span> temp + inCol + j;</span><br><span class="line">                    <span class="type">String</span> <span class="variable">blk</span> <span class="operator">=</span> temp + inBlk + i/<span class="number">3</span> + <span class="string">&quot;-&quot;</span> + j/<span class="number">3</span>;</span><br><span class="line">                    <span class="keyword">if</span> (!set.contains(row) &amp;&amp; !set.contains(col) &amp;&amp; !set.contains(blk)) &#123;</span><br><span class="line">                        set.add(row);</span><br><span class="line">                        set.add(col);</span><br><span class="line">                        set.add(blk);</span><br><span class="line">                        board[i][j] = temp;</span><br><span class="line">                        <span class="keyword">if</span> (dfs(board, set)) &#123;</span><br><span class="line">                            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                            set.remove(row);</span><br><span class="line">                            set.remove(col);</span><br><span class="line">                            set.remove(blk);</span><br><span class="line">                            board[i][j] = <span class="string">&#x27;.&#x27;</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="41-first-missing-positive"><a href="#41-first-missing-positive" class="headerlink" title="41. first-missing-positive"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/first-missing-positive/#/description">41. first-missing-positive</a></h4><ul>
<li>给一个乱序整数数组，要求返回所缺正整数中的最小值。要求constant space，O(n).例如<code>[3,4,-1,1]</code>，返回2.</li>
<li>尝试将在合理范围内的正数[1, nums.length]放入对应的位置，即与它的值对应的索引进行swap，注意执行swap之前需要判断该对应处的元素是否已经处在正确的位置，已经是正确位置就不能swap。最后从头遍历一波，第一个放错位置的即为所求。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">firstMissingPositive</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (nums == <span class="literal">null</span> || nums.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; nums.length) &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums[i] == i + <span class="number">1</span> || nums[i] &lt;= <span class="number">0</span> || nums[i] &gt; nums.length) &#123;</span><br><span class="line">            i++;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[nums[i] - <span class="number">1</span>] != nums[i]) &#123; <span class="comment">// warning: not nums[i] != i + 1</span></span><br><span class="line">            <span class="comment">// critical: avoid re-overwriting that correct spot</span></span><br><span class="line">            swap(nums, i, nums[i] - <span class="number">1</span>); <span class="comment">// i is curr index, nums[i] - 1 is where it should be</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    i = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; nums.length &amp;&amp; nums[i] == i + <span class="number">1</span>) &#123;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> i + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span>  nums[i];</span><br><span class="line">    nums[i] = nums[j];</span><br><span class="line">    nums[j] = temp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="42-trapping-rain-water"><a href="#42-trapping-rain-water" class="headerlink" title="42. trapping-rain-water"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/trapping-rain-water/#/description">42. trapping-rain-water</a></h4><ul>
<li>给一个int数组，其中包含每个索引处墙的高度。求装满水时的横截面的积水的面积。</li>
<li>利用双指针，left向后更新maxLeft，right往前更新maxRight。每次在left处和right处的高度中取较小值与maxLeft和maxRight进行比较，如果是凹的就直接累加高度差即可。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">trap</span><span class="params">(<span class="type">int</span>[] height)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (height == <span class="literal">null</span> || height.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">area</span> <span class="operator">=</span> <span class="number">0</span>, maxLeft = <span class="number">0</span>, maxRight = <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = height.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">        <span class="keyword">if</span> (height[left] &lt;= height[right]) &#123;    <span class="comment">// curr value less than some right value</span></span><br><span class="line">            <span class="keyword">if</span> (maxLeft &lt;= height[left]) &#123;</span><br><span class="line">                maxLeft = height[left];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;                            <span class="comment">// curr value is also less than left value</span></span><br><span class="line">                area += maxLeft - height[left]; <span class="comment">// means it is concave</span></span><br><span class="line">            &#125;</span><br><span class="line">            left++;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (maxRight &lt;= height[right]) &#123;</span><br><span class="line">                maxRight = height[right];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                area += maxRight - height[right];</span><br><span class="line">            &#125;</span><br><span class="line">            right--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> area;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="43-multiply-strings"><a href="#43-multiply-strings" class="headerlink" title="43. multiply-strings"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/multiply-strings">43. multiply-strings</a></h4><ul>
<li>给两个字符串形式的int，模拟乘法求他们的积，返回字符串。</li>
<li>观察index的关系，num1的第i个数字乘以num2的第j个数字得到的两位数将出现在结果数的第<code>i + j</code>和第<code>i + j + 1</code>位。因此就从最低位开始，双重循环相乘，不断更新结果数组即可。注意数组中保存的是一位数，有进位需要存到前一个位置。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">multiply</span><span class="params">(String num1, String num2)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (num1 == <span class="literal">null</span> || num2 == <span class="literal">null</span></span><br><span class="line">        || num1.length() == <span class="number">0</span> || num2.length() == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> num1.length(), n = num2.length();</span><br><span class="line">    <span class="type">int</span>[] result = <span class="keyword">new</span> <span class="title class_">int</span> [m + n];</span><br><span class="line">    <span class="type">char</span>[] cnum1 = num1.toCharArray(), cnum2 = num2.toCharArray();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// from least significant bit</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> m - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> n - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">mult</span> <span class="operator">=</span> (cnum1[i] - <span class="string">&#x27;0&#x27;</span>) * (cnum2[j] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">            <span class="type">int</span> <span class="variable">first</span> <span class="operator">=</span> i + j, second = i + j + <span class="number">1</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> mult + result[second];    <span class="comment">// add carry from prev steps</span></span><br><span class="line">            result[first] += sum / <span class="number">10</span>;  <span class="comment">// accumulate</span></span><br><span class="line">            result[second] = sum % <span class="number">10</span>;  <span class="comment">// overwrite</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">    <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// find the first non-zero item</span></span><br><span class="line">    <span class="keyword">while</span> (i &lt; result.length &amp;&amp; sb.length() == <span class="number">0</span> &amp;&amp; result[i] == <span class="number">0</span>) &#123;</span><br><span class="line">        i++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (i &lt; result.length) &#123;</span><br><span class="line">        sb.append(result[i++]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sb.length() == <span class="number">0</span>? <span class="string">&quot;0&quot;</span>: sb.toString();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="44-wildcard-matching"><a href="#44-wildcard-matching" class="headerlink" title="44. wildcard-matching"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/wildcard-matching">44. wildcard-matching</a></h4><ul>
<li>和前面的<a target="_blank" rel="noopener" href="https://leetcode.com/problems/regular-expression-matching">regular-expression-matching</a>很像，但这里用<code>?</code>代表任意一个字符、用<code>*</code>代表任意长度的任意字符而不依赖它前面的字符（而且不只能匹配单一个字符，直接匹配任意长度的任意字符组合）。总的来说比上一题简单，要讨论的情况少了。</li>
<li>维护一个二维boolean数组，<code>dp[i][j]</code>表示<code>s[0~i-1]</code>和<code>p[0~j-1]</code>是否匹配。初始化方面，对于空的p，<code>dp[i][0]</code>仍是除<code>dp[0][0]</code>外全部false，不可能用空的p去匹配非空的s；对于空的s，<code>dp[0][j]</code>就要看当前是否是<code>&#39;*&#39;</code>且考虑<code>dp[0][j-1]</code>。接着双重循环更新dp<br> -&gt; 若当前字符p[j-1]是<code>&#39;*&#39;</code>，则考虑取p的<code>*</code>但不匹配s当前字符时，<code>s[0~i-1]和p[0~j-2]</code>的匹配情况，即<code>dp[i][j-1]</code>；或将<code>&#39;*&#39;</code>假设为<code>s[i-1]</code>那个字符，看看<code>s[0~i-2]</code>与<code>p[0~i-1]</code>的匹配情况，即<code>dp[i-1][j]</code>；或者不取<code>*</code>也不匹配s当前字符，<code>s[0~i-2]和p[0~j-2]</code>的匹配情况，即<code>dp[i-1][j-1]</code>.<br> -&gt; 若当前字符p[j-1]不是<code>&#39;*&#39;</code>，就直接看s[i-1]和p[j-1]的匹配情况再结合<code>dp[i-1][j-1]</code>了。<br> 除了DP，这个题目似乎还可以用<a target="_blank" rel="noopener" href="https://discuss.leetcode.com/topic/3040/linear-runtime-and-constant-space-solution">贪心</a>给两个字符串分别用一个指针一直向后挪。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isMatch</span><span class="params">(String s, String p)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s == <span class="literal">null</span> || p == <span class="literal">null</span> || s.equals(p)) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> s.length(), n = p.length();</span><br><span class="line">    <span class="type">char</span>[] sChar = s.toCharArray(), pChar = p.toCharArray();</span><br><span class="line">    <span class="type">boolean</span>[][] dp = <span class="keyword">new</span> <span class="title class_">boolean</span> [m + <span class="number">1</span>][n + <span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="literal">true</span>;    <span class="comment">// &quot;&quot; fits &quot;&quot;</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= n; j++) &#123;   <span class="comment">// only &quot;x*&quot; can fit &quot;&quot;</span></span><br><span class="line">        <span class="keyword">if</span> (pChar[j - <span class="number">1</span>] == <span class="string">&#x27;*&#x27;</span>) &#123;</span><br><span class="line">            dp[<span class="number">0</span>][j] = dp[<span class="number">0</span>][j - <span class="number">1</span>];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            dp[<span class="number">0</span>][j] = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= m; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (pChar[j - <span class="number">1</span>] == <span class="string">&#x27;*&#x27;</span>) &#123;  <span class="comment">// don&#x27;t take * or view * as one char or just</span></span><br><span class="line">                                        <span class="comment">// get rid of the char in sChar</span></span><br><span class="line">                dp[i][j] = dp[i][j - <span class="number">1</span>] || dp[i - <span class="number">1</span>][j] || dp[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (pChar[j - <span class="number">1</span>] == sChar[i - <span class="number">1</span>] || pChar[j - <span class="number">1</span>] == <span class="string">&#x27;?&#x27;</span>) &#123;</span><br><span class="line">                    dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    dp[i][j] = <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[m][n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="56-merge-intervals"><a href="#56-merge-intervals" class="headerlink" title="56. merge-intervals"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/merge-intervals/#/description">56. merge-intervals</a></h4><ul>
<li>给一个Interval类的list，将重叠部分进行合并，返回合并之后的list。</li>
<li>方法一：使用自定义排序，按照start再按照end排序，然后入栈，每次与栈顶比较。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Interval&gt; <span class="title function_">merge</span><span class="params">(List&lt;Interval&gt; intervals)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (intervals == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Interval&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    Collections.sort(intervals, </span><br><span class="line">        (a, b) -&gt; a.start != b.start ？ </span><br><span class="line">            a.start - b.start : a.end - b.end;</span><br><span class="line">    );</span><br><span class="line">    Stack&lt;Interval&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (Interval itv: intervals) &#123;</span><br><span class="line">        <span class="keyword">if</span> (stack.isEmpty()) &#123;</span><br><span class="line">            stack.push(itv);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="type">Interval</span> <span class="variable">curr</span> <span class="operator">=</span> stack.peek();</span><br><span class="line">            <span class="keyword">if</span> (itv.start &gt; curr.end) &#123;</span><br><span class="line">                stack.push(itv);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                stack.peek().end = Math.max(itv.end, curr.end);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// directly get List from stack with constructor</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Interval&gt;(stack);    </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>方法二：将左、右boundary分别排序，然后快慢指针遍历。当<code>left[fast + 1] &gt; right[fast]</code>，说明slow~fast可以组成一个独立的interval，存入list后将慢指针放到fast + 1即可。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Interval&gt; <span class="title function_">merge</span><span class="params">(List&lt;Interval&gt; intervals)</span> &#123;</span><br><span class="line">    List&lt;Interval&gt; ans = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Interval&gt;();</span><br><span class="line">    <span class="keyword">if</span> (intervals == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> intervals.size();</span><br><span class="line">    <span class="type">int</span>[] left = <span class="keyword">new</span> <span class="title class_">int</span> [len];     <span class="comment">// all left boundary</span></span><br><span class="line">    <span class="type">int</span>[] right = <span class="keyword">new</span> <span class="title class_">int</span> [len];    <span class="comment">// all right boundary</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        left[i] = intervals.get(i).start;</span><br><span class="line">        right[i] = intervals.get(i).end;</span><br><span class="line">    &#125;</span><br><span class="line">    Arrays.sort(left);</span><br><span class="line">    Arrays.sort(right);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// fast will select right bound and fast+1 is the candidate for next left bound</span></span><br><span class="line">    <span class="comment">// when candidate is valid, store curr interval (slow, fast) and move slow to candidate</span></span><br><span class="line">    <span class="comment">// for next left bound</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">fast</span> <span class="operator">=</span> <span class="number">0</span>, slow = <span class="number">0</span>; fast &lt; len; fast++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (fast == len - <span class="number">1</span> || left[fast + <span class="number">1</span>] &gt; right[fast]) &#123;</span><br><span class="line">            ans.add(<span class="keyword">new</span> <span class="title class_">Interval</span>(left[slow], right[fast]));</span><br><span class="line">            slow = fast + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="59-spiral-matrix-ii"><a href="#59-spiral-matrix-ii" class="headerlink" title="59. spiral-matrix-ii"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/spiral-matrix-ii/#/description">59. spiral-matrix-ii</a></h4><ul>
<li>给一个整数n，生成一个n*n的二维数组方阵，使得螺旋式遍历的结果为1,2,3,…,n^2。</li>
<li>直接用循环搞。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span>[][] generateMatrix(<span class="type">int</span> n) &#123;</span><br><span class="line">    <span class="comment">// Declaration</span></span><br><span class="line">    <span class="type">int</span>[][] matrix = <span class="keyword">new</span> <span class="title class_">int</span>[n][n];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Edge Case</span></span><br><span class="line">    <span class="keyword">if</span> (n == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> matrix;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Normal Case</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">rowStart</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">rowEnd</span> <span class="operator">=</span> n - <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">colStart</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">colEnd</span> <span class="operator">=</span> n - <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">1</span>; <span class="comment">//change</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> (rowStart &lt;= rowEnd &amp;&amp; colStart &lt;= colEnd) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> colStart; i &lt;= colEnd; i++) &#123;</span><br><span class="line">            matrix[rowStart][i] = num++;   <span class="comment">//change</span></span><br><span class="line">        &#125;</span><br><span class="line">        rowStart++;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> rowStart; i &lt;= rowEnd; i++) &#123;</span><br><span class="line">            matrix[i][colEnd] = num++;     <span class="comment">//change</span></span><br><span class="line">        &#125;</span><br><span class="line">        colEnd--;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> colEnd; i &gt;= colStart; i--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (rowStart &lt;= rowEnd)</span><br><span class="line">                matrix[rowEnd][i] = num++; <span class="comment">//change</span></span><br><span class="line">        &#125;</span><br><span class="line">        rowEnd--;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> rowEnd; i &gt;= rowStart; i--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (colStart &lt;= colEnd)</span><br><span class="line">                matrix[i][colStart] = num++; <span class="comment">//change</span></span><br><span class="line">        &#125;</span><br><span class="line">        colStart++;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> matrix;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="72-edit-distance"><a href="#72-edit-distance" class="headerlink" title="72. edit-distance"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/edit-distance/#/description">72. edit-distance</a></h4><ul>
<li>给两个字符串word1, word2，求使用addition, replacement, removement三种操作的情况下最少多少步可以从word1转换成word2。</li>
<li><code>dp[i][j]</code>表示当前长度i的子字符串1转换成长度j的子字符串2最少需要的操作数。初始条件显然是<code>dp[0][x] = dp[x][0] = x</code>。对于任意一个<code>dp[i][j]</code>，需要由上、左上、左三个方格的计算结果决定，往上<code>dp[i-1][j]</code>表示一个deletion，往左<code>dp[i][j-1]</code>表示一个addition，左上<code>dp[i-1][j-1]</code>表示一个replacement。每次选取三者中最小的，加上1就是当前的最小操作数了。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minDistance</span><span class="params">(String word1, String word2)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (word1 == <span class="literal">null</span> || word2 == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">len1</span> <span class="operator">=</span> word1.length(), len2 = word2.length();</span><br><span class="line">    <span class="type">int</span>[][] dp = <span class="keyword">new</span> <span class="title class_">int</span> [len1 + <span class="number">1</span>][len2 + s1];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt;= len1; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt;= len2; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">                dp[i][j] = j;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (j == <span class="number">0</span>) &#123;</span><br><span class="line">                dp[i][j] = i;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// s1取i-1、s2取j-1个字符的情况，然后s1和s2都取，不需要增加操作数</span></span><br><span class="line">                <span class="keyword">if</span> (word1.charAt(i - <span class="number">1</span>) == word2.charAt(j - <span class="number">1</span>)) &#123;</span><br><span class="line">                    dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">// left: s1取i、s2取j-1个字符的操作数，现在相当于需要往s1中加s2对应位置的字符才能匹配上</span></span><br><span class="line">                    <span class="comment">// up: s1取i-1、s2取j个字符的操作数，相当于要从s1中删除字符才能匹配上</span></span><br><span class="line">                    <span class="comment">// left-up: s1取i-1、s2取j-1个字符的操作数，现在相当于要进行替换才能匹配上</span></span><br><span class="line">                    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> dp[i][j - <span class="number">1</span>], up = dp[i - <span class="number">1</span>][j], upLeft = dp[i - <span class="number">1</span>][j - <span class="number">1</span>];</span><br><span class="line">                    dp[i][j] = Math.min(Math.min(left, up), upLeft) + <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[len1][len2];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="91-decode-ways"><a href="#91-decode-ways" class="headerlink" title="91. decode-ways"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/decode-ways/#/description">91. decode-ways</a></h4><ul>
<li>给一个纯数字的字符串，看有多少中方式解析成对应的字母A-Z。如<code>12</code>可解析为<code>AB</code>或<code>L</code>两种，返回2。</li>
<li>联想到“跳楼梯的方式”那题，每次可以选择1位数或者2位数，dp[i]表示取i个字符总共有多少decode的方式，那么当前的方式数就取决于前一位或者前两位的方式数。注意如果取两位digit，需要判断是否在10~26范围之内。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">numDecodings</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s == <span class="literal">null</span> || s.length() == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> s.length();</span><br><span class="line">    <span class="type">int</span>[] dp = <span class="keyword">new</span> <span class="title class_">int</span>[ n+ <span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>;</span><br><span class="line">    dp[<span class="number">1</span>] = s.charAt(<span class="number">0</span>) != <span class="string">&#x27;0&#x27;</span> ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i &lt;= n; i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">first</span> <span class="operator">=</span> Integer.valueOf(s.substring(i - <span class="number">1</span>, i));</span><br><span class="line">        <span class="type">int</span> <span class="variable">second</span> <span class="operator">=</span> Integer.valueOf(s.substring(i - <span class="number">2</span>, i));</span><br><span class="line">        <span class="keyword">if</span> (first &gt;= <span class="number">1</span> &amp;&amp; first &lt;= <span class="number">9</span>) &#123;</span><br><span class="line">            dp[i] += dp[i - <span class="number">1</span>];  </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (second &gt;= <span class="number">10</span> &amp;&amp; second &lt;= <span class="number">26</span>) &#123;</span><br><span class="line">            dp[i] += dp[i - <span class="number">2</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="95-unique-binary-search-trees-ii"><a href="#95-unique-binary-search-trees-ii" class="headerlink" title="95. unique-binary-search-trees-ii"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/unique-binary-search-trees-ii/#/description">95. unique-binary-search-trees-ii</a></h4><ul>
<li>只给一个整数n表示二分查找树的节点数，返回所有结构不同的树。而上一问（96）则只是输出不同树的个数，只是个小DP。</li>
<li>方法一：DP。dp[i]表示节点数为i的时候后所有可能的unique BST根节点。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;TreeNode&gt; <span class="title function_">generateTrees</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    List&lt;TreeNode&gt;[] dp = <span class="keyword">new</span> <span class="title class_">List</span>[n + <span class="number">1</span>];</span><br><span class="line">    dp[<span class="number">0</span>] = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;TreeNode&gt;();</span><br><span class="line">    <span class="keyword">if</span> (n &lt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> dp[<span class="number">0</span>];</span><br><span class="line">    &#125;</span><br><span class="line">    dp[<span class="number">0</span>].add(<span class="literal">null</span>);  <span class="comment">// 空BST</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment">// BST: left children all smaller, right all larger.</span></span><br><span class="line">    <span class="comment">// each time fix the root, take prev as left subtree, and prev with offset as right subtree.</span></span><br><span class="line">    <span class="comment">// 固定跟节点，左子树节点数从0到n</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">nodeNum</span> <span class="operator">=</span> <span class="number">1</span>; nodeNum &lt;= n; nodeNum++) &#123;</span><br><span class="line">        dp[nodeNum] = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;TreeNode&gt;();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">leftNum</span> <span class="operator">=</span> <span class="number">0</span>; leftNum &lt; nodeNum; leftNum++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (TreeNode leftNode: dp[leftNum]) &#123;</span><br><span class="line">                <span class="keyword">for</span> (TreeNode rightNode: dp[nodeNum - leftNum - <span class="number">1</span>]) &#123;</span><br><span class="line">                    <span class="type">TreeNode</span> <span class="variable">curr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(leftNum + <span class="number">1</span>);</span><br><span class="line">                    curr.left = leftNode;</span><br><span class="line">                    curr.right = addOffset(rightNode, leftNum + <span class="number">1</span>);</span><br><span class="line">                    dp[nodeNum].add(curr);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> dp[n];</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// its kinda tricky to come up with this offset</span></span><br><span class="line"><span class="keyword">private</span> TreeNode <span class="title function_">addOffset</span><span class="params">(TreeNode node, <span class="type">int</span> offset)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (node == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">newNode</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(node.val + offset);</span><br><span class="line">    newNode.left = addOffset(node.left, offset);</span><br><span class="line">    newNode.right = addOffset(node.right, offset);</span><br><span class="line">    <span class="keyword">return</span> newNode;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>方法二：分治法，分别build左右两边的子树。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;TreeNode&gt; <span class="title function_">generateTrees</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (n &lt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;TreeNode&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> generate(<span class="number">1</span>, n);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> List&lt;TreeNode&gt; <span class="title function_">generate</span><span class="params">(<span class="type">int</span> start, <span class="type">int</span> end)</span> &#123;</span><br><span class="line">    List&lt;TreeNode&gt; result = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (start &gt; end) &#123;      <span class="comment">// recursion end condition</span></span><br><span class="line">        result.add(<span class="literal">null</span>);</span><br><span class="line">        <span class="keyword">return</span> result; </span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// take i as root val</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> start; i &lt;= end; i++) &#123;</span><br><span class="line">        List&lt;TreeNode&gt; left = generate(start, i - <span class="number">1</span>);   <span class="comment">// generate all possible left subtree</span></span><br><span class="line">        List&lt;TreeNode&gt; right = generate(i + <span class="number">1</span>, end);    <span class="comment">// gennerate all possible right subtree</span></span><br><span class="line">        <span class="keyword">for</span> (TreeNode l: left) &#123;</span><br><span class="line">            <span class="keyword">for</span> (TreeNode r: right) &#123;</span><br><span class="line">                <span class="type">TreeNode</span> <span class="variable">node</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TreeNode</span>(i);    <span class="comment">// set root val</span></span><br><span class="line">                node.left = l;</span><br><span class="line">                node.right = r;</span><br><span class="line">                result.add(node);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="OA-Email地址处理"><a href="#OA-Email地址处理" class="headerlink" title="OA: Email地址处理"></a><a target="_blank" rel="noopener" href="http://www.1point3acres.com/bbs/thread-438475-1-1.html">OA: Email地址处理</a></h4><ul>
<li>给String数组包含email地址，如name@domain，其中name需要将(1)dots(‘.’) between some characters去除 (2)如果有’+’，’+’和后面的全去除。将处理完的email地址归类，统计每个email出现个数，返回里面&gt;1个email兄弟的个数。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getEmailCount</span><span class="params">(String[] emails)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (emails == <span class="literal">null</span> || emails.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Map&lt;String, Set&lt;String&gt;&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (String email : emails) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">atIndex</span> <span class="operator">=</span> email.indexOf(<span class="string">&quot;@&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (atIndex == -<span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">String</span> <span class="variable">simplifiedEmail</span> <span class="operator">=</span> simplify(email.substring(<span class="number">0</span>, atIndex)) + email.substring(atIndex);</span><br><span class="line">        map.putIfAbsent(simplifiedEmail, <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;String&gt;());</span><br><span class="line">        map.get(simplifiedEmail).add(email);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (Map.Entry&lt;String, Set&lt;String&gt;&gt; e : map.entrySet()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (e.getValue().size() &gt; <span class="number">1</span>) &#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> count;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> String <span class="title function_">simplify</span><span class="params">(String local)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> local.replaceAll(<span class="string">&quot;(?&lt;=[a-zA-Z]+)\\.+(?=[a-zA-Z]+)|(\\+.*)&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="OA-两个篮子取水果"><a href="#OA-两个篮子取水果" class="headerlink" title="OA: 两个篮子取水果"></a><a target="_blank" rel="noopener" href="http://www.1point3acres.com/bbs/thread-438475-1-1.html">OA: 两个篮子取水果</a></h4><ul>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/longest-substring-with-at-most-two-distinct-characters/description/">lc 159</a>变种。只有两个篮子可以放水果，每个篮子只能放一样水果，但可以放无数个相同的水果。从任意一个位置开始往右取，求最多取多少水果。</li>
<li>滑动窗口。</li>
</ul>
<h4 id="OA-上一个最接近时间"><a href="#OA-上一个最接近时间" class="headerlink" title="OA: 上一个最接近时间"></a><a target="_blank" rel="noopener" href="http://www.1point3acres.com/bbs/thread-438228-1-1.html">OA: 上一个最接近时间</a></h4><ul>
<li>类似于<a target="_blank" rel="noopener" href="https://leetcode.com/problems/next-closest-time/description/">lc 681</a>. 给一个时间string如<code>hh:mm</code>，求前一个最近的时间，可以重复使用已有的数字。</li>
<li>将所有出现过的数字存入TreeSet，从最低位开始尝试将当前数字替换成比他小的最大的数，若存在这样的数就是previou closest time了，若没有这样的数则需要替换成最大值，注意需要validate。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">prevClosestTime</span><span class="params">(String time)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (time == <span class="literal">null</span> || time.length() != <span class="number">5</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    TreeSet&lt;Integer&gt; digitSet = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;();</span><br><span class="line">    <span class="type">char</span> <span class="variable">maxChar</span> <span class="operator">=</span> <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">char</span> c : time.toCharArray()) &#123;</span><br><span class="line">        <span class="keyword">if</span> (c != <span class="string">&#x27;:&#x27;</span>) &#123;</span><br><span class="line">            digitSet.add(c - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">            maxChar = (<span class="type">char</span>) Math.max(maxChar, c);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">char</span>[] ans = time.toCharArray();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">4</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">if</span> (i != <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">currDigit</span> <span class="operator">=</span> ans[i] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">            <span class="type">Integer</span> <span class="variable">temp</span> <span class="operator">=</span> digitSet.lower(currDigit);</span><br><span class="line">            <span class="keyword">if</span> (temp != <span class="literal">null</span>) &#123;</span><br><span class="line">                ans[i] = (<span class="type">char</span>) (temp + <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">                <span class="keyword">return</span> String.valueOf(ans);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                updateDigitToMax(ans, i, maxChar, digitSet);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> String.valueOf(ans);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">updateDigitToMax</span><span class="params">(<span class="type">char</span>[] ans, <span class="type">int</span> i, <span class="type">char</span> maxChar, TreeSet&lt;Integer&gt; digitSet)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (i == <span class="number">3</span> &amp;&amp; maxChar &gt; <span class="string">&#x27;5&#x27;</span>) &#123;</span><br><span class="line">        ans[i] = (<span class="type">char</span>) (digitSet.floor(<span class="number">5</span>) + <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i == <span class="number">1</span> &amp;&amp; ans[i - <span class="number">1</span>] == <span class="string">&#x27;2&#x27;</span> &amp;&amp; maxChar &gt; <span class="string">&#x27;3&#x27;</span>) &#123;</span><br><span class="line">        ans[i] = (<span class="type">char</span>) (digitSet.floor(<span class="number">3</span>) + <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i == <span class="number">0</span> &amp;&amp; maxChar &gt; <span class="string">&#x27;2&#x27;</span>) &#123;</span><br><span class="line">        ans[i] = (<span class="type">char</span>) (digitSet.floor(<span class="number">2</span>) + <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        ans[i] = maxChar;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="OA-开花时间"><a href="#OA-开花时间" class="headerlink" title="OA: 开花时间"></a><a target="_blank" rel="noopener" href="http://www.1point3acres.com/bbs/thread-438228-1-1.html">OA: 开花时间</a></h4><ul>
<li>给一个数组，index表示开花时间，element表示开花的位置，第i天arr[i]位置的花会开，为了维持M个group，问最晚的天数k。</li>
<li>考虑逆向处理，这样就可以保证先找到是最晚天数。在最后一天所有的花都开了，使用TreeSet存放没有开的花的index，往前找最大的天数、往后找最小的天数，若前后都间隔了&gt;&#x3D; k，说明前后都满足连续&gt;&#x3D; k朵花开放的条件，这样clusterCount++。但是若当前没有开导致前后的小于k，就需要减少clusterCount。当clusterCount &#x3D;&#x3D; m时就是最晚的、有m个至少k朵花开放的天数。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">getDay</span><span class="params">(<span class="type">int</span>[] flowers, <span class="type">int</span> k, <span class="type">int</span> m)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (flowers == <span class="literal">null</span> || flowers.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    TreeSet&lt;Integer&gt; posSet = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">day</span> <span class="operator">=</span> flowers.length - <span class="number">1</span>; day &gt;= <span class="number">0</span>; day--) &#123;</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">prevPos</span> <span class="operator">=</span> posSet.lower(flowers[day]);</span><br><span class="line">        <span class="keyword">if</span> (prevPos == <span class="literal">null</span>) &#123;</span><br><span class="line">            prevPos = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">nextPos</span> <span class="operator">=</span> posSet.higher(flowers[day]);</span><br><span class="line">        <span class="keyword">if</span> (nextPos == <span class="literal">null</span>) &#123;</span><br><span class="line">            nextPos = flowers.length + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">prevBloomLen</span> <span class="operator">=</span> flowers[day] - prevPos - <span class="number">1</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">nextBloomLen</span> <span class="operator">=</span> nextPos - flowers[day] - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (prevBloomLen &gt;= k &amp;&amp; nextBloomLen &gt;= k) &#123;</span><br><span class="line">            count++;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (prevBloomLen &lt; k &amp;&amp; nextBloomLen &lt; k) &#123;</span><br><span class="line">            count--;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (count &gt;= m) &#123;</span><br><span class="line">            <span class="keyword">return</span> day;</span><br><span class="line">        &#125;</span><br><span class="line">        posSet.add(flowers[day]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<p>以下是实习面经</p>
<h4 id="求有序数组的平方数"><a href="#求有序数组的平方数" class="headerlink" title="求有序数组的平方数"></a>求有序数组的平方数</h4><ul>
<li>给一个有序数组，求其中各项平方后的结果并排好序。</li>
<li>方法一：双指针，一个从0开始往后，一个从最后一个元素往前，比较大小然后从后往前地存入结果数组。<code>O(N)</code>。 </li>
<li>方法二：从前往后，找到第一个非负数开始，往前后两个方向merge，搜索部分复杂度<code>O(N)</code>，merge部分复杂度<code>O(N)</code>。</li>
<li>方法三：既然是有序，那么查找的时候就用二分查找，找『0插入的地方』，然后往两边merge。搜索部分复杂度<code>O(logN)</code>，merge部分复杂度<code>O(N)</code>。再来复习一遍二分查找找第一个出现／插入的位置：</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">binarySearch</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> -<span class="number">1</span>, end = nums.length;</span><br><span class="line">    <span class="keyword">while</span> (end - start &gt; <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> start + (end - start) / <span class="number">2</span>;</span><br><span class="line">        <span class="comment">// invariant relation: nums[start] &lt; target &lt;= nums[end]</span></span><br><span class="line">        <span class="keyword">if</span> (nums[mid] &gt;= target) &#123;</span><br><span class="line">            end = mid;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            start = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> end;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>follow-up：这次是求<code>x ^ 2 + a * x</code>而不单单是平方了。</li>
<li>思路也是类似，找到函数的最小值，往两边merge，这里对称轴出现在<code>-a/2</code>，所以找到这个值之后往两边merge即可。</li>
</ul>
<h4 id="String字符交换"><a href="#String字符交换" class="headerlink" title="String字符交换"></a>String字符交换</h4><ul>
<li>给两个字符，问能否交换str1的两个字符得到str2.</li>
<li>需要考虑两个字符串本身是否相等？长度小于2？</li>
<li>方法一：从前往后遍历两个数组，把不同的位置拼到List里，然后判断不同的是否恰好两位且可以互换。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">convert</span><span class="params">(String s1, String s2)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s1.length() != s2.length()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    List&lt;Integer&gt; arr = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="type">char</span>[] sChar1 = s1.toCharArray();</span><br><span class="line">    <span class="type">char</span>[] sChar2 = s2.toCharArray();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; sChar1.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (sChar1[i] != sChar2[i]) &#123;</span><br><span class="line">            arr.add(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (arr.size() != <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (sChar1[arr.get(<span class="number">0</span>)] == sChar2[arr.get(<span class="number">1</span>)] &amp;&amp; sChar1[arr.get(<span class="number">1</span>)] == sChar2[arr.get(<span class="number">0</span>)]) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>方法二：优化空间，不用额外的List，而是直接用一个变量记录第一个不同的索引，之后再出现不同直接判断就可以了。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">convert</span><span class="params">(String s1, String s2)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s1.length() != s2.length()) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">char</span>[] sChar1 = s1.toCharArray();</span><br><span class="line">    <span class="type">char</span>[] sChar2 = s2.toCharArray();</span><br><span class="line">    <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> -<span class="number">1</span>, count = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; sChar1.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (sChar1[i] != sChar2[i]) &#123;</span><br><span class="line">            count++;</span><br><span class="line">            <span class="keyword">if</span> (count &gt; <span class="number">2</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (index == -<span class="number">1</span>) &#123;</span><br><span class="line">                index = i;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (sChar1[index] != sChar2[i] || sChar2[index] != sChar1[i]) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="同义词-734-737"><a href="#同义词-734-737" class="headerlink" title="同义词 734 737"></a>同义词 <a target="_blank" rel="noopener" href="https://leetcode.com/problems/sentence-similarity/">734</a> <a target="_blank" rel="noopener" href="https://leetcode.com/problems/sentence-similarity-ii/">737</a></h4><ul>
<li>给一堆同义词[(“restaurant”, “cafe”), (“ratings”, “reviews”), …]，再给一些queries[(“restaurant ratings”, “cafe reviews”), …]，要求返回每个query里的对应词是否都是synonym。</li>
<li>如果不需要考虑传递性，就直接把字符作为key、对应的所有同义词的set作为value存入map，正反都放一次，比如<code>map.get(&quot;restaurant&quot;).add(&quot;cafe&quot;)), map.get(&quot;restaurant&quot;).add(&quot;cafe&quot;)</code>，这样在query的时候就可以直接调用了。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 维护一个总的map，每个单词作为key，对等的单词塞入它维护的Set中</span></span><br><span class="line"><span class="comment">// 有对称性所以需要正反都加</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">areSentencesSimilar</span><span class="params">(String[] words1, String[] words2, String[][] pairs)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (words1 == <span class="literal">null</span> || words2 == <span class="literal">null</span> || pairs == <span class="literal">null</span></span><br><span class="line">        || words1.length != words2.length) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    Map&lt;String, Set&lt;String&gt;&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; pairs.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!map.containsKey(pairs[i][<span class="number">0</span>])) &#123;</span><br><span class="line">            map.put(pairs[i][<span class="number">0</span>], <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!map.containsKey(pairs[i][<span class="number">1</span>])) &#123;</span><br><span class="line">            map.put(pairs[i][<span class="number">1</span>], <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;());</span><br><span class="line">        &#125;</span><br><span class="line">        map.get(pairs[i][<span class="number">0</span>]).add(pairs[i][<span class="number">1</span>]);  <span class="comment">// 构建a-&gt;b</span></span><br><span class="line">        map.get(pairs[i][<span class="number">1</span>]).add(pairs[i][<span class="number">0</span>]);  <span class="comment">// 构建b-&gt;a</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; words1.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (words1[i].equals(words2[i])) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (map.get(words1[i]) == <span class="literal">null</span> || !map.get(words1[i]).contains(words2[i])) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>需要考虑是否可以传递，比如<code>a=b, b=c -&gt; a=c?</code>，可能就需要有个并查集找共同老大。或者直接通过DFS遍历所有可达点。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 和前一个版本的区别是这个可以无限传递a=b=c=d...</span></span><br><span class="line"><span class="comment">// 还是map维护每个单词等价的单词，但匹配不上的话还得看它的set里所有单词对应的单词是否能匹配到</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">areSentencesSimilarTwo</span><span class="params">(String[] words1, String[] words2, String[][] pairs)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (words1 == <span class="literal">null</span> || words2 == <span class="literal">null</span> || pairs == <span class="literal">null</span></span><br><span class="line">        || words1.length != words2.length) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 表示每个单词直接相连的同义词</span></span><br><span class="line">    Map&lt;String, Set&lt;String&gt;&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; pairs.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!map.containsKey(pairs[i][<span class="number">0</span>])) &#123;</span><br><span class="line">            map.put(pairs[i][<span class="number">0</span>], <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!map.containsKey(pairs[i][<span class="number">1</span>])) &#123;</span><br><span class="line">            map.put(pairs[i][<span class="number">1</span>], <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;());</span><br><span class="line">        &#125;</span><br><span class="line">        map.get(pairs[i][<span class="number">0</span>]).add(pairs[i][<span class="number">1</span>]);  <span class="comment">// 构建a-&gt;b</span></span><br><span class="line">        map.get(pairs[i][<span class="number">1</span>]).add(pairs[i][<span class="number">0</span>]);  <span class="comment">// 构建b-&gt;a</span></span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; words1.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (words1[i].equals(words2[i])) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!map.containsKey(words1[i])) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!dfs(words1[i], words2[i], map, <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;String&gt;())) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">dfs</span><span class="params">(String start, String end, Map&lt;String, Set&lt;String&gt;&gt; map, Set&lt;String&gt; visited)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (map.get(start).contains(end)) &#123;     <span class="comment">// 终止条件：start连接着end</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    visited.add(start);</span><br><span class="line">    Set&lt;String&gt; neighbors = map.get(start);</span><br><span class="line">    <span class="keyword">if</span> (neighbors == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (String neighbor : neighbors) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!visited.contains(neighbor) &amp;&amp; dfs(neighbor, end, map, visited)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>或者通过并查集，初始化时每个单词都是自己的root；然后根据同义词关系将前者的老大设为后者。判断句子是否同义时就找两个单词的老大是否相等即可</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 并查集。初始化时每个单词都是自己的root；然后根据同义词关系将前者的老大设为后者。</span></span><br><span class="line"><span class="comment">// 判断句子是否同义时就找两个单词的老大是否相等即可</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">areSentencesSimilarTwo</span><span class="params">(String[] words1, String[] words2, String[][] pairs)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (words1.length != words2.length) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Map&lt;String,String&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (String[] pair : pairs) &#123;     <span class="comment">// 开始时每个老大都是自己</span></span><br><span class="line">        map.put(pair[<span class="number">0</span>], pair[<span class="number">0</span>]);</span><br><span class="line">        map.put(pair[<span class="number">1</span>], pair[<span class="number">1</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (String[] pair : pairs) &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">par1</span> <span class="operator">=</span> findParent(pair[<span class="number">0</span>], map);</span><br><span class="line">        <span class="type">String</span> <span class="variable">par2</span> <span class="operator">=</span> findParent(pair[<span class="number">1</span>], map);</span><br><span class="line">        <span class="keyword">if</span> (!par1.equals(par2)) &#123;</span><br><span class="line">            map.put(par1, par2);    <span class="comment">// par1的老大设为par2</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; words1.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (words1[i].equals(words2[i])) &#123;</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (!map.containsKey(words1[i]) || !map.containsKey(words2[i])) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">String</span> <span class="variable">par1</span> <span class="operator">=</span> findParent(words1[i], map);</span><br><span class="line">        <span class="type">String</span> <span class="variable">par2</span> <span class="operator">=</span> findParent(words2[i], map);</span><br><span class="line">        <span class="keyword">if</span> (!par1.equals(par2)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">findParent</span><span class="params">(String str, Map&lt;String,String&gt; map)</span>&#123;</span><br><span class="line">        <span class="keyword">while</span> (!str.equals(map.get(str))) &#123; <span class="comment">// 追溯str的老大</span></span><br><span class="line">            str = map.get(str);              </span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> str;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="flip-game-293-294"><a href="#flip-game-293-294" class="headerlink" title="flip game  293   294 "></a>flip game <a target="_blank" rel="noopener" href="https://leetcode.com/problems/flip-game/description/"> 293 </a> <a target="_blank" rel="noopener" href="https://leetcode.com/problems/flip-game-ii/"> 294 </a></h4><ul>
<li>给一个只含有<code>+</code>和<code>-</code>的字符串，两个人每次选择一个<code>++</code>flip成<code>--</code>。</li>
<li>第一问：求下一步所有可能的情况。直接找连续出现的<code>++</code>然后取前面部分的substring拼上<code>--</code>再拼上后续部分即可。</li>
<li>第二问：问先开始的玩家能否保证赢（操作后再也没有<code>++</code>让对方没法再flip）。暴力的方法是从头开始循环找到每个<code>startsWith(&quot;++&quot;)</code>，然后替换成<code>--</code>再递归判断对方能否稳赢。一旦对方没法稳赢，就直接return了。但是复杂度略高。可以用Set或者Map缓存中间结果，避免重复递归。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">// O(n!!) 复杂度。递归找，找到++的时候就替换成--然后递归判断对方能否保证赢，不能就直接返回true了。</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">canWin</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (s == <span class="literal">null</span> || s.length() &lt; <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        Map&lt;String, Boolean&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();  <span class="comment">// 存放已经访问过的的String</span></span><br><span class="line">        <span class="keyword">return</span> canWin(s, map);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">canWin</span><span class="params">(String s, Map&lt;String, Boolean&gt; map)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (map.containsKey(s)) &#123;</span><br><span class="line">            <span class="keyword">return</span> map.get(s);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; s.length(); i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (s.startsWith(<span class="string">&quot;++&quot;</span>, i)) &#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">t</span> <span class="operator">=</span> s.substring(<span class="number">0</span>, i) + <span class="string">&quot;--&quot;</span> + s.substring(i + <span class="number">2</span>);</span><br><span class="line">                <span class="keyword">if</span> (!canWin(t, map)) &#123;   <span class="comment">// 轮到对方操作，判断</span></span><br><span class="line">                    map.put(s, <span class="literal">true</span>);</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;  </span><br><span class="line">        &#125;</span><br><span class="line">        map.put(s, <span class="literal">false</span>);     <span class="comment">// 缓存起来</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="首个prefix不匹配字符串"><a href="#首个prefix不匹配字符串" class="headerlink" title="首个prefix不匹配字符串"></a>首个prefix不匹配字符串</h4><ul>
<li>给出一个按字典序排好序的字符串数组dictionary，找出其中第一个不是以指定字符串prefix作为前缀的字符串。如<code>[aa, aaa, ax, b, c], aa -&gt; ax</code></li>
<li>看到“排好序”，“找”，就想到二分查找了。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Google</span> &#123;</span><br><span class="line">    <span class="comment">// O(logN)二分查找第一个不符合要求的XD</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">firstUnmatch</span><span class="params">(String[] words, String prefix)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">lo</span> <span class="operator">=</span> <span class="number">0</span>, hi = words.length - <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> (lo &lt; hi) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> lo + (hi - lo) / <span class="number">2</span>;</span><br><span class="line">            <span class="keyword">if</span> (words[mid].startsWith(prefix)) &#123;</span><br><span class="line">                lo = mid + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                hi = mid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> lo == words.length || words[lo].startsWith(prefix)? </span><br><span class="line">        		<span class="string">&quot;none&quot;</span>: words[lo];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="flatten-iterator-251"><a href="#flatten-iterator-251" class="headerlink" title="flatten iterator 251"></a>flatten iterator <a target="_blank" rel="noopener" href="https://leetcode.com/problems/flatten-2d-vector/description/">251</a></h4><ul>
<li>给一个二维List，要求模拟一维iterator，用hasNext和next从头到尾遍历。</li>
<li>方法一： 第一版的两个iterator遍历的方法，其实不必要存下整个vec2d。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Vector2D</span> <span class="keyword">implements</span> <span class="title class_">Iterator</span>&lt;Integer&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> List&lt;List&lt;Integer&gt;&gt; vec2d;</span><br><span class="line">    <span class="keyword">private</span> Iterator&lt;Integer&gt; itCol = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">private</span> Iterator&lt;List&lt;Integer&gt;&gt; itRow = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Vector2D</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; vec2d)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.vec2d = vec2d;</span><br><span class="line">        <span class="keyword">if</span> (vec2d == <span class="literal">null</span> || vec2d.size() == <span class="number">0</span>) &#123;</span><br><span class="line">            itRow = <span class="literal">null</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            itRow = vec2d.iterator();</span><br><span class="line">            itCol = itRow.next().iterator();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">next</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (!itCol.hasNext()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">ret</span> <span class="operator">=</span> itCol.next();</span><br><span class="line">        <span class="keyword">return</span> ret;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (itCol == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (itCol.hasNext()) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (itCol != <span class="literal">null</span> &amp;&amp; !itCol.hasNext()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (itRow != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (!itRow.hasNext()) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">while</span> (itRow.hasNext()) &#123;</span><br><span class="line">                        List&lt;Integer&gt; newRow = itRow.next();</span><br><span class="line">                        itCol = newRow.iterator();</span><br><span class="line">                        <span class="keyword">if</span> (itCol.hasNext()) &#123;</span><br><span class="line">                            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your Vector2D object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * Vector2D i = new Vector2D(vec2d);</span></span><br><span class="line"><span class="comment"> * while (i.hasNext()) v[f()] = i.next();</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>
<ul>
<li>经过简洁：省略了很多条件语句。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Vector2D</span> <span class="keyword">implements</span> <span class="title class_">Iterator</span>&lt;Integer&gt; &#123;</span><br><span class="line">    <span class="comment">// 只用到两个iterator，一个存第几行，一个存当前行的第几列</span></span><br><span class="line">    Iterator&lt;List&lt;Integer&gt;&gt; itRow;</span><br><span class="line">    Iterator&lt;Integer&gt; itCol;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Vector2D</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; vec2d)</span> &#123;</span><br><span class="line">        itRow = vec2d.iterator();   </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">next</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (itCol.hasNext()) &#123;</span><br><span class="line">            <span class="keyword">return</span> itCol.next();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// 当itCol为空或当前行没有next 并且还有后续行的时候</span></span><br><span class="line">        <span class="keyword">while</span> ((itCol == <span class="literal">null</span> || !itCol.hasNext()) &amp;&amp; itRow.hasNext()) &#123;</span><br><span class="line">            itCol = itRow.next().iterator();    <span class="comment">// 持续挪</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> itCol != <span class="literal">null</span> &amp;&amp; itCol.hasNext();   <span class="comment">// 空或新行行首</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="判断二叉树是否对称-101"><a href="#判断二叉树是否对称-101" class="headerlink" title="判断二叉树是否对称 101"></a>判断二叉树是否对称 <a target="_blank" rel="noopener" href="https://leetcode.com/problems/symmetric-tree/">101</a></h4><ul>
<li>recursive：对称就是在递归判断左子树和右子树是否对称</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Definition for a binary tree node.</span></span><br><span class="line"><span class="comment"> * public class TreeNode &#123;</span></span><br><span class="line"><span class="comment"> *     int val;</span></span><br><span class="line"><span class="comment"> *     TreeNode left;</span></span><br><span class="line"><span class="comment"> *     TreeNode right;</span></span><br><span class="line"><span class="comment"> *     TreeNode(int x) &#123; val = x; &#125;</span></span><br><span class="line"><span class="comment"> * &#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSymmetric</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> helper(root.left, root.right);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">helper</span><span class="params">(TreeNode left, TreeNode right)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (left == <span class="literal">null</span> &amp;&amp; right == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (left == <span class="literal">null</span> || right == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (left.val == right.val) &#123;    <span class="comment">// 首先保证节点值相等</span></span><br><span class="line">            <span class="comment">// 然后判断左-左和右-右 以及 左-右和右-左</span></span><br><span class="line">            <span class="keyword">return</span> helper(left.left, right.right) &amp;&amp; helper(left.right, right.left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>iterative：用Stack吞吐，左先入栈再到右，弹出判断左右是否相等。然后先入左-左再入右-右，然后左-右和右-左（保证对称）</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isSymmetric</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">        stack.push(root.left);</span><br><span class="line">        stack.push(root.right);</span><br><span class="line">        <span class="keyword">while</span> (!stack.isEmpty()) &#123;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">left</span> <span class="operator">=</span> stack.pop();        <span class="comment">// take two nodes from stack top</span></span><br><span class="line">            <span class="keyword">if</span> (stack.isEmpty()) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;                   <span class="comment">// should always have 2 at </span></span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">TreeNode</span> <span class="variable">right</span> <span class="operator">=</span> stack.pop();</span><br><span class="line">            <span class="keyword">if</span> (left == <span class="literal">null</span> &amp;&amp; right == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (left == <span class="literal">null</span> || right == <span class="literal">null</span></span><br><span class="line">               || left.val != right.val) &#123;      <span class="comment">// ensure equal</span></span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            stack.push(left.left); <span class="comment">// push 2 symmetric positions into stack</span></span><br><span class="line">            stack.push(right.right);</span><br><span class="line"></span><br><span class="line">            stack.push(left.right);</span><br><span class="line">            stack.push(right.left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>follow-up：判断多叉树是否对称。直觉就是把left、right换成一个<code>List&lt;TreeNode&gt;</code>，判断对称的时候一个从前往后取子节点、另一个从后往前取子节点。</li>
</ul>
<h4 id="outbound-spiral"><a href="#outbound-spiral" class="headerlink" title="outbound spiral"></a>outbound spiral</h4><ul>
<li>給一個String 用outbound spiral方式輸出，例如<code>abcd -&gt; cdba</code>，<code>abcde -&gt; cdbae</code>。(其实没太看懂这题啥意思。。。)</li>
<li>双指针，从中间点开始往两边取。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Google</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">spiralString</span><span class="params">(String s)</span> &#123;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="type">char</span>[] sChar = s.toCharArray();</span><br><span class="line">        <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> sChar.length / <span class="number">2</span>, left = right - <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Longest-substirng-with-k-distinct-characters-340"><a href="#Longest-substirng-with-k-distinct-characters-340" class="headerlink" title="Longest substirng with k distinct characters    340 "></a>Longest substirng with k distinct characters   <a target="_blank" rel="noopener" href="https://leetcode.com/problems/longest-substring-with-at-most-k-distinct-characters/description/"> 340 </a></h4><ul>
<li>给一个字符串和k，求最长子字符串的长度使得其中只含有k个不同的字符。</li>
<li>substring问题-&gt;双指针。O(N)。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Google</span> &#123;</span><br><span class="line">    <span class="comment">// 双指针，right向前直到多过允许的k个，然后挪left直到恢复到k个</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">longestSubstringK</span><span class="params">(String s, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (s == <span class="literal">null</span> || s.length() == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        Map&lt;Character, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">maxLen</span> <span class="operator">=</span> <span class="number">0</span>, currCharNum = <span class="number">0</span>, left = <span class="number">0</span>;</span><br><span class="line">        <span class="type">char</span>[] sChar = s.toCharArray();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> <span class="number">0</span>; right &lt; sChar.length; right++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!map.containsKey(sChar[right])) &#123;</span><br><span class="line">                currCharNum++;</span><br><span class="line">                map.put(sChar[right], <span class="number">1</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                map.put(sChar[right], map.get(sChar[right]) + <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (currCharNum &gt; k) &#123;</span><br><span class="line">                <span class="keyword">while</span> (currCharNum &gt; k &amp;&amp; left &lt; sChar.length) &#123;</span><br><span class="line">                    <span class="type">Integer</span> <span class="variable">temp</span> <span class="operator">=</span> map.get(sChar[left]);</span><br><span class="line">                    <span class="keyword">if</span> (temp == <span class="number">1</span>) &#123;</span><br><span class="line">                        map.remove(sChar[left]);</span><br><span class="line">                        currCharNum--;</span><br><span class="line">                    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                        map.put(sChar[left], temp - <span class="number">1</span>);</span><br><span class="line">                    &#125;</span><br><span class="line">                    left++;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            maxLen = Math.max(maxLen, right - left + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxLen;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="正则-10"><a href="#正则-10" class="headerlink" title="正则  10 "></a>正则 <a target="_blank" rel="noopener" href="https://leetcode.com/problems/regular-expression-matching/description/"> 10 </a></h4><ul>
<li>输入两个字符串，写个支持<code>.</code>和<code>*</code>的正则表达式判断的method。</li>
<li>目标字符串s和正则字符串p之间相互比较，就需要维护一个boolean的二维数组dp[i][j]，表示<code>s[0~i-1]</code>与<code>p[0~j-1]</code>是否匹配。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">  <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isMatch</span><span class="params">(String s, String p)</span> &#123;</span><br><span class="line">      <span class="keyword">if</span> (s == <span class="literal">null</span> || p == <span class="literal">null</span> || s.equals(p)) &#123;</span><br><span class="line">          <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="type">char</span>[] sChar = s.toCharArray(), pChar = p.toCharArray();</span><br><span class="line">      <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> sChar.length, n = pChar.length;</span><br><span class="line">      <span class="type">boolean</span>[][] dp = <span class="keyword">new</span> <span class="title class_">boolean</span> [m + <span class="number">1</span>][n + <span class="number">1</span>];</span><br><span class="line">      </span><br><span class="line">      <span class="comment">// initial the dp states</span></span><br><span class="line">      dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="literal">true</span>;</span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">2</span>; j &lt;= n; j++) &#123;</span><br><span class="line">          dp[<span class="number">0</span>][j] = pChar[j - <span class="number">1</span>] == <span class="string">&#x27;*&#x27;</span> &amp;&amp; dp[<span class="number">0</span>][j - <span class="number">2</span>];</span><br><span class="line">      &#125;</span><br><span class="line">      </span><br><span class="line">      <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= m; i++) &#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= n; j++) &#123;</span><br><span class="line">              <span class="keyword">if</span> (pChar[j - <span class="number">1</span>] == <span class="string">&#x27;*&#x27;</span>) &#123;  </span><br><span class="line">                  <span class="comment">// check if ignoring curr pattern</span></span><br><span class="line">                  <span class="comment">// OR (the char is matched AND ignoring curr pattern)</span></span><br><span class="line">                  dp[i][j] = (dp[i][j - <span class="number">2</span>]) </span><br><span class="line">                      || ((sChar[i - <span class="number">1</span>] == pChar[j - <span class="number">2</span>] || pChar[j - <span class="number">2</span>] == <span class="string">&#x27;.&#x27;</span>) &amp;&amp; dp[i - <span class="number">1</span>][j]);</span><br><span class="line">              &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                  <span class="comment">// check if char is matched for curr pattern</span></span><br><span class="line">                  dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>] </span><br><span class="line">                      &amp;&amp; (sChar[i - <span class="number">1</span>] == pChar[j - <span class="number">1</span>] || pChar[j - <span class="number">1</span>] == <span class="string">&#x27;.&#x27;</span>);</span><br><span class="line">              &#125;</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> dp[m][n];</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="X删除字眼"><a href="#X删除字眼" class="headerlink" title="X删除字眼"></a>X删除字眼</h4><ul>
<li>给一个字符串如<code>aabbaac</code>，给一个forbidden字眼<code>a</code>，返回删除后的字符串<code>bbc</code>，若不存在就返回本身。</li>
<li>O(N)直接用StringBuilder拼接。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Google</span> &#123;</span><br><span class="line">    <span class="comment">// 直接拼接</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteChar</span><span class="params">(String s, <span class="type">char</span> c)</span> &#123;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="type">char</span>[] sChar = s.toCharArray();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">char</span> temp: sChar) &#123;</span><br><span class="line">            <span class="keyword">if</span> (temp != c) &#123;</span><br><span class="line">                sb.append(temp);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="字母矩阵移动组成单词"><a href="#字母矩阵移动组成单词" class="headerlink" title="字母矩阵移动组成单词"></a><a target="_blank" rel="noopener" href="http://www.1point3acres.com/bbs/forum.php?mod=viewthread&tid=306874&extra=page=3&filter=sortid&sortid=311&sortid=311">字母矩阵移动组成单词</a></h4><ul>
<li>给一个列数生成由大写字母组成的矩阵，再给一个单词，从左上角开始挪动，求挪动的路径（用&amp;连接).</li>
<li>求路径，用BFS可以保证最短。在point中加入一个path段记录到达该处的路径，一旦找到目标字符就直接把path拼进去。再以该处为起点继续找后续字符（需要清空path）。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Google</span> &#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Point</span> &#123;</span><br><span class="line">        <span class="type">int</span> row, col;</span><br><span class="line">        String path;</span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">Point</span><span class="params">(<span class="type">int</span> row, <span class="type">int</span> col, String path)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.row = row;</span><br><span class="line">            <span class="built_in">this</span>.col = col;</span><br><span class="line">            <span class="built_in">this</span>.path = path;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">private</span> <span class="type">int</span> <span class="variable">CHAR_NUM</span> <span class="operator">=</span> <span class="number">26</span>;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">moveWord</span><span class="params">(<span class="type">int</span> width, String target)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (target == <span class="literal">null</span> || target.length() == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">char</span>[][] table = buildTable(width);</span><br><span class="line">        <span class="type">int</span> <span class="variable">rows</span> <span class="operator">=</span> table.length, cols = table[<span class="number">0</span>].length;</span><br><span class="line">        <span class="type">char</span>[] targetChar = target.toCharArray();</span><br><span class="line">        <span class="type">Point</span> <span class="variable">curr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Point</span>(<span class="number">0</span>, <span class="number">0</span>);</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">first</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; targetChar.length; i++) &#123;</span><br><span class="line">            curr = bfs(table, curr, targetChar[i], <span class="keyword">new</span> <span class="title class_">boolean</span>[][] visited);</span><br><span class="line">            <span class="keyword">if</span> (!first) &#123;</span><br><span class="line">                sb.append(<span class="string">&quot; &amp; &quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            sb.append(curr.path);</span><br><span class="line">            curr.path = <span class="string">&quot;&quot;</span>;     <span class="comment">// 重置当前点为起点</span></span><br><span class="line">            first = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> Point <span class="title function_">bfs</span><span class="params">(<span class="type">char</span>[][] table, Point p, <span class="type">char</span> c, <span class="type">boolean</span>[][] visited, String path, StringBuilder sb)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (visited[p.row][p.col]) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        Queue&lt;Point&gt; q = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        q.add(p);</span><br><span class="line">        <span class="keyword">while</span> (!q.isEmpty()) &#123;</span><br><span class="line">            <span class="type">Point</span> <span class="variable">curr</span> <span class="operator">=</span> q.poll();</span><br><span class="line">            <span class="keyword">if</span> (table[curr.row][curr.col] == c) &#123;     <span class="comment">// 找到了</span></span><br><span class="line">                <span class="keyword">return</span> curr;</span><br><span class="line">            &#125;</span><br><span class="line">            visited[curr.row][curr.col] = <span class="literal">true</span>;       <span class="comment">// 标记当前坐标点已访问</span></span><br><span class="line">            <span class="keyword">if</span> (curr.col &lt; table[<span class="number">0</span>].length - <span class="number">1</span> &amp;&amp; !visited[curr.row][curr.col + <span class="number">1</span>]) &#123;</span><br><span class="line">                q.add(<span class="keyword">new</span> <span class="title class_">Point</span>(curr.row, curr.col + <span class="number">1</span>, curr.path + <span class="string">&quot;R&quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (curr.row &lt; table.length - <span class="number">1</span> &amp;&amp; !visited[curr.row + <span class="number">1</span>][curr.col]) &#123;</span><br><span class="line">                q.add(<span class="keyword">new</span> <span class="title class_">Point</span>(curr.row + <span class="number">1</span>, curr.col, curr.path + <span class="string">&quot;D&quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (curr.col &gt; <span class="number">0</span> &amp;&amp; !visited[curr.row][curr.col - <span class="number">1</span>]) &#123;</span><br><span class="line">                q.add(<span class="keyword">new</span> <span class="title class_">Point</span>(curr.row, curr.col - <span class="number">1</span>, curr.path + <span class="string">&quot;L&quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (curr.row &gt; <span class="number">0</span> &amp;&amp; !visited[curr.row - <span class="number">1</span>][curr.col]) &#123;</span><br><span class="line">                q.add(<span class="keyword">new</span> <span class="title class_">Point</span>(curr.row - <span class="number">1</span>, curr.col, curr.path + <span class="string">&quot;U&quot;</span>));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">char</span>[][] buildTable(<span class="type">int</span> width) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">height</span> <span class="operator">=</span> CHAR_NUM / width;</span><br><span class="line">        <span class="keyword">if</span> (CHAR_NUM % width &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            height++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">char</span>[][] table = <span class="keyword">new</span> <span class="title class_">char</span>[height][width];</span><br><span class="line">        <span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> <span class="string">&#x27;A&#x27;</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; height; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; width &amp;&amp; c &lt; <span class="string">&#x27;Z&#x27;</span>; j++) &#123;</span><br><span class="line">                table[i][j] = c++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> table;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="43-multiply-strings-1"><a href="#43-multiply-strings-1" class="headerlink" title="43. multiply-strings"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/multiply-strings/description/">43. multiply-strings</a></h4><p> <a target="_blank" rel="noopener" href="https://discuss.leetcode.com/topic/30508/easiest-java-solution-with-graph-explanation">解析在此</a><br> <img src="https://drscdn.500px.org/photo/130178585/m%3D2048/300d71f784f679d5e70fadda8ad7d68f"><br> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">multiply</span><span class="params">(String num1, String num2)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (num1 == <span class="literal">null</span> || num2 == <span class="literal">null</span></span><br><span class="line">           || num1.length() == <span class="number">0</span> || num2.length() == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> num1.length(), n = num2.length();</span><br><span class="line">        <span class="type">int</span>[] result = <span class="keyword">new</span> <span class="title class_">int</span> [m + n];</span><br><span class="line">        <span class="type">char</span>[] cnum1 = num1.toCharArray(), cnum2 = num2.toCharArray();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// from least significant bit</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> m - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> n - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">mult</span> <span class="operator">=</span> (cnum1[i] - <span class="string">&#x27;0&#x27;</span>) * (cnum2[j] - <span class="string">&#x27;0&#x27;</span>);</span><br><span class="line">                <span class="type">int</span> <span class="variable">first</span> <span class="operator">=</span> i + j, second = i + j + <span class="number">1</span>;</span><br><span class="line">                <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> mult + result[second];    <span class="comment">// add carry from prev steps</span></span><br><span class="line">                result[first] += sum / <span class="number">10</span>;  <span class="comment">// accumulate</span></span><br><span class="line">                result[second] = sum % <span class="number">10</span>;  <span class="comment">// overwrite</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// find the first non-zero item</span></span><br><span class="line">        <span class="keyword">while</span> (i &lt; result.length &amp;&amp; sb.length() == <span class="number">0</span> &amp;&amp; result[i] == <span class="number">0</span>) &#123;</span><br><span class="line">            i++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">while</span> (i &lt; result.length) &#123;</span><br><span class="line">            sb.append(result[i++]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> sb.length() == <span class="number">0</span>? <span class="string">&quot;0&quot;</span>: sb.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="格子中最长连续-562"><a href="#格子中最长连续-562" class="headerlink" title="格子中最长连续 562 "></a>格子中最长连续<a target="_blank" rel="noopener" href="https://leetcode.com/problems/longest-line-of-consecutive-one-in-matrix/description/"> 562 </a></h4><ul>
<li>给一个只有0和1的int二维数组，求横或竖或两个对角方向上最长连续出现1的个数。</li>
<li>方法一：O(N^2)从每个点出发往四个方向分别遍历，求最长长度。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">// O(N^3)：矩阵遍历每个点是N^2，对每个点在扫四个方向是4N</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">longestLine</span><span class="params">(<span class="type">int</span>[][] M)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (M == <span class="literal">null</span> || M.length == <span class="number">0</span> || M[<span class="number">0</span>].length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">longest</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; M.length; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; M[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (M[i][j] == <span class="number">1</span>) &#123;</span><br><span class="line">                    longest = Math.max(longest, getLongest(M, i, j));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> longest;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 右、下、右下、左下</span></span><br><span class="line">    <span class="keyword">final</span> <span class="keyword">private</span> <span class="type">int</span>[][] directions = <span class="keyword">new</span> <span class="title class_">int</span>[][] &#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">1</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, -<span class="number">1</span>&#125;&#125;; </span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">getLongest</span><span class="params">(<span class="type">int</span>[][] M, <span class="type">int</span> row, <span class="type">int</span> col)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">maxLen</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span>[] direction: directions) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">            <span class="type">int</span> <span class="variable">newRow</span> <span class="operator">=</span> row + direction[<span class="number">0</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">newCol</span> <span class="operator">=</span> col + direction[<span class="number">1</span>];</span><br><span class="line">            <span class="comment">// 持续在一个方向上继续走</span></span><br><span class="line">            <span class="keyword">while</span> (isValidPosition(M, newRow, newCol) &amp;&amp; M[newRow][newCol] == <span class="number">1</span>) &#123;</span><br><span class="line">                len++;</span><br><span class="line">                newRow += direction[<span class="number">0</span>];</span><br><span class="line">                newCol += direction[<span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">            maxLen = Math.max(maxLen, len);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> maxLen;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">isValidPosition</span><span class="params">(<span class="type">int</span>[][] M, <span class="type">int</span> row, <span class="type">int</span> col)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> row &gt;= <span class="number">0</span> &amp;&amp; col &gt;= <span class="number">0</span> &amp;&amp;</span><br><span class="line">            row &lt; M.length &amp;&amp; col &lt; M[<span class="number">0</span>].length;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>方法二：类似于DP，记录下四个方向各自的最大长度。参考<a target="_blank" rel="noopener" href="https://discuss.leetcode.com/topic/87389/simple-and-concise-java-solution-easy-to-understand-o-m-n-space">这个</a>被lz<br> 和<a target="_blank" rel="noopener" href="https://leetcode.com/problems/n-queens-ii/descrciption/">N皇后问题</a>很像。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">// O(N^2)时间，O(M+N)空间</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">longestLine</span><span class="params">(<span class="type">int</span>[][] M)</span> &#123;</span><br><span class="line">        <span class="comment">// validation</span></span><br><span class="line">        <span class="keyword">if</span> (M == <span class="literal">null</span> || M.length == <span class="number">0</span> || M[<span class="number">0</span>].length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">rows</span> <span class="operator">=</span> M.length, cols = M[<span class="number">0</span>].length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">longest</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span>[] bucketCol = <span class="keyword">new</span> <span class="title class_">int</span> [cols];</span><br><span class="line">        <span class="type">int</span>[] bucketDiag1 = <span class="keyword">new</span> <span class="title class_">int</span> [rows + cols];</span><br><span class="line">        <span class="type">int</span>[] bucketDiag2 = <span class="keyword">new</span> <span class="title class_">int</span> [rows + cols];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; rows; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">row</span> <span class="operator">=</span> <span class="number">0</span>;                <span class="comment">// 新行初始化为0</span></span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; cols; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (M[i][j] == <span class="number">1</span>) &#123;     <span class="comment">// 当前为1，对应更新bucket</span></span><br><span class="line">                    row++;</span><br><span class="line">                    bucketCol[j]++;</span><br><span class="line">                    bucketDiag1[j + i]++;</span><br><span class="line">                    bucketDiag2[j - i + M.length]++;</span><br><span class="line">                    longest = Math.max(longest, row);</span><br><span class="line">                    longest = Math.max(longest, bucketCol[j]);</span><br><span class="line">                    longest = Math.max(longest, bucketDiag1[j + i]);</span><br><span class="line">                    longest = Math.max(longest, bucketDiag2[j - i + M.length]);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    row = <span class="number">0</span>;</span><br><span class="line">                    bucketCol[j] = <span class="number">0</span>;</span><br><span class="line">                    bucketDiag1[j + i] = <span class="number">0</span>;</span><br><span class="line">                    bucketDiag2[j - i + M.length] = <span class="number">0</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> longest;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="给出一系列字母求相除结果-399"><a href="#给出一系列字母求相除结果-399" class="headerlink" title="给出一系列字母求相除结果  399 "></a>给出一系列字母求相除结果 <a target="_blank" rel="noopener" href="https://leetcode.com/problems/evaluate-division/description/"> 399 </a></h4><ul>
<li>给一系列字符串的倍数关系，给出后续query的结果。</li>
<li>图论。可以抽象成一个双向图，每个字符串都作为节点，然后权重就是两个节点的商。我的做法分三步：遍历一遍形成str到index的映射，然后建立邻接矩阵并把权重填充进去（正反都放，不存在就是0），最后就query的时候就用DFS，遍历当前节点所有能走到的节点看看能否到达终点。</li>
</ul>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span>[] calcEquation(String[][] equations, <span class="type">double</span>[] values, String[][] queries) &#123;</span><br><span class="line">        <span class="keyword">if</span> (equations == <span class="literal">null</span> || values == <span class="literal">null</span> || queries == <span class="literal">null</span> || </span><br><span class="line">           equations.length == <span class="number">0</span> || values.length == <span class="number">0</span> || queries.length == <span class="number">0</span></span><br><span class="line">           || equations.length != values.length) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">double</span>[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">double</span>[] ans = <span class="keyword">new</span> <span class="title class_">double</span> [queries.length];</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// create string to index mapping and get the total # of str</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        Map&lt;String, Integer&gt; str2Index = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (String[] equation: equations) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!str2Index.containsKey(equation[<span class="number">0</span>])) &#123;</span><br><span class="line">                str2Index.put(equation[<span class="number">0</span>], index++);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (!str2Index.containsKey(equation[<span class="number">1</span>])) &#123;</span><br><span class="line">                str2Index.put(equation[<span class="number">1</span>], index++);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// update the values into matrix</span></span><br><span class="line">        <span class="type">double</span>[][] matrix = <span class="keyword">new</span> <span class="title class_">double</span>[index][index];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; values.length; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">from</span> <span class="operator">=</span> str2Index.get(equations[i][<span class="number">0</span>]);</span><br><span class="line">            <span class="type">int</span> <span class="variable">to</span> <span class="operator">=</span> str2Index.get(equations[i][<span class="number">1</span>]);</span><br><span class="line">            matrix[from][to] = values[i];</span><br><span class="line">            matrix[to][from] = <span class="number">1.0</span> / values[i];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// query with dfs</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; queries.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (!str2Index.containsKey(queries[i][<span class="number">0</span>]) || !str2Index.containsKey(queries[i][<span class="number">1</span>])) &#123;</span><br><span class="line">                ans[i] = -<span class="number">1.0</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="type">boolean</span>[] visited = <span class="keyword">new</span> <span class="title class_">boolean</span>[index];</span><br><span class="line">                <span class="type">int</span> <span class="variable">from</span> <span class="operator">=</span> str2Index.get(queries[i][<span class="number">0</span>]);</span><br><span class="line">                <span class="type">int</span> <span class="variable">to</span> <span class="operator">=</span> str2Index.get(queries[i][<span class="number">1</span>]);</span><br><span class="line">                <span class="keyword">if</span> (from == to) &#123;</span><br><span class="line">                    ans[i] = <span class="number">1.0</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">//System.out.println(&quot;from: &quot; + from + &quot; to &quot; + to);</span></span><br><span class="line">                    <span class="type">double</span> <span class="variable">temp</span> <span class="operator">=</span> dfs(matrix, visited, str2Index, from, to);</span><br><span class="line">                    ans[i] = isZero(temp)? -<span class="number">1.0</span>: temp; </span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> <span class="title function_">dfs</span><span class="params">(<span class="type">double</span>[][] matrix, <span class="type">boolean</span>[] visited, Map&lt;String, Integer&gt; str2Index, <span class="type">int</span> from, <span class="type">int</span> to)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (matrix[from][to] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> matrix[from][to];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            visited[from] = <span class="literal">true</span>;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; matrix.length; i++) &#123;</span><br><span class="line">                <span class="comment">//System.out.println(&quot;    from: &quot; + from + &quot; to &quot; + to);</span></span><br><span class="line">                <span class="keyword">if</span> (matrix[from][i] &gt; <span class="number">0</span> &amp;&amp; !visited[i]) &#123;</span><br><span class="line">                    <span class="type">double</span> <span class="variable">temp</span> <span class="operator">=</span> dfs(matrix, visited, str2Index, i, to);</span><br><span class="line">                    <span class="keyword">if</span> (temp &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                        <span class="keyword">return</span> matrix[from][i] * temp;</span><br><span class="line">                    &#125;</span><br><span class="line"></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            visited[from] = <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0.0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">isZero</span><span class="params">(<span class="type">double</span> val)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Math.abs(val) &lt; <span class="number">0.00000001</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="十进制转七进制-可参考405"><a href="#十进制转七进制-可参考405" class="headerlink" title="十进制转七进制 可参考405"></a>十进制转七进制 <a target="_blank" rel="noopener" href="https://leetcode.com/problems/convert-a-number-to-hexadecimal/description/">可参考405</a></h4><ul>
<li>十进制转二进制就是除+膜。不过需要注意负数除法的时候不能带上最前面都符号位。</li>
<li>推广到div进制。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="keyword">private</span> <span class="type">char</span>[] map = &#123;<span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;2&#x27;</span>, <span class="string">&#x27;3&#x27;</span>,<span class="string">&#x27;4&#x27;</span>,<span class="string">&#x27;5&#x27;</span>,<span class="string">&#x27;6&#x27;</span>,<span class="string">&#x27;7&#x27;</span>,<span class="string">&#x27;8&#x27;</span>,<span class="string">&#x27;9&#x27;</span>,<span class="string">&#x27;a&#x27;</span>,<span class="string">&#x27;b&#x27;</span>,<span class="string">&#x27;c&#x27;</span>,<span class="string">&#x27;d&#x27;</span>,<span class="string">&#x27;e&#x27;</span>,<span class="string">&#x27;f&#x27;</span>&#125;;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">trans</span><span class="params">(<span class="type">int</span> num, <span class="type">int</span> div)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (num == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;0&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">long</span> <span class="variable">longNum</span> <span class="operator">=</span> num &amp; <span class="number">0x00000000ffffffffL</span>;   <span class="comment">// 不能直接强制转换，不然会保留符号</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">hexStr</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">while</span> (longNum != <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="comment">// System.out.println();</span></span><br><span class="line">            hexStr = map[(<span class="type">int</span>)(longNum % div)] + hexStr;</span><br><span class="line">            longNum /= div;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> hexStr;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<h4 id="九宫格-面巾"><a href="#九宫格-面巾" class="headerlink" title="九宫格 面巾"></a>九宫格 <a target="_blank" rel="noopener" href="http://www.1point3acres.com/bbs/thread-307266-1-1.html">面巾</a></h4><ul>
<li>给一个只含有数字【1到9】的矩阵，从矩阵中寻找九宫格(3x3的正方形，横着加，竖着加，对角线加都是15)，返回矩阵中这样的九宫格的个数。</li>
<li>遍历所有九宫格的中心点，求对角线x2、行x3、列x3。有个hint是，只有中心点是5的九宫格才有可能符合要求，因此只需要在5处跑一遍3x3的判断即可。</li>
</ul>
<h4 id="字符串重组"><a href="#字符串重组" class="headerlink" title="字符串重组"></a>字符串重组</h4><ul>
<li>版本一：pattern和str，判断是否match。比如：输入“acg”和“abcdefg”，输出true。但“agc”和“abcdefg”就不对了，因为顺序不同。双指针。</li>
<li>版本二：<a target="_blank" rel="noopener" href="https://leetcode.com/problems/permutation-in-string/description/">莉蔻567</a>。不同之处在于不是subsequence而是严格的substring，且顺序不需要关注，因为是后者包含前者的permutation。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">checkInclusion</span><span class="params">(String s1, String s2)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (s1 == <span class="literal">null</span> || s2 == <span class="literal">null</span> || s1.length() == <span class="number">0</span> || s2.length() == <span class="number">0</span> ) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">char</span>[] s1Char = s1.toCharArray();</span><br><span class="line">        Map&lt;Character, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">len1</span> <span class="operator">=</span> s1Char.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len1; i++) &#123;   <span class="comment">// 统计s1中每个字母出现个数，作为producer</span></span><br><span class="line">            map.put(s1Char[i], map.getOrDefault(s1Char[i], <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="type">char</span>[] s2Char = s2.toCharArray();</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> map.size();</span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (right &lt; s2Char.length) &#123;     <span class="comment">// 遍历s2作为consumer消耗字符，直到map中所有字符消耗完</span></span><br><span class="line">            <span class="keyword">if</span> (map.containsKey(s2Char[right])) &#123;</span><br><span class="line">                map.put(s2Char[right], map.get(s2Char[right]) - <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span> (map.get(s2Char[right]) == <span class="number">0</span>) &#123;</span><br><span class="line">                    count--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (count == <span class="number">0</span>) &#123;            <span class="comment">// 左指针补回来，直到map中出现available的字符</span></span><br><span class="line">                <span class="keyword">if</span> (right - left + <span class="number">1</span> == len1) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (map.containsKey(s2Char[left])) &#123;</span><br><span class="line">                    map.put(s2Char[left], map.get(s2Char[left]) + <span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">if</span> (map.get(s2Char[left]) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                        count++;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                left++;</span><br><span class="line">            &#125;</span><br><span class="line">            right++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>与之类似的<a target="_blank" rel="noopener" href="https://leetcode.com/problems/find-all-anagrams-in-a-string/description/">莉蔻</a></li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">// O(N)双指针。先一波流统计p中各个字符出现的频数，然后consume掉map中的字符直到没有available的</span></span><br><span class="line">    <span class="comment">// 此时判断左右指针之间长度是否等于目标的长度，然后挪动左指针重新往map中加回去，直到出现可选字符</span></span><br><span class="line">    <span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">findAnagrams</span><span class="params">(String s, String p)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; ans = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;();</span><br><span class="line">        <span class="keyword">if</span> (s == <span class="literal">null</span> || p == <span class="literal">null</span> || s.length() == <span class="number">0</span> || p.length() == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> ans;</span><br><span class="line">        &#125;</span><br><span class="line">        Map&lt;Character, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="type">char</span>[] pChar = p.toCharArray();</span><br><span class="line">        <span class="type">int</span> <span class="variable">pLen</span> <span class="operator">=</span> pChar.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">char</span> c: pChar) &#123;</span><br><span class="line">            map.put(c, map.getOrDefault(c, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">char</span>[] sChar = s.toCharArray();</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> map.size();     <span class="comment">// 还有count个不同的字符可选</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (right &lt; sChar.length) &#123;</span><br><span class="line">            <span class="keyword">if</span> (map.containsKey(sChar[right])) &#123;</span><br><span class="line">                map.put(sChar[right], map.get(sChar[right]) - <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span> (map.get(sChar[right]) == <span class="number">0</span>) &#123;</span><br><span class="line">                    count--;    <span class="comment">// 可选字符少了一个</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (count == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">if</span> (right - left + <span class="number">1</span> == pLen) &#123;</span><br><span class="line">                    ans.add(left);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (map.containsKey(sChar[left])) &#123;</span><br><span class="line">                    map.put(sChar[left], map.get(sChar[left]) + <span class="number">1</span>);</span><br><span class="line">                    <span class="keyword">if</span> (map.get(sChar[left]) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                        count++;    <span class="comment">// 恢复可选字符</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                left++;</span><br><span class="line">            &#125;</span><br><span class="line">            right++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/longest-substring-without-repeating-characters/description/">最长无重复字符的子串长度</a>、 <a target="_blank" rel="noopener" href="https://leetcode.com/problems/longest-substring-with-at-most-two-distinct-characters/description/">最长至多两个不同字符的字串长度</a>、  <a target="_blank" rel="noopener" href="https://leetcode.com/problems/longest-substring-with-at-most-k-distinct-characters/description/">最长至多k个不同字符的字串长度</a>.</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">lengthOfLongestSubstring</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s == <span class="literal">null</span> || s.length() == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Map&lt;Character, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="type">char</span>[] sChar = s.toCharArray();</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = <span class="number">0</span>, ans = <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (right &lt; sChar.length) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!map.containsKey(sChar[right])) &#123;   <span class="comment">// 首次出现</span></span><br><span class="line">            map.put(sChar[right], right);       <span class="comment">// 存出现的索引</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            ans = Math.max(ans, right - left);  <span class="comment">// 出现重复字符c，更新长度</span></span><br><span class="line">            left = Math.max(map.get(sChar[right]) + <span class="number">1</span>, left);   <span class="comment">// 跳到c上次出现索引的下一位或不动</span></span><br><span class="line">            map.put(sChar[right], right);       <span class="comment">// 更新c的&quot;最后一次出现索引&quot;</span></span><br><span class="line">        &#125;</span><br><span class="line">        right++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Math.max(ans, right - left);     <span class="comment">// 可能需要看最后一段</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 双指针，右指针负责加入新的字符，一旦和当前范围内除了最后出现字符的另一个字符不同，说明超过了2，则需要更新到最后出现字符首次出现处。</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">lengthOfLongestSubstringTwoDistinct</span><span class="params">(String s)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s == <span class="literal">null</span> || s.length() == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">firstIndex</span> <span class="operator">=</span> <span class="number">0</span>, lastIndex = -<span class="number">1</span>;</span><br><span class="line">    <span class="type">char</span>[] sChar = s.toCharArray();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; sChar.length; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (sChar[i] == sChar[i - <span class="number">1</span>]) &#123; <span class="comment">// 连续相同的，直接往后挪</span></span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (lastIndex &gt; -<span class="number">1</span> &amp;&amp; sChar[i] != sChar[lastIndex]) &#123;</span><br><span class="line">            ans = Math.max(ans, i - firstIndex);</span><br><span class="line">            firstIndex = lastIndex + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        lastIndex = i - <span class="number">1</span>;  <span class="comment">// sChar[i]与前一个字符不同，则前一个字符的最后一个出现位置是i - 1</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> Math.max(sChar.length - firstIndex, ans);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 双指针，right向前直到多过允许的k个，然后挪left直到恢复到k个</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">lengthOfLongestSubstringKDistinct</span><span class="params">(String s, <span class="type">int</span> k)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (s == <span class="literal">null</span> || s.length() == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    Map&lt;Character, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    <span class="type">int</span> <span class="variable">maxLen</span> <span class="operator">=</span> <span class="number">0</span>, currCharNum = <span class="number">0</span>, left = <span class="number">0</span>;</span><br><span class="line">    <span class="type">char</span>[] sChar = s.toCharArray();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> <span class="number">0</span>; right &lt; sChar.length; right++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!map.containsKey(sChar[right])) &#123;</span><br><span class="line">            currCharNum++;</span><br><span class="line">            map.put(sChar[right], <span class="number">1</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            map.put(sChar[right], map.get(sChar[right]) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (currCharNum &gt; k) &#123;</span><br><span class="line">            <span class="keyword">while</span> (currCharNum &gt; k &amp;&amp; left &lt; sChar.length) &#123;</span><br><span class="line">                <span class="type">Integer</span> <span class="variable">temp</span> <span class="operator">=</span> map.get(sChar[left]);</span><br><span class="line">                <span class="keyword">if</span> (temp == <span class="number">1</span>) &#123;</span><br><span class="line">                    map.remove(sChar[left]);</span><br><span class="line">                    currCharNum--;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    map.put(sChar[left], temp - <span class="number">1</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                left++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        maxLen = Math.max(maxLen, right - left + <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxLen;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>莉蔻还有类似的双指针破双字符串的题，如<a target="_blank" rel="noopener" href="https://leetcode.com/problems/minimum-window-substring/description/"> 76最小长度的substring </a>，即给一个t，求s中最短的字符串使得t中出现的字母都包含在该子串中。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">minWindow</span><span class="params">(String s, String t)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (s == <span class="literal">null</span> || t == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        Map&lt;Character, Integer&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="type">char</span>[] tChar = t.toCharArray();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">char</span> c: tChar) &#123;   <span class="comment">// 统计每个字母出现的频数</span></span><br><span class="line">            map.put(c, map.getOrDefault(c, <span class="number">0</span>) + <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">minLen</span> <span class="operator">=</span> Integer.MAX_VALUE, start = <span class="number">0</span>;</span><br><span class="line">        <span class="type">char</span>[] sChar = s.toCharArray();</span><br><span class="line">        <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> map.size();     <span class="comment">// count表示可用的不同字符数</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (right &lt; sChar.length) &#123;</span><br><span class="line">            <span class="keyword">if</span> (map.containsKey(sChar[right])) &#123;</span><br><span class="line">                map.put(sChar[right], map.get(sChar[right]) - <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span> (map.get(sChar[right]) == <span class="number">0</span>) &#123;</span><br><span class="line">                    count--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">while</span> (count == <span class="number">0</span>) &#123;    <span class="comment">// 没有avaliable的字符，需要左指针补回来</span></span><br><span class="line">                <span class="keyword">while</span> (!map.containsKey(sChar[left])) &#123;</span><br><span class="line">                    left++;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="type">int</span> <span class="variable">currLen</span> <span class="operator">=</span> right - left + <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">if</span> (minLen &gt; currLen) &#123;</span><br><span class="line">                    minLen = currLen;</span><br><span class="line">                    start = left;</span><br><span class="line">                &#125;</span><br><span class="line">                map.put(sChar[left], map.get(sChar[left]) + <span class="number">1</span>);</span><br><span class="line">                <span class="keyword">if</span> (map.get(sChar[left]) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                    count++;</span><br><span class="line">                &#125;</span><br><span class="line">                left++;</span><br><span class="line">            &#125;</span><br><span class="line">            right++;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> minLen == Integer.MAX_VALUE? <span class="string">&quot;&quot;</span>: s.substring(start, start + minLen);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>上面这个需要和<a target="_blank" rel="noopener" href="https://leetcode.com/problems/minimum-window-subsequence/description/"> 727最小长度的subsequence </a>区分，这里除了出现的字符一样，出现分的先后顺序也要一致。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">minWindow</span><span class="params">(String S, String T)</span> &#123;</span><br><span class="line">    <span class="comment">// 动态规划, 行为tLen + 1, 列为sLen + 1, dp[][]表示从dp[i][j]到j到这部分字符串是所求，</span></span><br><span class="line">    <span class="comment">// 即T[0, j)是S[0, i)的subsequence with substring S[dp[i][j], j).</span></span><br><span class="line">    <span class="comment">// 初始状态为</span></span><br><span class="line">    <span class="comment">// 状态转换为，若当前字符不匹配，则根据左侧（即S前一个字符）情况决定起始位置（保证最短）</span></span><br><span class="line">    <span class="comment">// 若匹配，则依赖于左上方的结果，即T前一个字符的起始位置。</span></span><br><span class="line">    <span class="comment">// 可进一步压缩空间到O(Slen)</span></span><br><span class="line">    <span class="keyword">if</span> (S == <span class="literal">null</span> || T == <span class="literal">null</span> || S.length() == <span class="number">0</span> || T.length() == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">char</span>[] sChar = S.toCharArray();</span><br><span class="line">    <span class="type">char</span>[] tChar = T.toCharArray();</span><br><span class="line">    <span class="type">int</span> <span class="variable">sLen</span> <span class="operator">=</span> sChar.length, tLen = tChar.length;</span><br><span class="line">    <span class="type">int</span>[] startFrom = <span class="keyword">new</span> <span class="title class_">int</span> [sLen + <span class="number">1</span>];</span><br><span class="line">    Arrays.fill(startFrom, -<span class="number">1</span>);</span><br><span class="line">    <span class="type">int</span> <span class="variable">firstOccur</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt;= sLen; j++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (sChar[j - <span class="number">1</span>] == tChar[<span class="number">0</span>]) &#123;</span><br><span class="line">            <span class="keyword">if</span> (firstOccur == -<span class="number">1</span>) &#123;</span><br><span class="line">                firstOccur = j - <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            startFrom[j] = j - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            startFrom[j] = startFrom[j - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">2</span>; i &lt;= tLen; i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">newFirstOccur</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> firstOccur + <span class="number">1</span>; j &lt;= sLen; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (sChar[j - <span class="number">1</span>] == tChar[i - <span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="keyword">if</span> (newFirstOccur == -<span class="number">1</span>) &#123;</span><br><span class="line">                    newFirstOccur = j - <span class="number">1</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                startFrom[j] = startFrom[j];    <span class="comment">// don&#x27;t change</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                startFrom[j] = startFrom[j - <span class="number">1</span>];</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        firstOccur = newFirstOccur;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> <span class="variable">start</span> <span class="operator">=</span> <span class="number">0</span>, end = sLen, minLen = Integer.MAX_VALUE;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> sLen; j &gt; <span class="number">0</span> &amp;&amp; startFrom[j] != -<span class="number">1</span>; j--) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">currLen</span> <span class="operator">=</span> j - startFrom[j];</span><br><span class="line">        <span class="keyword">if</span> (currLen &lt; minLen) &#123;</span><br><span class="line">            start = startFrom[j];</span><br><span class="line">            end = j;</span><br><span class="line">            minLen = currLen;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> minLen == Integer.MAX_VALUE? <span class="string">&quot;&quot;</span> : S.substring(start, end);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="stream-observer"><a href="#stream-observer" class="headerlink" title="stream observer"></a><a target="_blank" rel="noopener" href="http://www.1point3acres.com/bbs/forum.php?mod=viewthread&tid=308340&extra=page=1&filter=sortid&sortid=311&sortid=311">stream observer</a></h4><ul>
<li>已知一组字符串，每次观察一个输入的字符，若输入的字符顺序和字符串组里的match，就返回match的list，否则返回空。问题的形式让我有点懵，涉及到了interface，然后让我自己定义一个class，自定member variable， hierarchy等等</li>
<li>我是用sliding window加上trie做的。先找出list中最长单词的长度k。然后维护一个长度为k的window。建trie的时候注意是反向建，每个单词从最后一个字母开始往前建。同时查的时候也是从window的最右边往前查。但如果有多个匹配（例如abc, abcd都在List中），则需要返回List。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">StreamObserver</span> &#123;</span><br><span class="line">    StringBuilder stream;</span><br><span class="line">    <span class="type">int</span> maxLen;</span><br><span class="line">    TrieNode root;</span><br><span class="line">    List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">StreamObserver</span><span class="params">(String[] targets)</span> &#123;</span><br><span class="line">        root = <span class="keyword">new</span> <span class="title class_">TrieNode</span>();</span><br><span class="line">        maxLen = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; targets.length; i++) &#123;</span><br><span class="line">            maxLen = Math.max(targets[i].length(), maxLen);</span><br><span class="line">            insert(targets[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        stream = <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">putChar</span><span class="params">(<span class="type">char</span> c)</span> &#123;</span><br><span class="line">        stream.append(c);</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> stream.length();</span><br><span class="line">        <span class="type">String</span> <span class="variable">window</span> <span class="operator">=</span> stream.substring(Math.max(len - maxLen, <span class="number">0</span>), len);</span><br><span class="line">        System.out.println(<span class="string">&quot;stream: &quot;</span> + stream);</span><br><span class="line">        <span class="keyword">if</span> (stream.length() &gt; maxLen) &#123;</span><br><span class="line">            stream.deleteCharAt(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> search(window);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">TrieNode</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">boolean</span> isWord;</span><br><span class="line">        <span class="keyword">private</span> TrieNode[] next;</span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">TrieNode</span><span class="params">()</span> &#123;</span><br><span class="line">            isWord = <span class="literal">false</span>;</span><br><span class="line">            next = <span class="keyword">new</span> <span class="title class_">TrieNode</span>[<span class="number">26</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> TrieNode <span class="title function_">getNext</span><span class="params">(<span class="type">int</span> index)</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> next[index];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setNext</span><span class="params">(<span class="type">int</span> index, TrieNode newNode)</span> &#123;</span><br><span class="line">            next[index] = newNode;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">getIsWord</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> isWord;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setIsWord</span><span class="params">(<span class="type">boolean</span> val)</span> &#123;</span><br><span class="line">            isWord = val;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Inserts a word into the trie in reversed order. */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">insert</span><span class="params">(String word)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (word == <span class="literal">null</span> || word.length() == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">char</span>[] wordChar = word.toCharArray();</span><br><span class="line">        <span class="type">TrieNode</span> <span class="variable">curr</span> <span class="operator">=</span> root;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> wordChar.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> wordChar[i] - <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">            <span class="keyword">if</span> (curr.getNext(index) == <span class="literal">null</span>) &#123;</span><br><span class="line">                curr.setNext(index, <span class="keyword">new</span> <span class="title class_">TrieNode</span>());</span><br><span class="line">            &#125;</span><br><span class="line">            curr = curr.getNext(index);</span><br><span class="line">        &#125;</span><br><span class="line">        curr.setIsWord(<span class="literal">true</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">search</span><span class="params">(String word)</span> &#123;</span><br><span class="line">        <span class="type">char</span>[] wordChar = word.toCharArray();</span><br><span class="line">        <span class="type">TrieNode</span> <span class="variable">curr</span> <span class="operator">=</span> root;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> wordChar.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> wordChar[i] - <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line">            <span class="keyword">if</span> (curr.getNext(index) == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            curr = curr.getNext(index);</span><br><span class="line">            <span class="keyword">if</span> (curr.getIsWord()) &#123;</span><br><span class="line">                list.add(word.substring(i, wordChar.length));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> list;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    // Returns if the word is in the trie.</span></span><br><span class="line"><span class="comment">    public boolean search(String word) &#123;</span></span><br><span class="line"><span class="comment">        if (word == null || word.length() == 0) &#123;</span></span><br><span class="line"><span class="comment">            return false;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        char[] wordChar = word.toCharArray();</span></span><br><span class="line"><span class="comment">        TrieNode curr = root;</span></span><br><span class="line"><span class="comment">        for (int i = wordChar.length - 1; i &gt;= 0; i--) &#123;</span></span><br><span class="line"><span class="comment">            int index = wordChar[i] - &#x27;a&#x27;;</span></span><br><span class="line"><span class="comment">            if (curr.getNext(index) == null) &#123;</span></span><br><span class="line"><span class="comment">                return false;</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">            curr = curr.getNext(index);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        return curr.getIsWord();</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    </span></span><br><span class="line"><span class="comment">    // Returns if there is any word in the trie that starts with the given prefix.</span></span><br><span class="line"><span class="comment">    public boolean startsWith(String prefix) &#123;</span></span><br><span class="line"><span class="comment">        if (prefix == null || prefix.length() == 0) &#123;</span></span><br><span class="line"><span class="comment">            return false;</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        char[] prefixChar = prefix.toCharArray();</span></span><br><span class="line"><span class="comment">        TrieNode curr = root;</span></span><br><span class="line"><span class="comment">        for (int i = 0; i &lt; prefixChar.length; i++) &#123;</span></span><br><span class="line"><span class="comment">            int index = prefixChar[i] - &#x27;a&#x27;;</span></span><br><span class="line"><span class="comment">            if (curr.getNext(index) == null) &#123;</span></span><br><span class="line"><span class="comment">                return false;</span></span><br><span class="line"><span class="comment">            &#125;</span></span><br><span class="line"><span class="comment">            curr = curr.getNext(index);</span></span><br><span class="line"><span class="comment">        &#125;</span></span><br><span class="line"><span class="comment">        return true;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="有向无环图最长路径"><a href="#有向无环图最长路径" class="headerlink" title="有向无环图最长路径"></a><a target="_blank" rel="noopener" href="http://www.1point3acres.com/bbs/thread-304467-2-1.html">有向无环图最长路径</a></h4><ul>
<li>给出公司并购的关系列表，比如<code>[[&quot;baidu&quot;, &quot;ofo&quot;], [&quot;mobike&quot;, &quot;alibaba&quot;],...]</code>，表示baidu并购了ofo，摩拜并购了阿里巴巴。。。求最长的一个并购链。保证无环。</li>
<li>类似简化版拓扑，完整版拓扑可参考<a target="_blank" rel="noopener" href="https://leetcode.com/submissions/detail/104917065/">这个submission</a>，不过这里其实只需要找到入度为0的节点，然后更新可达点的同时更新所走的步数。</li>
</ul>
<h4 id="带时间戳的Map"><a href="#带时间戳的Map" class="headerlink" title="带时间戳的Map"></a><a target="_blank" rel="noopener" href="http://www.1point3acres.com/bbs/forum.php?mod=viewthread&tid=308322&extra=page=3&filter=sortid&sortid=311&sortid=311">带时间戳的Map</a></h4><ul>
<li>带时间戳的map:  <code>put(k, v, timestamp) get(k , timestamp)</code>EX:</li>
</ul>
 <figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">put(1, haha, 3)</span><br><span class="line">put(1, ha, 5)</span><br><span class="line">get(1, 0) -&gt; null</span><br><span class="line">get(1, 4) -&gt; haha</span><br><span class="line">get(1, 6) -&gt; ha</span><br></pre></td></tr></table></figure>
<ul>
<li>维护<code>Map&lt;Integer, Map&lt;Integer, String&gt;&gt;</code>，新插入的key就新建一个TreeMap，然后时间戳为key，String为value存入。读取的时候就取<code>floorKey(timestamp)</code>，也就是最接近的不大于timestamp的值，有的话即为所求了。</li>
<li>Follow-up是问用ArrayList, LinkedList, BST, Balanced BST实现的get和put的时间复杂度分别是多少。</li>
</ul>
<h4 id="树的遍历"><a href="#树的遍历" class="headerlink" title="树的遍历"></a><a target="_blank" rel="noopener" href="http://www.1point3acres.com/bbs/thread-307988-1-1.html">树的遍历</a></h4><ul>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/binary-tree-preorder-traversal/description/">preorder</a>, <a target="_blank" rel="noopener" href="https://leetcode.com/problems/binary-tree-inorder-traversal/description/">inorder</a>, <a target="_blank" rel="noopener" href="https://leetcode.com/problems/binary-tree-postorder-traversal/description/">post-order</a>。要求掌握iterative和recursive的方法。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">preorderTraversal</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    List&lt;Integer&gt; ans = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    stack.push(root);</span><br><span class="line">    <span class="keyword">while</span> (!stack.isEmpty()) &#123;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">curr</span> <span class="operator">=</span> stack.pop();<span class="comment">// 栈顶的先输出</span></span><br><span class="line">        ans.add(curr.val);</span><br><span class="line">        <span class="keyword">if</span> (curr.right != <span class="literal">null</span>) &#123;   <span class="comment">// 栈优先push右子（让它晚点出来）</span></span><br><span class="line">            stack.push(curr.right);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (curr.left != <span class="literal">null</span>) &#123;</span><br><span class="line">            stack.push(curr.left);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">inorderTraversal</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    List&lt;Integer&gt; ans = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    Stack&lt;TreeNode&gt; s = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">curr</span> <span class="operator">=</span> root;</span><br><span class="line">    <span class="keyword">while</span> (curr != <span class="literal">null</span> || !s.isEmpty()) &#123;</span><br><span class="line">        <span class="keyword">while</span> (curr != <span class="literal">null</span>) &#123;</span><br><span class="line">            s.push(curr);</span><br><span class="line">            curr = curr.left;   <span class="comment">// 栈总是优先push左子</span></span><br><span class="line">        &#125;</span><br><span class="line">        curr = s.pop();         <span class="comment">// 直到无左子</span></span><br><span class="line">        ans.add(curr.val);</span><br><span class="line">        curr = curr.right;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title function_">postorderTraversal</span><span class="params">(TreeNode root)</span> &#123;</span><br><span class="line">    List&lt;Integer&gt; ans = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">if</span> (root == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    Stack&lt;Integer&gt; val = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;&gt;();</span><br><span class="line">    stack.push(root);</span><br><span class="line">    <span class="keyword">while</span> (!stack.isEmpty()) &#123;</span><br><span class="line">        <span class="type">TreeNode</span> <span class="variable">curr</span> <span class="operator">=</span> stack.pop();</span><br><span class="line">        <span class="keyword">if</span> (curr.left != <span class="literal">null</span>) &#123;</span><br><span class="line">            stack.push(curr.left);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (curr.right != <span class="literal">null</span>) &#123;</span><br><span class="line">            stack.push(curr.right);</span><br><span class="line">        &#125;</span><br><span class="line">        val.push(curr.val); <span class="comment">// 栈顶的晚输出</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (!val.isEmpty()) &#123;</span><br><span class="line">        ans.add(val.pop());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Frequencey-Iterator-类似于利口604"><a href="#Frequencey-Iterator-类似于利口604" class="headerlink" title="Frequencey Iterator (类似于利口604)"></a>Frequencey Iterator (类似于<a target="_blank" rel="noopener" href="https://leetcode.com/problems/design-compressed-string-iterator/description/">利口604</a>)</h4><ul>
<li>给一个int数组，奇数位是count偶数位是number，实现next和hasNext函数。如<code>[2,4,0,9,5,3]</code>，那输出就是<code>[4,4,3,3,3,3,3]</code>。</li>
<li>自定义类保存数字和对应的频数，然后入Queue开始输出就好了。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">FreqNumber</span> &#123;</span><br><span class="line">    <span class="type">int</span> freq;</span><br><span class="line">    <span class="type">int</span> num;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">FreqNumber</span><span class="params">(<span class="type">int</span> freq, <span class="type">int</span> num)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.freq = freq;</span><br><span class="line">        <span class="built_in">this</span>.num = num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyIterator</span> &#123;</span><br><span class="line">    Queue&lt;FreqNumber&gt; queue;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MyIterator</span><span class="params">(<span class="type">int</span>[] array)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, n = array.length;    <span class="comment">// 需要保证是偶数个元素</span></span><br><span class="line">        queue = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span> (i + <span class="number">1</span> &lt; n) &#123;</span><br><span class="line">            <span class="keyword">if</span> (array[i] &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                queue.add(<span class="keyword">new</span> <span class="title class_">FreqNumber</span>(array[i], array[i + <span class="number">1</span>]));</span><br><span class="line">            &#125;</span><br><span class="line">            i += <span class="number">2</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">next</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">if</span> (!hasNext()) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Exception</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">FreqNumber</span> <span class="variable">top</span> <span class="operator">=</span> queue.peek();</span><br><span class="line">        <span class="keyword">if</span> (--top.freq == <span class="number">0</span>) &#123;</span><br><span class="line">            queue.poll();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> top.num;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> !queue.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="toeplitz-matrix"><a href="#toeplitz-matrix" class="headerlink" title="toeplitz matrix"></a><a target="_blank" rel="noopener" href="http://www.1point3acres.com/bbs/thread-304508-1-1.html">toeplitz matrix</a></h4><ul>
<li>判断一matrix是不是toeplitz matrix, 就是所有左上到右下对角线的数字都相等。</li>
<li>对角线方向元素其实就是相邻两行元素的前后判断。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Google</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isToeplitzMatrix</span><span class="params">(<span class="type">int</span>[][] matrix)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (matrix == <span class="literal">null</span> || matrix.length == <span class="number">0</span> || matrix[<span class="number">0</span>].length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">rows</span> <span class="operator">=</span> matrix.length, cols = matrix[<span class="number">0</span>].length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; rows; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt; cols; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (matrix[i][j] != matrix[i - <span class="number">1</span>][j - <span class="number">1</span>]) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>follow-up: 如果matrix特别大，每次只能存两行，只用matrix提供的<code>matrix.next</code>, <code>matrix.has_next</code>, 和<code>matrix.size</code>实现。其实上面的方法已经只存两行了。</li>
</ul>
<h4 id="3sum"><a href="#3sum" class="headerlink" title="3sum"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/3sum/description/">3sum</a></h4><ul>
<li>给一个数组，求其中所有的a, b, c使得<code>a + b + c == 0</code></li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; <span class="title function_">threeSum</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        List&lt;List&lt;Integer&gt;&gt; ans = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="literal">null</span> || nums.length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> ans;</span><br><span class="line">        &#125;   </span><br><span class="line">        Arrays.sort(nums);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; nums.length; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; nums[i] == nums[i - <span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// 固定nums[i]用双指针找后面两个数b, c，使b + c == 0 - nums[i]</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> i + <span class="number">1</span>, right = nums.length - <span class="number">1</span>, target = <span class="number">0</span> - nums[i];</span><br><span class="line">            <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> nums[left] + nums[right];</span><br><span class="line">                <span class="keyword">if</span> (sum == target) &#123;</span><br><span class="line">                    List&lt;Integer&gt; currList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">                    currList.add(nums[i]);</span><br><span class="line">                    currList.add(nums[left]);</span><br><span class="line">                    currList.add(nums[right]);</span><br><span class="line">                    ans.add(currList);</span><br><span class="line">                    left++;</span><br><span class="line">                    right++;</span><br><span class="line">                    <span class="keyword">while</span> (left &lt; right &amp;&amp; nums[left] == nums[left - <span class="number">1</span>]) &#123;    <span class="comment">// 避免重复</span></span><br><span class="line">                        left++;</span><br><span class="line">                    &#125;</span><br><span class="line">                    <span class="keyword">while</span> (right &gt; left &amp;&amp; nums[right] == nums[right + <span class="number">1</span>]) &#123;  <span class="comment">// 避免重复</span></span><br><span class="line">                        right++;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sum &lt; target) &#123;</span><br><span class="line">                    left++;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    right--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>
<h4 id="validate-2D-array"><a href="#validate-2D-array" class="headerlink" title="validate 2D array"></a><a target="_blank" rel="noopener" href="http://www.1point3acres.com/bbs/thread-308429-1-1.html">validate 2D array</a></h4><ul>
<li>2-D array，里面有R,G,B,Y四种类型的element，如果横竖没有三个element是同一类型的话，这个2-Darray就是valid的。先让写个function判断一个2-D array是否valid。</li>
<li>感觉和那个OOXX(<a target="_blank" rel="noopener" href="https://leetcode.com/problems/design-tic-tac-toe/description/">348 Design tic tac toe</a>)的游戏很像，不过就不能通过简单的加一减一来搞了。这里就是暴力了，判断当前字符的前一行、下一行，以及前一列、下一列。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="title function_">isValidMatrix</span><span class="params">(<span class="type">char</span>[][] matrix)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (matrix == <span class="literal">null</span> || matrix.length == <span class="number">0</span> || matrix[<span class="number">0</span>].length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">rows</span> <span class="operator">=</span> matrix.length, cols = matrix[<span class="number">0</span>].length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; rows; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; cols; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; matrix[i - <span class="number">1</span>][j] == matrix[i][j]) &#123;  <span class="comment">// 等于上一行</span></span><br><span class="line">                <span class="keyword">if</span> (i + <span class="number">1</span> &lt; rows &amp;&amp; matrix[i + <span class="number">1</span>][j] == matrix[i][j]) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;	<span class="comment">// 判断下一行</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            colBucket[j] = matrix[i][j];</span><br><span class="line">            <span class="keyword">if</span> (j &gt; <span class="number">0</span> &amp;&amp; matrix[i][j] == matrix[i][j - <span class="number">1</span>]) &#123;</span><br><span class="line">                <span class="keyword">if</span> (j + <span class="number">1</span> &lt; cols &amp;&amp; matrix[i][j + <span class="number">1</span>] == matrix[i][j]) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    j++;</span><br><span class="line">                    <span class="keyword">if</span> (j &lt; cols) &#123;</span><br><span class="line">                        colBucket[j] = matrix[i][j];</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>follow-up：能否并行化计算？各种方式有什么优劣？可以replicate原array，每个thread只处理一个颜色。也可以划分成小块，但是边界线情况讨论起来特别复杂，而且会有很多个thread。</li>
</ul>
<h4 id="2D-array-search-sum"><a href="#2D-array-search-sum" class="headerlink" title="2D array search &amp; sum"></a><a target="_blank" rel="noopener" href="http://www.1point3acres.com/bbs/forum.php?mod=viewthread&tid=306855&extra=page=7&filter=sortid&sortid=311&page=1">2D array search &amp; sum</a></h4><ul>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/search-a-2d-matrix-ii/description/">240 Search a 2D Matrix II</a>，可以直接从第一行的最大列开始找，因为右下方的一定是比当前元素大的，所以只需要查找左下和左前即可。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// O(M + N)</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">searchMatrix</span><span class="params">(<span class="type">int</span>[][] matrix, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (matrix == <span class="literal">null</span> || matrix.length &lt; <span class="number">1</span> || matrix[<span class="number">0</span>].length &lt;<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">col</span> <span class="operator">=</span> matrix[<span class="number">0</span>].length - <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">row</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (col &gt;= <span class="number">0</span> &amp;&amp; row &lt;= matrix.length-<span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (target == matrix[row][col]) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &lt; matrix[row][col]) &#123;</span><br><span class="line">            col--;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &gt; matrix[row][col]) &#123;</span><br><span class="line">            row++;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li><a target="_blank" rel="noopener" href="https://leetcode.com/problems/range-sum-query-2d-immutable/description/">304. Range Sum Query 2D - Immutable</a> 也是缓存中间结果的思想，利用额外的O(MN)的空间存下来，需要取sum的时候就减左侧、上侧再加回左上侧结果即可。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">int</span>[][] sumRegion;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">NumMatrix</span><span class="params">(<span class="type">int</span>[][] matrix)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (matrix.length != <span class="number">0</span>)  sumRegion = <span class="keyword">new</span> <span class="title class_">int</span>[matrix.length + <span class="number">1</span>][matrix[<span class="number">0</span>].length + <span class="number">1</span>];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; matrix.length; i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; matrix[<span class="number">0</span>].length; j++) &#123;</span><br><span class="line">            sum += matrix[i][j];</span><br><span class="line">            sumRegion[i + <span class="number">1</span>][j + <span class="number">1</span>] = sum + sumRegion[i][j + <span class="number">1</span>]; </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sumRegion</span><span class="params">(<span class="type">int</span> row1, <span class="type">int</span> col1, <span class="type">int</span> row2, <span class="type">int</span> col2)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> sumRegion[row2 + <span class="number">1</span>][col2 + <span class="number">1</span>] - sumRegion[row1][col2 + <span class="number">1</span>] - sumRegion[row2 + <span class="number">1</span>][col1] + sumRegion[row1][col1];</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>follow-up是如果要对矩阵时不时进行更新怎么办。如果还是用上面这个的思路，返回sumRegion的时间就不再是constant了，同时update也不是constant。为了更新，还需要把matrix存下来（必须的）。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">int</span>[][] sumRegion;</span><br><span class="line"><span class="keyword">private</span> <span class="type">int</span>[][] matrix;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">NumMatrix</span><span class="params">(<span class="type">int</span>[][] matrix)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(   matrix           == <span class="literal">null</span></span><br><span class="line">       || matrix.length    == <span class="number">0</span></span><br><span class="line">       || matrix[<span class="number">0</span>].length == <span class="number">0</span>   )&#123;</span><br><span class="line">        <span class="keyword">return</span>;   </span><br><span class="line">     &#125;</span><br><span class="line">     </span><br><span class="line">     <span class="built_in">this</span>.matrix = matrix;</span><br><span class="line">     </span><br><span class="line">     <span class="type">int</span> <span class="variable">m</span>   <span class="operator">=</span> matrix.length;</span><br><span class="line">     <span class="type">int</span> <span class="variable">n</span>   <span class="operator">=</span> matrix[<span class="number">0</span>].length;</span><br><span class="line">     sumRegion = <span class="keyword">new</span> <span class="title class_">int</span>[m + <span class="number">1</span>][n];</span><br><span class="line">     <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= m; i++)&#123;</span><br><span class="line">         <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; n; j++)&#123;</span><br><span class="line">             sumRegion[i][j] = sumRegion[i - <span class="number">1</span>][j] + matrix[i - <span class="number">1</span>][j];</span><br><span class="line">         &#125;</span><br><span class="line">     &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//time complexity for the worst case scenario: O(m)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(<span class="type">int</span> row, <span class="type">int</span> col, <span class="type">int</span> val)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> row + <span class="number">1</span>; i &lt; sumRegion.length; i++)&#123;</span><br><span class="line">        sumRegion[i][col] = sumRegion[i][col] - matrix[row][col] + val;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    matrix[row][col] = val;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//time complexity for the worst case scenario: O(n)</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">sumRegion</span><span class="params">(<span class="type">int</span> row1, <span class="type">int</span> col1, <span class="type">int</span> row2, <span class="type">int</span> col2)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">ret</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> col1; j &lt;= col2; j++)&#123;</span><br><span class="line">        ret += sumRegion[row2 + <span class="number">1</span>][j] - sumRegion[row1][j];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> ret;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>另一个高效办法是Binary Index Tree。我们先看看<a target="_blank" rel="noopener" href="https://leetcode.com/problems/range-sum-query-mutable/description/">range sum 1D</a>的情况，2D的暂时放一放。。。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] nums;</span><br><span class="line"><span class="type">int</span>[] BIT;</span><br><span class="line"><span class="type">int</span> n;</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">RangeSum</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.nums = nums;</span><br><span class="line">    <span class="built_in">this</span>.n = nums.length;</span><br><span class="line">    <span class="built_in">this</span>.BIT = <span class="keyword">new</span> <span class="title class_">int</span>[n + <span class="number">1</span>];  <span class="comment">// n + 1</span></span><br><span class="line">    initiateBIT();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">lowestBit</span><span class="params">(<span class="type">int</span> x)</span> &#123;   <span class="comment">// 获取最低位的1</span></span><br><span class="line">    <span class="keyword">return</span> x &amp; -x;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">initiateBIT</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= n; i++)&#123;</span><br><span class="line">        <span class="built_in">this</span>.BIT[i] = <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &gt; i - lowestBit(i); j--)&#123;</span><br><span class="line">            <span class="built_in">this</span>.BIT[i] = <span class="built_in">this</span>.BIT[i] + nums[j - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="comment">//每次都只有后继节点会根据当前节点的变化而变化， 所以步长是i + lowestBit(i)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">update</span><span class="params">(<span class="type">int</span> index, <span class="type">int</span> val)</span>&#123;	</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> index + <span class="number">1</span>; i &lt;= <span class="built_in">this</span>.n; i = i + lowestBit(i))&#123;</span><br><span class="line">        <span class="built_in">this</span>.BIT[i] = <span class="built_in">this</span>.BIT[i] - <span class="built_in">this</span>.nums[index] + val;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">this</span>.nums[index] = val;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//和为所有前驱节点相加， 所以步长是i - lowestBit(i)</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getSum</span><span class="params">(<span class="type">int</span> k)</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> k + <span class="number">1</span>; i &gt; <span class="number">0</span>; i = i - lowestBit(i))&#123;</span><br><span class="line">        sum = sum + <span class="built_in">this</span>.BIT[i];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getRangeSum</span><span class="params">(<span class="type">int</span> i, <span class="type">int</span> j)</span>&#123;</span><br><span class="line">    <span class="keyword">return</span> getSum(j) - getSum(i - <span class="number">1</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="voting-with-timestamp"><a href="#voting-with-timestamp" class="headerlink" title="voting with timestamp"></a><a target="_blank" rel="noopener" href="http://www.1point3acres.com/bbs/forum.php?mod=viewthread&tid=301684&extra=page=7&filter=sortid&sortid=311&sortid=311">voting with timestamp</a></h4><ul>
<li>给一个<code>voteList=[(a, 100), (b, 150), (a, 200)]  #(name, timestamp)</code>和时间T，找T时间之前, 得票数最高的人(或任一得票数最高的人)。</li>
<li>直接扫一波vote list，只保留在时间T之前的票存到Map中，顺便记下一个最大值和对应的人名。</li>
<li>follow-up：给voteList、时间T，求top k候选人的list。也是先O(N)扫一波统计，然后再一波loop存入Heap，如果Heap规模达到k就需要比较堆顶和当前票数，若当前票数更大就需要把出堆再push。</li>
<li>follow-up：给voteList、top k候选人的list，求时间T。只想到最暴力的办法，先把所有出现过的时间t存入从小到大的PriorityQueue，然后从小到大暴力搜“给定voteList和T”，看看求得的list和所给的list是否一致。不过这里每次不是从头开始做，而是累加，即前一个t不行，就取优先队列中的下一个t继续往后加，不用从头来过。</li>
</ul>
<h4 id="feed-tree"><a href="#feed-tree" class="headerlink" title="feed tree"></a><a target="_blank" rel="noopener" href="http://www.1point3acres.com/bbs/thread-290121-1-1.html">feed tree</a></h4><ul>
<li>一棵树，所有节点的value都是正整数，问只能增加某些节点值的情况下，如何调整使得从root到所有leaf的path上经过的节点值之和相等，返回增加的值的和，使这个和最小.</li>
<li>类似贪心，在后续遍历的过程中顺便求叶子到当前节点的和并返回，再用全局变量根据左右两边孩子的差值确定需要补多少，更新的条件是该节点一定有两个孩子来比较，这样就能保证和最小。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">      1</span></span><br><span class="line"><span class="comment">     / \</span></span><br><span class="line"><span class="comment">    2   3</span></span><br><span class="line"><span class="comment">   / \ / \</span></span><br><span class="line"><span class="comment">  3  2 2  4</span></span><br><span class="line"><span class="comment">        \</span></span><br><span class="line"><span class="comment">         1</span></span><br><span class="line"><span class="comment">      1</span></span><br><span class="line"><span class="comment">     / \</span></span><br><span class="line"><span class="comment">    4   3</span></span><br><span class="line"><span class="comment">   / \ / \</span></span><br><span class="line"><span class="comment">  3  3 3  4</span></span><br><span class="line"><span class="comment">        \</span></span><br><span class="line"><span class="comment">         1</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> ans;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">minAddToTree</span><span class="params">(TreeNode root)</span>&#123;</span><br><span class="line">        <span class="comment">// supposing the tree is binary tree</span></span><br><span class="line">        ans = <span class="number">0</span>;</span><br><span class="line">        feedTree(root);</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">feedTree</span><span class="params">(TreeNode root)</span>&#123;</span><br><span class="line">        <span class="comment">// this funciton &#x27;feed&#x27; the tree to make all root-&gt;leaf path sums equal</span></span><br><span class="line">        <span class="comment">// return: path sum of the tree.</span></span><br><span class="line">        <span class="keyword">if</span> (root == <span class="literal">null</span>) </span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">leftPath</span> <span class="operator">=</span> feedTree(root.left);</span><br><span class="line">        <span class="type">int</span> <span class="variable">rightPath</span> <span class="operator">=</span> feedTree(root.right);</span><br><span class="line">        <span class="keyword">if</span> (leftPath != <span class="number">0</span> &amp;&amp; rightPath != <span class="number">0</span>) <span class="comment">// check if one child is null, if so no need to feed</span></span><br><span class="line">            ans += Math.abs(leftPath - rightPath);</span><br><span class="line">        <span class="keyword">return</span> Math.max(leftPath, rightPath) + root.val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="remove-node"><a href="#remove-node" class="headerlink" title="remove node"></a><a target="_blank" rel="noopener" href="http://www.1point3acres.com/bbs/thread-289090-1-1.html">remove node</a></h4><ul>
<li>Given a binary tree, write a function to erase a list of nodes from the tree and return the forest created from this operation.自己决定输入输出形式，自己定义treenode结构.</li>
<li>一个思路是，可以在TreeNode中增加parent节点，这样在删除的时候就方便很多，直接设置就可以了。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TreeNode</span> &#123;</span><br><span class="line">    <span class="type">int</span> val;</span><br><span class="line">    TreeNode left, right, parent;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">TreeNode</span><span class="params">(<span class="type">int</span> val)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.val = val;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>如果不加parent，就需要通过postOrder遍历，先递归到当前节点的左和右孩子，再看看孩子是否要删掉，是就直接设为null。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> List&lt;TreeNode&gt; <span class="title function_">delete</span><span class="params">(TreeNode root, List&lt;TreeNode&gt; toRemove)</span> &#123;</span><br><span class="line">    List&lt;TreeNode&gt; res = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;TreeNode&gt;();</span><br><span class="line">    <span class="type">TreeNode</span> <span class="variable">root1</span> <span class="operator">=</span> postorder(root, toRemove, res);</span><br><span class="line">    <span class="keyword">if</span>(root1 != <span class="literal">null</span>) res.add(root);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> TreeNode <span class="title function_">postorder</span><span class="params">(TreeNode root, List&lt;TreeNode&gt; toRemove, List&lt;TreeNode&gt; res)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span>(root == <span class="literal">null</span>) <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    root.left = postorder(root.left, toRemove, res);</span><br><span class="line">    root.right = postorder(root.right, toRemove, res);</span><br><span class="line">    <span class="keyword">if</span> (toRemove.contains(root)) &#123;  <span class="comment">// 当前节点需要删除</span></span><br><span class="line">        <span class="keyword">if</span> (root.left != <span class="literal">null</span>) res.add(root.left);</span><br><span class="line">        <span class="keyword">if</span> (root.right != <span class="literal">null</span>) res.add(root.right);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> root;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="361-Bomb-Enemy"><a href="#361-Bomb-Enemy" class="headerlink" title="361. Bomb Enemy"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/bomb-enemy/discuss/">361. Bomb Enemy</a></h4><ul>
<li>给一个只含有<code>0, W, E</code>的char棋盘，炸弹只能放在0处，炸弹可以向上下左右扩散，求一颗炸弹最多炸死多少E。</li>
<li>对于每一行统计敌人数，一旦遇到W就重置为0；对于每一列则需要维护额外的一个数组，也是遇到W就重置。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="comment">// O(MN)统计每行、每列可杀E的数量，一旦前面（左或上）碰到W就要重新算一遍</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">maxKilledEnemies</span><span class="params">(<span class="type">char</span>[][] grid)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (grid == <span class="literal">null</span> || grid.length == <span class="number">0</span> || grid[<span class="number">0</span>].length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">rows</span> <span class="operator">=</span> grid.length, cols = grid[<span class="number">0</span>].length;</span><br><span class="line">        <span class="type">int</span> <span class="variable">ans</span> <span class="operator">=</span> <span class="number">0</span>, rowCount = <span class="number">0</span>;</span><br><span class="line">        <span class="type">int</span>[] colCount = <span class="keyword">new</span> <span class="title class_">int</span> [cols];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; rows; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; cols; j++) &#123;</span><br><span class="line">                <span class="keyword">if</span> (j == <span class="number">0</span> || grid[i][j - <span class="number">1</span>] == <span class="string">&#x27;W&#x27;</span>) &#123;  <span class="comment">// 当上一列是W，就重新往右算当前列可以杀多少E</span></span><br><span class="line">                    rowCount = <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> j; k &lt; cols &amp;&amp; grid[i][k] != <span class="string">&#x27;W&#x27;</span>; k++) &#123;   <span class="comment">// 不会提升复杂度因为只有前一个是W才会开始、到W就结束</span></span><br><span class="line">                        <span class="keyword">if</span> (grid[i][k] == <span class="string">&#x27;E&#x27;</span>) &#123;</span><br><span class="line">                            rowCount++;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (i == <span class="number">0</span> || grid[i - <span class="number">1</span>][j] == <span class="string">&#x27;W&#x27;</span>) &#123;  <span class="comment">// 当上一行是W，就重新往下算当前列可以杀多少E</span></span><br><span class="line">                    colCount[j] = <span class="number">0</span>;</span><br><span class="line">                    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> i; k &lt; rows &amp;&amp; grid[k][j] != <span class="string">&#x27;W&#x27;</span>; k++) &#123;</span><br><span class="line">                        <span class="keyword">if</span> (grid[k][j] == <span class="string">&#x27;E&#x27;</span>) &#123;</span><br><span class="line">                            colCount[j]++;</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (grid[i][j] == <span class="string">&#x27;0&#x27;</span>) &#123;</span><br><span class="line">                    ans = Math.max(ans, rowCount + colCount[j]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// else if (grid[i][j] == &#x27;E&#x27;) &#123;</span></span><br><span class="line">                <span class="comment">// 	ans = Math.max(ans, rowCount + colCount[j] - 1);</span></span><br><span class="line">                <span class="comment">// &#125;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>follow-up：如果在E上也可以放炸弹，要如何修改？那么就加多一个判断是否等于<code>E</code>的步骤，见上面注释部分。</li>
</ul>
<p>以上是地里大概找的一部分面经。</p>
<hr>
<p>以下是利口上的孤狗tag题。</p>
<h4 id="4-Median-of-2-sorted-arrays"><a href="#4-Median-of-2-sorted-arrays" class="headerlink" title="4. Median of 2 sorted arrays"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/median-of-two-sorted-arrays/#/solutions">4. Median of 2 sorted arrays</a></h4><ul>
<li>给两个有序int数组，返回二者合并后的中位数。</li>
<li><code>O(M + N)</code>：归并排序依次合并，合并到一半长度知道中位数了。</li>
<li><code>O(log(M + N))</code>：<a target="_blank" rel="noopener" href="https://discuss.leetcode.com/topic/4996/share-my-o-log-min-m-n-solution-with-explanation">中位数是用来将数组分割成相等长度的两部分的</a>，因此使用二分查找找出刚好能分成等长的两部分并且前部分的最大值&lt;&#x3D;后部分的最小值。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"> <span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">findMedianSortedArrays</span><span class="params">(<span class="type">int</span>[] nums1, <span class="type">int</span>[] nums2)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums1 == <span class="literal">null</span> || nums2 == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">m</span> <span class="operator">=</span> nums1.length, n = nums2.length;</span><br><span class="line">        <span class="keyword">if</span> (nums1.length &gt; nums2.length) &#123;  <span class="comment">// ensure the len of 1 &lt;= 2</span></span><br><span class="line">            <span class="keyword">return</span> findMedianSortedArrays(nums2, nums1);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">// to ensure equality of the two parts after merged, i + j = m - i + n - j</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">iLo</span> <span class="operator">=</span> <span class="number">0</span>, iHi = m, allMid = (n + m + <span class="number">1</span>) / <span class="number">2</span>; <span class="comment">// merge odd / even case</span></span><br><span class="line">        </span><br><span class="line">        <span class="comment">// i stands for &quot;how many num taken from nums1 as front part&quot; 0 ~ i-1 | i ~ m-1</span></span><br><span class="line">        <span class="comment">// j stands for &quot;how many num taken from nums2 as front part&quot; 0 ~ j-1 | j ~ n-1</span></span><br><span class="line">        <span class="keyword">while</span> (iLo &lt;= iHi) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> (iLo + iHi) / <span class="number">2</span>, j = allMid - i;</span><br><span class="line">            </span><br><span class="line">            <span class="comment">// nums1[i-1], nums2[j-1] are the largest element of front part of nums1, nums2</span></span><br><span class="line">            <span class="comment">// nums1[i], nums2[j] are the smallest of lag part of nums1, nums2</span></span><br><span class="line">            <span class="keyword">if</span> (i &lt; m &amp;&amp; nums2[j - <span class="number">1</span>] &gt; nums1[i]) &#123; <span class="comment">// i not big enough</span></span><br><span class="line">                iLo = i + <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; nums1[i - <span class="number">1</span>] &gt; nums2[j]) &#123;</span><br><span class="line">                iHi = i - <span class="number">1</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">maxLeft</span> <span class="operator">=</span> <span class="number">0</span>, minRight = <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</span><br><span class="line">                    maxLeft = nums2[j - <span class="number">1</span>];</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (j == <span class="number">0</span>) &#123;</span><br><span class="line">                    maxLeft = nums1[i - <span class="number">1</span>];</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    maxLeft = Math.max(nums1[i - <span class="number">1</span>], nums2[j - <span class="number">1</span>]);</span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span> ((m + n) % <span class="number">2</span> == <span class="number">1</span>) &#123; <span class="comment">// I think thats why to make (allMid = (n + m + 1)/2)</span></span><br><span class="line">                    <span class="keyword">return</span> maxLeft;     <span class="comment">// -- to make left part always at least no fewer than right</span></span><br><span class="line">                &#125;</span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span> (i == m) &#123;</span><br><span class="line">                    minRight = nums2[j];</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (j == n) &#123;</span><br><span class="line">                    minRight = nums1[i];</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    minRight = Math.min(nums1[i], nums2[j]);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> (maxLeft + minRight) / <span class="number">2.0</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="17-letter-combinations"><a href="#17-letter-combinations" class="headerlink" title="17. letter-combinations"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/letter-combinations-of-a-phone-number/#/description">17. letter-combinations</a></h4><ul>
<li>给一串数字的字符串，求这些数字可能输出的所有字母字符串，对应关系为手机的按键。</li>
<li>DFS：</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">letterCombinations</span><span class="params">(String digits)</span> &#123;</span><br><span class="line">        List&lt;String&gt; ans = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (digits == <span class="literal">null</span> || digits.length() == <span class="number">0</span> </span><br><span class="line">           || digits.indexOf(<span class="string">&#x27;1&#x27;</span>) &gt;= <span class="number">0</span> || digits.indexOf(<span class="string">&#x27;0&#x27;</span>) &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> ans;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">char</span>[][] num2Char = <span class="keyword">new</span> <span class="title class_">char</span> [][] &#123;</span><br><span class="line">            &#123;&#125;, </span><br><span class="line">            &#123;&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;f&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;g&#x27;</span>, <span class="string">&#x27;h&#x27;</span>, <span class="string">&#x27;i&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;j&#x27;</span>, <span class="string">&#x27;k&#x27;</span>, <span class="string">&#x27;l&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;m&#x27;</span>, <span class="string">&#x27;n&#x27;</span>, <span class="string">&#x27;o&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;p&#x27;</span>, <span class="string">&#x27;q&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;s&#x27;</span>&#125;,</span><br><span class="line">            &#123;<span class="string">&#x27;t&#x27;</span>, <span class="string">&#x27;u&#x27;</span>, <span class="string">&#x27;v&#x27;</span>&#125;, </span><br><span class="line">            &#123;<span class="string">&#x27;w&#x27;</span>, <span class="string">&#x27;x&#x27;</span>, <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;z&#x27;</span>&#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        </span><br><span class="line">        <span class="type">char</span>[] str = digits.toCharArray();</span><br><span class="line">        dfs(str, <span class="number">0</span>, num2Char, <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(), ans);</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">char</span>[] str, <span class="type">int</span> index, <span class="keyword">final</span> <span class="type">char</span>[][] num2Char, StringBuilder sb, List&lt;String&gt; ans)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (index == str.length) &#123;</span><br><span class="line">            ans.add(sb.toString());</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> str[index] - <span class="string">&#x27;0&#x27;</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; num2Char[temp].length; i++) &#123;</span><br><span class="line">            sb.append(num2Char[temp][i]);</span><br><span class="line">            dfs(str, index + <span class="number">1</span>, num2Char, sb, ans);</span><br><span class="line">            sb.deleteCharAt(sb.length() - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="20-valid-parentheses"><a href="#20-valid-parentheses" class="headerlink" title="20. valid-parentheses"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/valid-parentheses/#/description">20. valid-parentheses</a></h4><ul>
<li>给一个字符串，判断其中三种括号<code>(), [], &#123;&#125;</code>是否匹配。</li>
<li>Stack: 左括号本身并不入栈，而是它对应的右括号入栈，这样当右括号出现的时候只需判断二者是否相等或者是否栈已经空了即可。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isValid</span><span class="params">(String s)</span> &#123;</span><br><span class="line">	Stack&lt;Character&gt; stack = <span class="keyword">new</span> <span class="title class_">Stack</span>&lt;Character&gt;();</span><br><span class="line">	<span class="keyword">for</span> (<span class="type">char</span> c : s.toCharArray()) &#123;</span><br><span class="line">		<span class="keyword">if</span> (c == <span class="string">&#x27;(&#x27;</span>)</span><br><span class="line">			stack.push(<span class="string">&#x27;)&#x27;</span>);</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">&#x27;&#123;&#x27;</span>)</span><br><span class="line">			stack.push(<span class="string">&#x27;&#125;&#x27;</span>);</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">&#x27;[&#x27;</span>)</span><br><span class="line">			stack.push(<span class="string">&#x27;]&#x27;</span>);</span><br><span class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (stack.isEmpty() || stack.pop() != c)</span><br><span class="line">			<span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> stack.isEmpty();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="22-generate-parentheses"><a href="#22-generate-parentheses" class="headerlink" title="22. generate-parentheses"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/generate-parentheses/#/description">22. generate-parentheses</a></h4><ul>
<li>给一个int表示括号的对儿数，输出所有符合括号匹配规则的字符串，存入List中返回。</li>
<li>DFS：左括号、右括号分别</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">// O(2^2n)?</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> List&lt;String&gt; <span class="title function_">generateParenthesis</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        List&lt;String&gt; ans = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">if</span> (n &lt; <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> ans;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        dfs(n, <span class="number">0</span>, <span class="number">0</span>, <span class="string">&quot;&quot;</span>, ans);</span><br><span class="line">        <span class="keyword">return</span> ans;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">dfs</span><span class="params">(<span class="type">int</span> n, <span class="type">int</span> left, <span class="type">int</span> right, String s, List&lt;String&gt; ans)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (left == n &amp;&amp; right == n) &#123;</span><br><span class="line">            ans.add(s);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (left &lt; n)</span><br><span class="line">            dfs(n, left + <span class="number">1</span>, right, s + <span class="string">&quot;(&quot;</span>, ans);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (right &lt; left)</span><br><span class="line">            dfs(n, left, right + <span class="number">1</span>, s + <span class="string">&quot;)&quot;</span>, ans);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="23-merge-k-sorted-lists"><a href="#23-merge-k-sorted-lists" class="headerlink" title="23. merge-k-sorted-lists"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/merge-k-sorted-lists/#/description">23. merge-k-sorted-lists</a></h4><ul>
<li>给一个ListNode节点数组，分别是排好序的若干链表头，要求输出合并后的新链表头.</li>
<li>直接用PriorityQueue：</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">mergeKLists</span><span class="params">(ListNode[] lists)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (lists == <span class="literal">null</span> || lists.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    PriorityQueue&lt;ListNode&gt; pq = <span class="keyword">new</span> <span class="title class_">PriorityQueue</span>&lt;&gt;((a, b) -&gt; &#123;</span><br><span class="line">        <span class="keyword">return</span> a.val - b.val;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">for</span> (ListNode l: lists) &#123;</span><br><span class="line">        <span class="keyword">if</span> (l != <span class="literal">null</span>)</span><br><span class="line">            pq.add(l);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">ListNode</span> <span class="variable">fakeHead</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ListNode</span>(<span class="number">0</span>), curr = fakeHead;</span><br><span class="line">    <span class="keyword">while</span> (!pq.isEmpty()) &#123;</span><br><span class="line">        curr.next = pq.poll();</span><br><span class="line">        curr = curr.next;</span><br><span class="line">        <span class="keyword">if</span> (curr.next != <span class="literal">null</span>)</span><br><span class="line">            pq.add(curr.next);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> fakeHead.next;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>分治法。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// divide and conquer, O(nlogk)</span></span><br><span class="line"><span class="keyword">public</span> ListNode <span class="title function_">mergeKLists</span><span class="params">(ListNode[] lists)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (lists == <span class="literal">null</span> || lists.length == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// last two params are used to divide into sub problems</span></span><br><span class="line">    <span class="keyword">return</span> mergeKLists(lists, <span class="number">0</span>, lists.length);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> ListNode <span class="title function_">mergeKLists</span><span class="params">(ListNode[] lists, <span class="type">int</span> start, <span class="type">int</span> end)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (end - start == <span class="number">1</span>) &#123; <span class="comment">// only one list</span></span><br><span class="line">        <span class="keyword">return</span> lists[start];</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (end - start == <span class="number">2</span>) &#123;  <span class="comment">// merge two lists</span></span><br><span class="line">        <span class="keyword">return</span> mergeTwoLists(lists[start], lists[start + <span class="number">1</span>]);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> start + (end - start) / <span class="number">2</span>;</span><br><span class="line">        <span class="comment">// cut into first and second halves</span></span><br><span class="line">        <span class="keyword">return</span> mergeTwoLists(mergeKLists(lists, start, mid), </span><br><span class="line">                             mergeKLists(lists, mid, end)); <span class="comment">// warning not mid + 1</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> ListNode <span class="title function_">mergeTwoLists</span><span class="params">(ListNode l1, ListNode l2)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (l1 == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> l2;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (l2 == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> l1;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (l1.val &lt;= l2.val) &#123;</span><br><span class="line">        l1.next = mergeTwoLists(l1.next, l2);</span><br><span class="line">        <span class="keyword">return</span> l1;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        l2.next = mergeTwoLists(l1, l2.next);</span><br><span class="line">        <span class="keyword">return</span> l2;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="31-next-permutation"><a href="#31-next-permutation" class="headerlink" title="31. next-permutation"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/next-permutation/#/description">31. next-permutation</a></h4><ul>
<li>给一个int数组，将它改造成按字典序的下一个排列，若不存在则直接按从小到大的顺序调整。要求In-place对原数组操作，不能申请额外空间。</li>
<li><a target="_blank" rel="noopener" href="https://discuss.leetcode.com/topic/14124/sharing-my-clean-and-easy-understand-java-code-with-explanation">这个想法</a>从右往左找相邻的两个数使得<code>first &lt; second</code>，然后再从右往左找首次出现的比first大的数，二者对调，然后将second及其之后的内容reverse一下即可。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1324 -&gt; 1342</span></span><br><span class="line"><span class="comment">// 6，3，4，9，8，7，1 -&gt; 6，3，7，9，8，4，1 -&gt; 6，3，7，1，4，8，9</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">nextPermutation</span><span class="params">(<span class="type">int</span>[] nums)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (nums == <span class="literal">null</span> || nums.length &lt; <span class="number">2</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> nums.length - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (nums[i] &lt; nums[i + <span class="number">1</span>]) &#123;    <span class="comment">// 找相邻的两个数</span></span><br><span class="line">                <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> nums.length - <span class="number">1</span>;</span><br><span class="line">                <span class="keyword">while</span> (j &gt; i) &#123; <span class="comment">// 从右往左找第一个大于first的数</span></span><br><span class="line">                    <span class="keyword">if</span> (nums[j] &gt; nums[i]) &#123;</span><br><span class="line">                        swap(nums, i, j);   <span class="comment">// </span></span><br><span class="line">                        reverse(nums, i + <span class="number">1</span>);</span><br><span class="line">                        <span class="keyword">return</span>;</span><br><span class="line">                    &#125;</span><br><span class="line">                    j--;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        reverse(nums, <span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> nums[i];</span><br><span class="line">        nums[i] = nums[j];</span><br><span class="line">        nums[j] = temp;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">reverse</span><span class="params">(<span class="type">int</span>[] nums, <span class="type">int</span> start)</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> start, j = nums.length - <span class="number">1</span>; i &lt; j; i++, j--) &#123;</span><br><span class="line">            swap(nums, i, j);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="42-trapping-rain-water-1"><a href="#42-trapping-rain-water-1" class="headerlink" title="42. trapping-rain-water"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/trapping-rain-water/#/description">42. trapping-rain-water</a></h4><ul>
<li>给一个int数组，其中包含每个索引处墙的高度。求装满水时的横截面的积水的面积。</li>
<li>用两个辅助数组分别表示两侧最高高度，然后再一波遍历看能否装水。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">trap</span><span class="params">(<span class="type">int</span>[] height)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (height == <span class="literal">null</span> || height.length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span>[] hiLeft = <span class="keyword">new</span> <span class="title class_">int</span> [height.length];     <span class="comment">// leftward highest</span></span><br><span class="line">        <span class="type">int</span>[] hiRight = <span class="keyword">new</span> <span class="title class_">int</span> [height.length];    <span class="comment">// rightward highest</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> height[<span class="number">0</span>], right = height[height.length - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>, j = height.length - <span class="number">2</span>; i &lt; height.length; i++, j--) &#123;</span><br><span class="line">            hiLeft[i] = left;</span><br><span class="line">            left = Math.max(left, height[i]);</span><br><span class="line">            </span><br><span class="line">            hiRight[j] = right;</span><br><span class="line">            right = Math.max(right, height[j]);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span> <span class="variable">area</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; height.length; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">h</span> <span class="operator">=</span> Math.min(hiLeft[i], hiRight[i]);</span><br><span class="line">            <span class="keyword">if</span> (height[i] &lt; h) &#123;</span><br><span class="line">                area += (h - height[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> area;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>follow-up:不能用额外空间呢？</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Solution</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">trap</span><span class="params">(<span class="type">int</span>[] height)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (height == <span class="literal">null</span> || height.length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span>[] hiLeft = <span class="keyword">new</span> <span class="title class_">int</span> [height.length];     <span class="comment">// leftward highest</span></span><br><span class="line">        <span class="type">int</span>[] hiRight = <span class="keyword">new</span> <span class="title class_">int</span> [height.length];    <span class="comment">// rightward highest</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> height[<span class="number">0</span>], right = height[height.length - <span class="number">1</span>];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>, j = height.length - <span class="number">2</span>; i &lt; height.length; i++, j--) &#123;</span><br><span class="line">            hiLeft[i] = left;</span><br><span class="line">            left = Math.max(left, height[i]);</span><br><span class="line">            </span><br><span class="line">            hiRight[j] = right;</span><br><span class="line">            right = Math.max(right, height[j]);</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="type">int</span> <span class="variable">area</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; height.length; i++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">h</span> <span class="operator">=</span> Math.min(hiLeft[i], hiRight[i]);</span><br><span class="line">            <span class="keyword">if</span> (height[i] &lt; h) &#123;</span><br><span class="line">                area += (h - height[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> area;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="676-implement-magic-dictionary"><a href="#676-implement-magic-dictionary" class="headerlink" title="676. implement-magic-dictionary"></a><a target="_blank" rel="noopener" href="https://leetcode.com/problems/implement-magic-dictionary/description/">676. implement-magic-dictionary</a></h4><ul>
<li>给一个字典需要维护某种结构使得查询比较高效，查询是通过一个单词输入后判断字典中是否存在一个单词只替换输入串中的一个字符就能得到。</li>
<li>有点暴力的方法，在输入一个字符串数组的时候就维护一个从String映射到Character的Map，对于每个单词的每一个字符都换成<code>*</code>作为key，然后被替换的字符作为value存入。之后check的时候也是把每个字符都换成<code>*</code>之后再确认map中有没有对应的key。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">MagicDictionary</span> &#123;</span><br><span class="line">    <span class="comment">// 将每个单词的每个字符都替换成*之后，插入map，key是替换后的字符串，value是被替换掉的那个字符</span></span><br><span class="line">    <span class="comment">// 如果出现替换过后的key一样，则该位可以放任意字符，因为例如hello和hallo只有在第二位不同，如果替换后是h*llo可以任选一个，一定是true。</span></span><br><span class="line">    Map&lt;String, Character&gt; map = <span class="literal">null</span>;</span><br><span class="line">    <span class="comment">/** Initialize your data structure here. */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">MagicDictionary</span><span class="params">()</span> &#123;</span><br><span class="line">        map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;String, Character&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Build a dictionary through a list of words */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buildDict</span><span class="params">(String[] dict)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (dict == <span class="literal">null</span> || dict.length == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">for</span> (String word : dict) &#123;</span><br><span class="line">            <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(word);</span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> word.length();</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">                sb.setCharAt(i, <span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">                <span class="type">Character</span> <span class="variable">c</span> <span class="operator">=</span> map.get(sb.toString());</span><br><span class="line">                <span class="keyword">if</span> (c == <span class="literal">null</span>) &#123;</span><br><span class="line">                    map.put(sb.toString(), word.charAt(i));</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    map.put(sb.toString(), <span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">                sb.setCharAt(i, word.charAt(i));</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">/** Returns if there is any word in the trie that equals to the given word after modifying exactly one character */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">search</span><span class="params">(String word)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (word == <span class="literal">null</span> || word.length() == <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> word.length();</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>(word);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            sb.setCharAt(i, <span class="string">&#x27;*&#x27;</span>);</span><br><span class="line">            <span class="type">Character</span> <span class="variable">c</span> <span class="operator">=</span> map.get(sb.toString());</span><br><span class="line">            <span class="keyword">if</span> (c != <span class="literal">null</span> &amp;&amp; (c == <span class="string">&#x27;*&#x27;</span> || c != word.charAt(i))) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            sb.setCharAt(i, word.charAt(i));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Your MagicDictionary object will be instantiated and called as such:</span></span><br><span class="line"><span class="comment"> * MagicDictionary obj = new MagicDictionary();</span></span><br><span class="line"><span class="comment"> * obj.buildDict(dict);</span></span><br><span class="line"><span class="comment"> * boolean param_2 = obj.search(word);</span></span><br><span class="line"><span class="comment"> */</span></span><br></pre></td></tr></table></figure>
    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/java/" rel="tag"># java</a>
              <a href="/tags/algorithm/" rel="tag"># algorithm</a>
              <a href="/tags/interview/" rel="tag"># interview</a>
              <a href="/tags/google/" rel="tag"># google</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2017/10/20/zillow/" rel="prev" title="滋衣螺古如普">
                  <i class="fa fa-angle-left"></i> 滋衣螺古如普
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2017/10/26/qin_chao_algorithm_note/" rel="next" title="覃超视频课">
                  覃超视频课 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    
  <div class="comments" id="disqus_thread">
    <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
  </div>
  
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2016 – 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="futbol-o"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Bob</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>
<script class="next-config" data-name="disqus" type="application/json">{"enable":true,"shortname":"bobbyliujb","count":true,"i18n":{"disqus":"disqus"}}</script>
<script src="/js/third-party/comments/disqus.js" defer></script>

</body>
</html>
