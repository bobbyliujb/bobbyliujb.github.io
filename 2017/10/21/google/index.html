<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222"/>


  
  
  <link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css"/>



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link rel="stylesheet" href="/lib/pace/pace-theme-flash.min.css?v=1.0.2"/>





  <meta http-equiv="Cache-Control" content="no-transform"/>
  <meta http-equiv="Cache-Control" content="no-siteapp"/>
















  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext"/>
  






<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2"/>

<link rel="stylesheet" href="/css/main.css?v=6.7.0"/>


  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico?v=6.7.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=6.7.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico?v=6.7.0">


  <link rel="mask-icon" href="/images/favicon.ico?v=6.7.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '6.7.0',
    sidebar: {"position":"left","display":"hide","offset":12,"b2t":true,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="迎难而上，祝我好运。">
<meta name="keywords" content="java,algorithm,interview,google">
<meta property="og:type" content="article">
<meta property="og:title" content="孤狗">
<meta property="og:url" content="https://bobbyliujb.github.io/2017/10/21/google/index.html">
<meta property="og:site_name" content="Bob_波波">
<meta property="og:description" content="迎难而上，祝我好运。">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://drscdn.500px.org/photo/130178585/m%3D2048/300d71f784f679d5e70fadda8ad7d68f">
<meta property="og:updated_time" content="2018-09-23T20:59:26.266Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="孤狗">
<meta name="twitter:description" content="迎难而上，祝我好运。">
<meta name="twitter:image" content="https://drscdn.500px.org/photo/130178585/m%3D2048/300d71f784f679d5e70fadda8ad7d68f">






  <link rel="canonical" href="https://bobbyliujb.github.io/2017/10/21/google/"/>



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>孤狗 | Bob_波波</title>
  




  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-118868735-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-118868735-1');
  </script>









  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Bob_波波</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br/>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br/>Tags<span class="badge">42</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br/>Categories<span class="badge">4</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br/>Archives<span class="badge">42</span></a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />Search</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://bobbyliujb.github.io/2017/10/21/google/"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Bob_波波"/>
      <meta itemprop="description" content="I'm a Software Engineer!"/>
      <meta itemprop="image" content="/images/avatar.jpg"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bob_波波"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">孤狗

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2017-10-21 17:29:42" itemprop="dateCreated datePublished" datetime="2017-10-21T17:29:42-07:00">2017-10-21</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-09-23 13:59:26" itemprop="dateModified" datetime="2018-09-23T13:59:26-07:00">2018-09-23</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Tech/" itemprop="url" rel="index"><span itemprop="name">Tech</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2017/10/21/google/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2017/10/21/google/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2017/10/21/google/" class="leancloud_visitors" data-flag-title="孤狗">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Views: </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Symbols count in article: </span>
                
                <span title="Symbols count in article">96k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">1:40</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>迎难而上，祝我好运。<br><a id="more"></a></p>
<h4 id="10-regular-expression-matching"><a href="#10-regular-expression-matching" class="headerlink" title="10. regular-expression-matching"></a><a href="https://leetcode.com/problems/regular-expression-matching" target="_blank" rel="external">10. regular-expression-matching</a></h4><ul>
<li>输入两个字符串，写个支持<code>.</code>和<code>*</code>的正则表达式判断的method。例如<code>s = &quot;ab&quot;</code>, <code>p = &quot;a*&quot;</code>, 为True。</li>
<li>目标字符串s和正则字符串p之间相互比较，就需要维护一个boolean的二维数组<code>dp[i][j]</code>，表示<code>s[0~i-1]</code>与<code>p[0~j-1]</code>是否匹配。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isMatch</span><span class="params">(String s, String p)</span> </span>&#123;</div><div class="line">      <span class="keyword">if</span> (s == <span class="keyword">null</span> || p == <span class="keyword">null</span> || s.equals(p)) &#123;</div><div class="line">          <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">char</span>[] sChar = s.toCharArray(), pChar = p.toCharArray();</div><div class="line">      <span class="keyword">int</span> m = sChar.length, n = pChar.length;</div><div class="line">      <span class="keyword">boolean</span>[][] dp = <span class="keyword">new</span> <span class="keyword">boolean</span> [m + <span class="number">1</span>][n + <span class="number">1</span>];</div><div class="line">      </div><div class="line">      <span class="comment">// initial the dp states</span></div><div class="line">      dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">true</span>;</div><div class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">2</span>; j &lt;= n; j++) &#123;</div><div class="line">          dp[<span class="number">0</span>][j] = pChar[j - <span class="number">1</span>] == <span class="string">'*'</span> &amp;&amp; dp[<span class="number">0</span>][j - <span class="number">2</span>];</div><div class="line">      &#125;</div><div class="line">      </div><div class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; i++) &#123;</div><div class="line">          <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++) &#123;</div><div class="line">              <span class="keyword">if</span> (pChar[j - <span class="number">1</span>] == <span class="string">'*'</span>) &#123;  </div><div class="line">                  <span class="comment">// check if ignoring curr pattern</span></div><div class="line">                  <span class="comment">// OR (the char is matched AND ignoring curr pattern)</span></div><div class="line">                  dp[i][j] = (dp[i][j - <span class="number">2</span>]) <span class="comment">// 不取pattern</span></div><div class="line">                      || ((sChar[i - <span class="number">1</span>] == pChar[j - <span class="number">2</span>] || pChar[j - <span class="number">2</span>] == <span class="string">'.'</span>) &amp;&amp; dp[i - <span class="number">1</span>][j]);</div><div class="line">              &#125; <span class="keyword">else</span> &#123;</div><div class="line">                  <span class="comment">// check if char is matched for curr pattern</span></div><div class="line">                  dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>] </div><div class="line">                      &amp;&amp; (sChar[i - <span class="number">1</span>] == pChar[j - <span class="number">1</span>] || pChar[j - <span class="number">1</span>] == <span class="string">'.'</span>);</div><div class="line">              &#125;</div><div class="line">          &#125;</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">return</span> dp[m][n];</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="36-valid-sudoku"><a href="#36-valid-sudoku" class="headerlink" title="36. valid-sudoku"></a><a href="https://leetcode.com/problems/valid-sudoku/#/description" target="_blank" rel="external">36. valid-sudoku</a></h4><ul>
<li>给一个二维char数组，里面是一个未完成的数独9x9棋盘，要求每一行、每一列、每个3x3方块中数字1-9有且仅有出现一次。判断这个棋盘是否符合数独规则，返回布尔值。</li>
<li><p>方法一：直接双重循环遍历，注意可以利用index的变换同时判断行、列和box的情况</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValidSudoku</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (board == <span class="keyword">null</span> || board.length == <span class="number">0</span> || board[<span class="number">0</span>].length == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; board.length; i++) &#123;</div><div class="line">        Set&lt;Character&gt; rowSet = <span class="keyword">new</span> HashSet&lt;&gt;();</div><div class="line">        Set&lt;Character&gt; colSet = <span class="keyword">new</span> HashSet&lt;&gt;();</div><div class="line">        Set&lt;Character&gt; boxSet = <span class="keyword">new</span> HashSet&lt;&gt;();</div><div class="line">        <span class="keyword">int</span> rowIndex = <span class="number">3</span> * (i / <span class="number">3</span>), colIndex = <span class="number">3</span> * (i % <span class="number">3</span>);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; board[<span class="number">0</span>].length; j++) &#123;</div><div class="line">            <span class="keyword">if</span> (board[i][j] != <span class="string">'.'</span> &amp;&amp; !rowSet.add(board[i][j])) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (board[j][i] != <span class="string">'.'</span> &amp;&amp; !colSet.add(board[j][i])) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (board[rowIndex + j / <span class="number">3</span>][colIndex + j % <span class="number">3</span>] != <span class="string">'.'</span> </div><div class="line">                &amp;&amp; !boxSet.add(board[rowIndex + j / <span class="number">3</span>][colIndex + j % <span class="number">3</span>])) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>方法二：利用String encoding，直接将每个数字出现的行、列、box情况encode成String存入set。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValidSudoku</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (board == <span class="keyword">null</span> || board.length == <span class="number">0</span> || board[<span class="number">0</span>].length == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">    Set&lt;String&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; board.length; i++) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; board[<span class="number">0</span>].length; j++) &#123;</div><div class="line">            <span class="keyword">if</span> (board[i][j] != <span class="string">'.'</span>) &#123;</div><div class="line">                <span class="keyword">if</span> (!set.add(board[i][j] + <span class="string">" in row "</span> + i) </div><div class="line">                    || !set.add(board[i][j] + <span class="string">" in col "</span> + j) </div><div class="line">                    || !set.add(board[i][j] + <span class="string">" in block "</span> + (i / <span class="number">3</span>) + <span class="string">'-'</span> + (j / <span class="number">3</span>))) &#123;</div><div class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="37-sudoku-solver"><a href="#37-sudoku-solver" class="headerlink" title="37. sudoku-solver"></a><a href="https://leetcode.com/problems/sudoku-solver/#/description" target="_blank" rel="external">37. sudoku-solver</a></h4><ul>
<li>给一个二位char数组，里面是一个未完成的数独9x9棋盘，要求每一行、每一列、每个3x3方块中数字1-9有且仅有出现一次。解出数独，解有且仅有一种，直接在原二维数组中将<code>.</code>改为数字的char。</li>
<li>暴力dfs，确定一个位置后就进入下一层DFS去判断。时间复杂度为O(9^m)，m为可填的空位数。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">final</span> String inRow = <span class="string">" in row "</span>;</div><div class="line"><span class="keyword">final</span> String inCol = <span class="string">" in col "</span>;</div><div class="line"><span class="keyword">final</span> String inBlk = <span class="string">" in blk "</span>;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">solveSudoku</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (board == <span class="keyword">null</span> || board.length != <span class="number">9</span> || board[<span class="number">0</span>].length != <span class="number">9</span>) &#123;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    Set&lt;String&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">9</span>; j++) &#123;</div><div class="line">            <span class="keyword">if</span> (board[i][j] != <span class="string">'.'</span>) &#123;</div><div class="line">                set.add(board[i][j] + inRow + i);</div><div class="line">                set.add(board[i][j] + inCol + j);</div><div class="line">                set.add(board[i][j] + inBlk + i/<span class="number">3</span> + <span class="string">"-"</span> + j/<span class="number">3</span>);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    dfs(board, set);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[][] board, Set&lt;String&gt; set)</span> </span>&#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">9</span>; i++) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">9</span>; j++) &#123;</div><div class="line">            <span class="keyword">if</span> (board[i][j] == <span class="string">'.'</span>) &#123;</div><div class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> c = <span class="number">0</span>; c &lt; <span class="number">9</span>; c++) &#123;</div><div class="line">                    <span class="keyword">char</span> temp = (<span class="keyword">char</span>)(c + <span class="string">'1'</span>);</div><div class="line">                    String row = temp + inRow + i;</div><div class="line">                    String col = temp + inCol + j;</div><div class="line">                    String blk = temp + inBlk + i/<span class="number">3</span> + <span class="string">"-"</span> + j/<span class="number">3</span>;</div><div class="line">                    <span class="keyword">if</span> (!set.contains(row) &amp;&amp; !set.contains(col) &amp;&amp; !set.contains(blk)) &#123;</div><div class="line">                        set.add(row);</div><div class="line">                        set.add(col);</div><div class="line">                        set.add(blk);</div><div class="line">                        board[i][j] = temp;</div><div class="line">                        <span class="keyword">if</span> (dfs(board, set)) &#123;</div><div class="line">                            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">                        &#125; <span class="keyword">else</span> &#123;</div><div class="line">                            set.remove(row);</div><div class="line">                            set.remove(col);</div><div class="line">                            set.remove(blk);</div><div class="line">                            board[i][j] = <span class="string">'.'</span>;</div><div class="line">                        &#125;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="41-first-missing-positive"><a href="#41-first-missing-positive" class="headerlink" title="41. first-missing-positive"></a><a href="https://leetcode.com/problems/first-missing-positive/#/description" target="_blank" rel="external">41. first-missing-positive</a></h4><ul>
<li>给一个乱序整数数组，要求返回所缺正整数中的最小值。要求constant space，O(n).例如<code>[3,4,-1,1]</code>，返回2.</li>
<li>尝试将在合理范围内的正数[1, nums.length]放入对应的位置，即与它的值对应的索引进行swap，注意执行swap之前需要判断该对应处的元素是否已经处在正确的位置，已经是正确位置就不能swap。最后从头遍历一波，第一个放错位置的即为所求。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">firstMissingPositive</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span> (i &lt; nums.length) &#123;</div><div class="line">        <span class="keyword">if</span> (nums[i] == i + <span class="number">1</span> || nums[i] &lt;= <span class="number">0</span> || nums[i] &gt; nums.length) &#123;</div><div class="line">            i++;</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (nums[nums[i] - <span class="number">1</span>] != nums[i]) &#123; <span class="comment">// warning: not nums[i] != i + 1</span></div><div class="line">            <span class="comment">// critical: avoid re-overwriting that correct spot</span></div><div class="line">            swap(nums, i, nums[i] - <span class="number">1</span>); <span class="comment">// i is curr index, nums[i] - 1 is where it should be</span></div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            i++;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    i = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span> (i &lt; nums.length &amp;&amp; nums[i] == i + <span class="number">1</span>) &#123;</div><div class="line">        i++;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> i + <span class="number">1</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> temp =  nums[i];</div><div class="line">    nums[i] = nums[j];</div><div class="line">    nums[j] = temp;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="42-trapping-rain-water"><a href="#42-trapping-rain-water" class="headerlink" title="42. trapping-rain-water"></a><a href="https://leetcode.com/problems/trapping-rain-water/#/description" target="_blank" rel="external">42. trapping-rain-water</a></h4><ul>
<li>给一个int数组，其中包含每个索引处墙的高度。求装满水时的横截面的积水的面积。</li>
<li>利用双指针，left向后更新maxLeft，right往前更新maxRight。每次在left处和right处的高度中取较小值与maxLeft和maxRight进行比较，如果是凹的就直接累加高度差即可。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">trap</span><span class="params">(<span class="keyword">int</span>[] height)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (height == <span class="keyword">null</span> || height.length == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> area = <span class="number">0</span>, maxLeft = <span class="number">0</span>, maxRight = <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> left = <span class="number">0</span>, right = height.length - <span class="number">1</span>;</div><div class="line">    <span class="keyword">while</span> (left &lt;= right) &#123;</div><div class="line">        <span class="keyword">if</span> (height[left] &lt;= height[right]) &#123;    <span class="comment">// curr value less than some right value</span></div><div class="line">            <span class="keyword">if</span> (maxLeft &lt;= height[left]) &#123;</div><div class="line">                maxLeft = height[left];</div><div class="line">            &#125; <span class="keyword">else</span> &#123;                            <span class="comment">// curr value is also less than left value</span></div><div class="line">                area += maxLeft - height[left]; <span class="comment">// means it is concave</span></div><div class="line">            &#125;</div><div class="line">            left++;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">if</span> (maxRight &lt;= height[right]) &#123;</div><div class="line">                maxRight = height[right];</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                area += maxRight - height[right];</div><div class="line">            &#125;</div><div class="line">            right--;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> area;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="43-multiply-strings"><a href="#43-multiply-strings" class="headerlink" title="43. multiply-strings"></a><a href="https://leetcode.com/problems/multiply-strings" target="_blank" rel="external">43. multiply-strings</a></h4><ul>
<li>给两个字符串形式的int，模拟乘法求他们的积，返回字符串。</li>
<li>观察index的关系，num1的第i个数字乘以num2的第j个数字得到的两位数将出现在结果数的第<code>i + j</code>和第<code>i + j + 1</code>位。因此就从最低位开始，双重循环相乘，不断更新结果数组即可。注意数组中保存的是一位数，有进位需要存到前一个位置。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> String <span class="title">multiply</span><span class="params">(String num1, String num2)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (num1 == <span class="keyword">null</span> || num2 == <span class="keyword">null</span></div><div class="line">        || num1.length() == <span class="number">0</span> || num2.length() == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">""</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> m = num1.length(), n = num2.length();</div><div class="line">    <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span> [m + n];</div><div class="line">    <span class="keyword">char</span>[] cnum1 = num1.toCharArray(), cnum2 = num2.toCharArray();</div><div class="line">    </div><div class="line">    <span class="comment">// from least significant bit</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = m - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = n - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</div><div class="line">            <span class="keyword">int</span> mult = (cnum1[i] - <span class="string">'0'</span>) * (cnum2[j] - <span class="string">'0'</span>);</div><div class="line">            <span class="keyword">int</span> first = i + j, second = i + j + <span class="number">1</span>;</div><div class="line">            <span class="keyword">int</span> sum = mult + result[second];    <span class="comment">// add carry from prev steps</span></div><div class="line">            result[first] += sum / <span class="number">10</span>;  <span class="comment">// accumulate</span></div><div class="line">            result[second] = sum % <span class="number">10</span>;  <span class="comment">// overwrite</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</div><div class="line">    <span class="keyword">int</span> i = <span class="number">0</span>;</div><div class="line">    <span class="comment">// find the first non-zero item</span></div><div class="line">    <span class="keyword">while</span> (i &lt; result.length &amp;&amp; sb.length() == <span class="number">0</span> &amp;&amp; result[i] == <span class="number">0</span>) &#123;</div><div class="line">        i++;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">while</span> (i &lt; result.length) &#123;</div><div class="line">        sb.append(result[i++]);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> sb.length() == <span class="number">0</span>? <span class="string">"0"</span>: sb.toString();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="44-wildcard-matching"><a href="#44-wildcard-matching" class="headerlink" title="44. wildcard-matching"></a><a href="https://leetcode.com/problems/wildcard-matching" target="_blank" rel="external">44. wildcard-matching</a></h4><ul>
<li>和前面的<a href="https://leetcode.com/problems/regular-expression-matching" target="_blank" rel="external">regular-expression-matching</a>很像，但这里用<code>?</code>代表任意一个字符、用<code>*</code>代表任意长度的任意字符而不依赖它前面的字符（而且不只能匹配单一个字符，直接匹配任意长度的任意字符组合）。总的来说比上一题简单，要讨论的情况少了。</li>
<li>维护一个二维boolean数组，<code>dp[i][j]</code>表示<code>s[0~i-1]</code>和<code>p[0~j-1]</code>是否匹配。初始化方面，对于空的p，<code>dp[i][0]</code>仍是除<code>dp[0][0]</code>外全部false，不可能用空的p去匹配非空的s；对于空的s，<code>dp[0][j]</code>就要看当前是否是<code>&#39;*&#39;</code>且考虑<code>dp[0][j-1]</code>。接着双重循环更新dp<br>-&gt; 若当前字符p[j-1]是<code>&#39;*&#39;</code>，则考虑取p的<code>*</code>但不匹配s当前字符时，<code>s[0~i-1]和p[0~j-2]</code>的匹配情况，即<code>dp[i][j-1]</code>；或将<code>&#39;*&#39;</code>假设为<code>s[i-1]</code>那个字符，看看<code>s[0~i-2]</code>与<code>p[0~i-1]</code>的匹配情况，即<code>dp[i-1][j]</code>；或者不取<code>*</code>也不匹配s当前字符，<code>s[0~i-2]和p[0~j-2]</code>的匹配情况，即<code>dp[i-1][j-1]</code>.<br>-&gt; 若当前字符p[j-1]不是<code>&#39;*&#39;</code>，就直接看s[i-1]和p[j-1]的匹配情况再结合<code>dp[i-1][j-1]</code>了。<br>除了DP，这个题目似乎还可以用<a href="https://discuss.leetcode.com/topic/3040/linear-runtime-and-constant-space-solution" target="_blank" rel="external">贪心</a>给两个字符串分别用一个指针一直向后挪。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isMatch</span><span class="params">(String s, String p)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (s == <span class="keyword">null</span> || p == <span class="keyword">null</span> || s.equals(p)) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> m = s.length(), n = p.length();</div><div class="line">    <span class="keyword">char</span>[] sChar = s.toCharArray(), pChar = p.toCharArray();</div><div class="line">    <span class="keyword">boolean</span>[][] dp = <span class="keyword">new</span> <span class="keyword">boolean</span> [m + <span class="number">1</span>][n + <span class="number">1</span>];</div><div class="line">    dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">true</span>;    <span class="comment">// "" fits ""</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++) &#123;   <span class="comment">// only "x*" can fit ""</span></div><div class="line">        <span class="keyword">if</span> (pChar[j - <span class="number">1</span>] == <span class="string">'*'</span>) &#123;</div><div class="line">            dp[<span class="number">0</span>][j] = dp[<span class="number">0</span>][j - <span class="number">1</span>];</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            dp[<span class="number">0</span>][j] = <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; i++) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++) &#123;</div><div class="line">            <span class="keyword">if</span> (pChar[j - <span class="number">1</span>] == <span class="string">'*'</span>) &#123;  <span class="comment">// don't take * or view * as one char or just</span></div><div class="line">                                        <span class="comment">// get rid of the char in sChar</span></div><div class="line">                dp[i][j] = dp[i][j - <span class="number">1</span>] || dp[i - <span class="number">1</span>][j] || dp[i - <span class="number">1</span>][j - <span class="number">1</span>];</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">if</span> (pChar[j - <span class="number">1</span>] == sChar[i - <span class="number">1</span>] || pChar[j - <span class="number">1</span>] == <span class="string">'?'</span>) &#123;</div><div class="line">                    dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>];</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    dp[i][j] = <span class="keyword">false</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> dp[m][n];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="56-merge-intervals"><a href="#56-merge-intervals" class="headerlink" title="56. merge-intervals"></a><a href="https://leetcode.com/problems/merge-intervals/#/description" target="_blank" rel="external">56. merge-intervals</a></h4><ul>
<li>给一个Interval类的list，将重叠部分进行合并，返回合并之后的list。</li>
<li><p>方法一：使用自定义排序，按照start再按照end排序，然后入栈，每次与栈顶比较。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> List&lt;Interval&gt; <span class="title">merge</span><span class="params">(List&lt;Interval&gt; intervals)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (intervals == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;Interval&gt;();</div><div class="line">    &#125;</div><div class="line">    Collections.sort(intervals, </div><div class="line">        (a, b) -&gt; a.start != b.start ？ </div><div class="line">            a.start - b.start : a.end - b.end;</div><div class="line">    );</div><div class="line">    Stack&lt;Interval&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</div><div class="line">    <span class="keyword">for</span> (Interval itv: intervals) &#123;</div><div class="line">        <span class="keyword">if</span> (stack.isEmpty()) &#123;</div><div class="line">            stack.push(itv);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            Interval curr = stack.peek();</div><div class="line">            <span class="keyword">if</span> (itv.start &gt; curr.end) &#123;</div><div class="line">                stack.push(itv);</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                stack.peek().end = Math.max(itv.end, curr.end);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// directly get List from stack with constructor</span></div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;Interval&gt;(stack);    </div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>方法二：将左、右boundary分别排序，然后快慢指针遍历。当<code>left[fast + 1] &gt; right[fast]</code>，说明slow~fast可以组成一个独立的interval，存入list后将慢指针放到fast + 1即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> List&lt;Interval&gt; <span class="title">merge</span><span class="params">(List&lt;Interval&gt; intervals)</span> </span>&#123;</div><div class="line">    List&lt;Interval&gt; ans = <span class="keyword">new</span> ArrayList&lt;Interval&gt;();</div><div class="line">    <span class="keyword">if</span> (intervals == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> len = intervals.size();</div><div class="line">    <span class="keyword">int</span>[] left = <span class="keyword">new</span> <span class="keyword">int</span> [len];     <span class="comment">// all left boundary</span></div><div class="line">    <span class="keyword">int</span>[] right = <span class="keyword">new</span> <span class="keyword">int</span> [len];    <span class="comment">// all right boundary</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</div><div class="line">        left[i] = intervals.get(i).start;</div><div class="line">        right[i] = intervals.get(i).end;</div><div class="line">    &#125;</div><div class="line">    Arrays.sort(left);</div><div class="line">    Arrays.sort(right);</div><div class="line"></div><div class="line">    <span class="comment">// fast will select right bound and fast+1 is the candidate for next left bound</span></div><div class="line">    <span class="comment">// when candidate is valid, store curr interval (slow, fast) and move slow to candidate</span></div><div class="line">    <span class="comment">// for next left bound</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> fast = <span class="number">0</span>, slow = <span class="number">0</span>; fast &lt; len; fast++) &#123;</div><div class="line">        <span class="keyword">if</span> (fast == len - <span class="number">1</span> || left[fast + <span class="number">1</span>] &gt; right[fast]) &#123;</div><div class="line">            ans.add(<span class="keyword">new</span> Interval(left[slow], right[fast]));</div><div class="line">            slow = fast + <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ans;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="59-spiral-matrix-ii"><a href="#59-spiral-matrix-ii" class="headerlink" title="59. spiral-matrix-ii"></a><a href="https://leetcode.com/problems/spiral-matrix-ii/#/description" target="_blank" rel="external">59. spiral-matrix-ii</a></h4><ul>
<li>给一个整数n，生成一个n*n的二维数组方阵，使得螺旋式遍历的结果为1,2,3,…,n^2。</li>
<li>直接用循环搞。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span>[][] generateMatrix(<span class="keyword">int</span> n) &#123;</div><div class="line">    <span class="comment">// Declaration</span></div><div class="line">    <span class="keyword">int</span>[][] matrix = <span class="keyword">new</span> <span class="keyword">int</span>[n][n];</div><div class="line">    </div><div class="line">    <span class="comment">// Edge Case</span></div><div class="line">    <span class="keyword">if</span> (n == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> matrix;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">// Normal Case</span></div><div class="line">    <span class="keyword">int</span> rowStart = <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> rowEnd = n - <span class="number">1</span>;</div><div class="line">    <span class="keyword">int</span> colStart = <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span> colEnd = n - <span class="number">1</span>;</div><div class="line">    <span class="keyword">int</span> num = <span class="number">1</span>; <span class="comment">//change</span></div><div class="line">    </div><div class="line">    <span class="keyword">while</span> (rowStart &lt;= rowEnd &amp;&amp; colStart &lt;= colEnd) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = colStart; i &lt;= colEnd; i++) &#123;</div><div class="line">            matrix[rowStart][i] = num++;   <span class="comment">//change</span></div><div class="line">        &#125;</div><div class="line">        rowStart++;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = rowStart; i &lt;= rowEnd; i++) &#123;</div><div class="line">            matrix[i][colEnd] = num++;     <span class="comment">//change</span></div><div class="line">        &#125;</div><div class="line">        colEnd--;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = colEnd; i &gt;= colStart; i--) &#123;</div><div class="line">            <span class="keyword">if</span> (rowStart &lt;= rowEnd)</div><div class="line">                matrix[rowEnd][i] = num++; <span class="comment">//change</span></div><div class="line">        &#125;</div><div class="line">        rowEnd--;</div><div class="line">        </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = rowEnd; i &gt;= rowStart; i--) &#123;</div><div class="line">            <span class="keyword">if</span> (colStart &lt;= colEnd)</div><div class="line">                matrix[i][colStart] = num++; <span class="comment">//change</span></div><div class="line">        &#125;</div><div class="line">        colStart++;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> matrix;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="72-edit-distance"><a href="#72-edit-distance" class="headerlink" title="72. edit-distance"></a><a href="https://leetcode.com/problems/edit-distance/#/description" target="_blank" rel="external">72. edit-distance</a></h4><ul>
<li>给两个字符串word1, word2，求使用addition, replacement, removement三种操作的情况下最少多少步可以从word1转换成word2。</li>
<li><code>dp[i][j]</code>表示当前长度i的子字符串1转换成长度j的子字符串2最少需要的操作数。初始条件显然是<code>dp[0][x] = dp[x][0] = x</code>。对于任意一个<code>dp[i][j]</code>，需要由上、左上、左三个方格的计算结果决定，往上<code>dp[i-1][j]</code>表示一个deletion，往左<code>dp[i][j-1]</code>表示一个addition，左上<code>dp[i-1][j-1]</code>表示一个replacement。每次选取三者中最小的，加上1就是当前的最小操作数了。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minDistance</span><span class="params">(String word1, String word2)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (word1 == <span class="keyword">null</span> || word2 == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> len1 = word1.length(), len2 = word2.length();</div><div class="line">    <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span> [len1 + <span class="number">1</span>][len2 + s1];</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= len1; i++) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= len2; j++) &#123;</div><div class="line">            <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</div><div class="line">                dp[i][j] = j;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (j == <span class="number">0</span>) &#123;</div><div class="line">                dp[i][j] = i;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                <span class="comment">// s1取i-1、s2取j-1个字符的情况，然后s1和s2都取，不需要增加操作数</span></div><div class="line">                <span class="keyword">if</span> (word1.charAt(i - <span class="number">1</span>) == word2.charAt(j - <span class="number">1</span>)) &#123;</div><div class="line">                    dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>];</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    <span class="comment">// left: s1取i、s2取j-1个字符的操作数，现在相当于需要往s1中加s2对应位置的字符才能匹配上</span></div><div class="line">                    <span class="comment">// up: s1取i-1、s2取j个字符的操作数，相当于要从s1中删除字符才能匹配上</span></div><div class="line">                    <span class="comment">// left-up: s1取i-1、s2取j-1个字符的操作数，现在相当于要进行替换才能匹配上</span></div><div class="line">                    <span class="keyword">int</span> left = dp[i][j - <span class="number">1</span>], up = dp[i - <span class="number">1</span>][j], upLeft = dp[i - <span class="number">1</span>][j - <span class="number">1</span>];</div><div class="line">                    dp[i][j] = Math.min(Math.min(left, up), upLeft) + <span class="number">1</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> dp[len1][len2];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="91-decode-ways"><a href="#91-decode-ways" class="headerlink" title="91. decode-ways"></a><a href="https://leetcode.com/problems/decode-ways/#/description" target="_blank" rel="external">91. decode-ways</a></h4><ul>
<li>给一个纯数字的字符串，看有多少中方式解析成对应的字母A-Z。如<code>12</code>可解析为<code>AB</code>或<code>L</code>两种，返回2。</li>
<li>联想到“跳楼梯的方式”那题，每次可以选择1位数或者2位数，dp[i]表示取i个字符总共有多少decode的方式，那么当前的方式数就取决于前一位或者前两位的方式数。注意如果取两位digit，需要判断是否在10~26范围之内。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">numDecodings</span><span class="params">(String s)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (s == <span class="keyword">null</span> || s.length() == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> n = s.length();</div><div class="line">    <span class="keyword">int</span>[] dp = <span class="keyword">new</span> <span class="keyword">int</span>[ n+ <span class="number">1</span>];</div><div class="line">    dp[<span class="number">0</span>] = <span class="number">1</span>;</div><div class="line">    dp[<span class="number">1</span>] = s.charAt(<span class="number">0</span>) != <span class="string">'0'</span> ? <span class="number">1</span> : <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= n; i++) &#123;</div><div class="line">        <span class="keyword">int</span> first = Integer.valueOf(s.substring(i - <span class="number">1</span>, i));</div><div class="line">        <span class="keyword">int</span> second = Integer.valueOf(s.substring(i - <span class="number">2</span>, i));</div><div class="line">        <span class="keyword">if</span> (first &gt;= <span class="number">1</span> &amp;&amp; first &lt;= <span class="number">9</span>) &#123;</div><div class="line">            dp[i] += dp[i - <span class="number">1</span>];  </div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (second &gt;= <span class="number">10</span> &amp;&amp; second &lt;= <span class="number">26</span>) &#123;</div><div class="line">            dp[i] += dp[i - <span class="number">2</span>];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> dp[n];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="95-unique-binary-search-trees-ii"><a href="#95-unique-binary-search-trees-ii" class="headerlink" title="95. unique-binary-search-trees-ii"></a><a href="https://leetcode.com/problems/unique-binary-search-trees-ii/#/description" target="_blank" rel="external">95. unique-binary-search-trees-ii</a></h4><ul>
<li>只给一个整数n表示二分查找树的节点数，返回所有结构不同的树。而上一问（96）则只是输出不同树的个数，只是个小DP。</li>
<li><p>方法一：DP。dp[i]表示节点数为i的时候后所有可能的unique BST根节点。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> List&lt;TreeNode&gt; <span class="title">generateTrees</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">    List&lt;TreeNode&gt;[] dp = <span class="keyword">new</span> List[n + <span class="number">1</span>];</div><div class="line">    dp[<span class="number">0</span>] = <span class="keyword">new</span> ArrayList&lt;TreeNode&gt;();</div><div class="line">    <span class="keyword">if</span> (n &lt; <span class="number">1</span>) &#123;</div><div class="line">        <span class="keyword">return</span> dp[<span class="number">0</span>];</div><div class="line">    &#125;</div><div class="line">    dp[<span class="number">0</span>].add(<span class="keyword">null</span>);  <span class="comment">// 空BST</span></div><div class="line">    </div><div class="line">    <span class="comment">// BST: left children all smaller, right all larger.</span></div><div class="line">    <span class="comment">// each time fix the root, take prev as left subtree, and prev with offset as right subtree.</span></div><div class="line">    <span class="comment">// 固定跟节点，左子树节点数从0到n</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> nodeNum = <span class="number">1</span>; nodeNum &lt;= n; nodeNum++) &#123;</div><div class="line">        dp[nodeNum] = <span class="keyword">new</span> ArrayList&lt;TreeNode&gt;();</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> leftNum = <span class="number">0</span>; leftNum &lt; nodeNum; leftNum++) &#123;</div><div class="line">            <span class="keyword">for</span> (TreeNode leftNode: dp[leftNum]) &#123;</div><div class="line">                <span class="keyword">for</span> (TreeNode rightNode: dp[nodeNum - leftNum - <span class="number">1</span>]) &#123;</div><div class="line">                    TreeNode curr = <span class="keyword">new</span> TreeNode(leftNum + <span class="number">1</span>);</div><div class="line">                    curr.left = leftNode;</div><div class="line">                    curr.right = addOffset(rightNode, leftNum + <span class="number">1</span>);</div><div class="line">                    dp[nodeNum].add(curr);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> dp[n];</div><div class="line">&#125;</div><div class="line"><span class="comment">// its kinda tricky to come up with this offset</span></div><div class="line"><span class="function"><span class="keyword">private</span> TreeNode <span class="title">addOffset</span><span class="params">(TreeNode node, <span class="keyword">int</span> offset)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (node == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line">    TreeNode newNode = <span class="keyword">new</span> TreeNode(node.val + offset);</div><div class="line">    newNode.left = addOffset(node.left, offset);</div><div class="line">    newNode.right = addOffset(node.right, offset);</div><div class="line">    <span class="keyword">return</span> newNode;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>方法二：分治法，分别build左右两边的子树。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> List&lt;TreeNode&gt; <span class="title">generateTrees</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (n &lt; <span class="number">1</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;TreeNode&gt;();</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> generate(<span class="number">1</span>, n);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">private</span> List&lt;TreeNode&gt; <span class="title">generate</span><span class="params">(<span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</div><div class="line">    List&lt;TreeNode&gt; result = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">    <span class="keyword">if</span> (start &gt; end) &#123;      <span class="comment">// recursion end condition</span></div><div class="line">        result.add(<span class="keyword">null</span>);</div><div class="line">        <span class="keyword">return</span> result; </div><div class="line">    &#125;</div><div class="line">    <span class="comment">// take i as root val</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = start; i &lt;= end; i++) &#123;</div><div class="line">        List&lt;TreeNode&gt; left = generate(start, i - <span class="number">1</span>);   <span class="comment">// generate all possible left subtree</span></div><div class="line">        List&lt;TreeNode&gt; right = generate(i + <span class="number">1</span>, end);    <span class="comment">// gennerate all possible right subtree</span></div><div class="line">        <span class="keyword">for</span> (TreeNode l: left) &#123;</div><div class="line">            <span class="keyword">for</span> (TreeNode r: right) &#123;</div><div class="line">                TreeNode node = <span class="keyword">new</span> TreeNode(i);    <span class="comment">// set root val</span></div><div class="line">                node.left = l;</div><div class="line">                node.right = r;</div><div class="line">                result.add(node);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> result;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="OA-Email地址处理"><a href="#OA-Email地址处理" class="headerlink" title="OA: Email地址处理"></a><a href="http://www.1point3acres.com/bbs/thread-438475-1-1.html" target="_blank" rel="external">OA: Email地址处理</a></h4><ul>
<li>给String数组包含email地址，如name@domain，其中name需要将(1)dots(‘.’) between some characters去除 (2)如果有’+’，’+’和后面的全去除。将处理完的email地址归类，统计每个email出现个数，返回里面&gt;1个email兄弟的个数。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getEmailCount</span><span class="params">(String[] emails)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (emails == <span class="keyword">null</span> || emails.length == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    Map&lt;String, Set&lt;String&gt;&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">    <span class="keyword">int</span> count = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (String email : emails) &#123;</div><div class="line">        <span class="keyword">int</span> atIndex = email.indexOf(<span class="string">"@"</span>);</div><div class="line">        <span class="keyword">if</span> (atIndex == -<span class="number">1</span>) &#123;</div><div class="line">            <span class="keyword">continue</span>;</div><div class="line">        &#125;</div><div class="line">        String simplifiedEmail = simplify(email.substring(<span class="number">0</span>, atIndex)) + email.substring(atIndex);</div><div class="line">        map.putIfAbsent(simplifiedEmail, <span class="keyword">new</span> HashSet&lt;String&gt;());</div><div class="line">        map.get(simplifiedEmail).add(email);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span> (Map.Entry&lt;String, Set&lt;String&gt;&gt; e : map.entrySet()) &#123;</div><div class="line">        <span class="keyword">if</span> (e.getValue().size() &gt; <span class="number">1</span>) &#123;</div><div class="line">            count++;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> count;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">private</span> String <span class="title">simplify</span><span class="params">(String local)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> local.replaceAll(<span class="string">"(?&lt;=[a-zA-Z]+)\\.+(?=[a-zA-Z]+)|(\\+.*)"</span>, <span class="string">""</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="OA-两个篮子取水果"><a href="#OA-两个篮子取水果" class="headerlink" title="OA: 两个篮子取水果"></a><a href="http://www.1point3acres.com/bbs/thread-438475-1-1.html" target="_blank" rel="external">OA: 两个篮子取水果</a></h4><ul>
<li><a href="https://leetcode.com/problems/longest-substring-with-at-most-two-distinct-characters/description/" target="_blank" rel="external">lc 159</a>变种。只有两个篮子可以放水果，每个篮子只能放一样水果，但可以放无数个相同的水果。从任意一个位置开始往右取，求最多取多少水果。</li>
<li>滑动窗口。</li>
</ul>
<h4 id="OA-上一个最接近时间"><a href="#OA-上一个最接近时间" class="headerlink" title="OA: 上一个最接近时间"></a><a href="http://www.1point3acres.com/bbs/thread-438228-1-1.html" target="_blank" rel="external">OA: 上一个最接近时间</a></h4><ul>
<li>类似于<a href="https://leetcode.com/problems/next-closest-time/description/" target="_blank" rel="external">lc 681</a>. 给一个时间string如<code>hh:mm</code>，求前一个最近的时间，可以重复使用已有的数字。</li>
<li>将所有出现过的数字存入TreeSet，从最低位开始尝试将当前数字替换成比他小的最大的数，若存在这样的数就是previou closest time了，若没有这样的数则需要替换成最大值，注意需要validate。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">prevClosestTime</span><span class="params">(String time)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (time == <span class="keyword">null</span> || time.length() != <span class="number">5</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line">    TreeSet&lt;Integer&gt; digitSet = <span class="keyword">new</span> TreeSet&lt;&gt;();</div><div class="line">    <span class="keyword">char</span> maxChar = <span class="string">'0'</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">char</span> c : time.toCharArray()) &#123;</div><div class="line">        <span class="keyword">if</span> (c != <span class="string">':'</span>) &#123;</div><div class="line">            digitSet.add(c - <span class="string">'0'</span>);</div><div class="line">            maxChar = (<span class="keyword">char</span>) Math.max(maxChar, c);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">char</span>[] ans = time.toCharArray();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">4</span>; i &gt;= <span class="number">0</span>; i--) &#123;</div><div class="line">        <span class="keyword">if</span> (i != <span class="number">2</span>) &#123;</div><div class="line">            <span class="keyword">int</span> currDigit = ans[i] - <span class="string">'0'</span>;</div><div class="line">            Integer temp = digitSet.lower(currDigit);</div><div class="line">            <span class="keyword">if</span> (temp != <span class="keyword">null</span>) &#123;</div><div class="line">                ans[i] = (<span class="keyword">char</span>) (temp + <span class="string">'0'</span>);</div><div class="line">                <span class="keyword">return</span> String.valueOf(ans);</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                updateDigitToMax(ans, i, maxChar, digitSet);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> String.valueOf(ans);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">updateDigitToMax</span><span class="params">(<span class="keyword">char</span>[] ans, <span class="keyword">int</span> i, <span class="keyword">char</span> maxChar, TreeSet&lt;Integer&gt; digitSet)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (i == <span class="number">3</span> &amp;&amp; maxChar &gt; <span class="string">'5'</span>) &#123;</div><div class="line">        ans[i] = (<span class="keyword">char</span>) (digitSet.floor(<span class="number">5</span>) + <span class="string">'0'</span>);</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i == <span class="number">1</span> &amp;&amp; ans[i - <span class="number">1</span>] == <span class="string">'2'</span> &amp;&amp; maxChar &gt; <span class="string">'3'</span>) &#123;</div><div class="line">        ans[i] = (<span class="keyword">char</span>) (digitSet.floor(<span class="number">3</span>) + <span class="string">'0'</span>);</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i == <span class="number">0</span> &amp;&amp; maxChar &gt; <span class="string">'2'</span>) &#123;</div><div class="line">        ans[i] = (<span class="keyword">char</span>) (digitSet.floor(<span class="number">2</span>) + <span class="string">'0'</span>);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        ans[i] = maxChar;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="OA-开花时间"><a href="#OA-开花时间" class="headerlink" title="OA: 开花时间"></a><a href="http://www.1point3acres.com/bbs/thread-438228-1-1.html" target="_blank" rel="external">OA: 开花时间</a></h4><ul>
<li>给一个数组，index表示开花时间，element表示开花的位置，第i天arr[i]位置的花会开，为了维持M个group，问最晚的天数k。</li>
<li>考虑逆向处理，这样就可以保证先找到是最晚天数。在最后一天所有的花都开了，使用TreeSet存放没有开的花的index，往前找最大的天数、往后找最小的天数，若前后都间隔了&gt;= k，说明前后都满足连续&gt;= k朵花开放的条件，这样clusterCount++。但是若当前没有开导致前后的小于k，就需要减少clusterCount。当clusterCount == m时就是最晚的、有m个至少k朵花开放的天数。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getDay</span><span class="params">(<span class="keyword">int</span>[] flowers, <span class="keyword">int</span> k, <span class="keyword">int</span> m)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (flowers == <span class="keyword">null</span> || flowers.length == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    TreeSet&lt;Integer&gt; posSet = <span class="keyword">new</span> TreeSet&lt;&gt;();</div><div class="line">    <span class="keyword">int</span> count = <span class="number">1</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> day = flowers.length - <span class="number">1</span>; day &gt;= <span class="number">0</span>; day--) &#123;</div><div class="line">        Integer prevPos = posSet.lower(flowers[day]);</div><div class="line">        <span class="keyword">if</span> (prevPos == <span class="keyword">null</span>) &#123;</div><div class="line">            prevPos = <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        Integer nextPos = posSet.higher(flowers[day]);</div><div class="line">        <span class="keyword">if</span> (nextPos == <span class="keyword">null</span>) &#123;</div><div class="line">            nextPos = flowers.length + <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> prevBloomLen = flowers[day] - prevPos - <span class="number">1</span>;</div><div class="line">        <span class="keyword">int</span> nextBloomLen = nextPos - flowers[day] - <span class="number">1</span>;</div><div class="line">        <span class="keyword">if</span> (prevBloomLen &gt;= k &amp;&amp; nextBloomLen &gt;= k) &#123;</div><div class="line">            count++;</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (prevBloomLen &lt; k &amp;&amp; nextBloomLen &lt; k) &#123;</div><div class="line">            count--;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (count &gt;= m) &#123;</div><div class="line">            <span class="keyword">return</span> day;</div><div class="line">        &#125;</div><div class="line">        posSet.add(flowers[day]);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<hr>
<p>以下是实习面经</p>
<h4 id="求有序数组的平方数"><a href="#求有序数组的平方数" class="headerlink" title="求有序数组的平方数"></a>求有序数组的平方数</h4><ul>
<li>给一个有序数组，求其中各项平方后的结果并排好序。</li>
<li>方法一：双指针，一个从0开始往后，一个从最后一个元素往前，比较大小然后从后往前地存入结果数组。<code>O(N)</code>。 </li>
<li>方法二：从前往后，找到第一个非负数开始，往前后两个方向merge，搜索部分复杂度<code>O(N)</code>，merge部分复杂度<code>O(N)</code>。</li>
<li><p>方法三：既然是有序，那么查找的时候就用二分查找，找『0插入的地方』，然后往两边merge。搜索部分复杂度<code>O(logN)</code>，merge部分复杂度<code>O(N)</code>。再来复习一遍二分查找找第一个出现／插入的位置：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">binarySearch</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> start = -<span class="number">1</span>, end = nums.length;</div><div class="line">    <span class="keyword">while</span> (end - start &gt; <span class="number">1</span>) &#123;</div><div class="line">        <span class="keyword">int</span> mid = start + (end - start) / <span class="number">2</span>;</div><div class="line">        <span class="comment">// invariant relation: nums[start] &lt; target &lt;= nums[end]</span></div><div class="line">        <span class="keyword">if</span> (nums[mid] &gt;= target) &#123;</div><div class="line">            end = mid;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            start = mid;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> end;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>follow-up：这次是求<code>x ^ 2 + a * x</code>而不单单是平方了。</p>
</li>
<li>思路也是类似，找到函数的最小值，往两边merge，这里对称轴出现在<code>-a/2</code>，所以找到这个值之后往两边merge即可。</li>
</ul>
<h4 id="String字符交换"><a href="#String字符交换" class="headerlink" title="String字符交换"></a>String字符交换</h4><ul>
<li>给两个字符，问能否交换str1的两个字符得到str2.</li>
<li>需要考虑两个字符串本身是否相等？长度小于2？</li>
<li><p>方法一：从前往后遍历两个数组，把不同的位置拼到List里，然后判断不同的是否恰好两位且可以互换。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">convert</span><span class="params">(String s1, String s2)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (s1.length() != s2.length()) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">    List&lt;Integer&gt; arr = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">    <span class="keyword">char</span>[] sChar1 = s1.toCharArray();</div><div class="line">    <span class="keyword">char</span>[] sChar2 = s2.toCharArray();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; sChar1.length; i++) &#123;</div><div class="line">        <span class="keyword">if</span> (sChar1[i] != sChar2[i]) &#123;</div><div class="line">            arr.add(i);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (arr.size() != <span class="number">2</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (sChar1[arr.get(<span class="number">0</span>)] == sChar2[arr.get(<span class="number">1</span>)] &amp;&amp; sChar1[arr.get(<span class="number">1</span>)] == sChar2[arr.get(<span class="number">0</span>)]) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>方法二：优化空间，不用额外的List，而是直接用一个变量记录第一个不同的索引，之后再出现不同直接判断就可以了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">convert</span><span class="params">(String s1, String s2)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (s1.length() != s2.length()) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">char</span>[] sChar1 = s1.toCharArray();</div><div class="line">    <span class="keyword">char</span>[] sChar2 = s2.toCharArray();</div><div class="line">    <span class="keyword">int</span> index = -<span class="number">1</span>, count = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; sChar1.length; i++) &#123;</div><div class="line">        <span class="keyword">if</span> (sChar1[i] != sChar2[i]) &#123;</div><div class="line">            count++;</div><div class="line">            <span class="keyword">if</span> (count &gt; <span class="number">2</span>) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (index == -<span class="number">1</span>) &#123;</div><div class="line">                index = i;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">if</span> (sChar1[index] != sChar2[i] || sChar2[index] != sChar1[i]) &#123;</div><div class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="同义词-734-737"><a href="#同义词-734-737" class="headerlink" title="同义词 734 737"></a>同义词 <a href="https://leetcode.com/problems/sentence-similarity/" target="_blank" rel="external">734</a> <a href="https://leetcode.com/problems/sentence-similarity-ii/" target="_blank" rel="external">737</a></h4><ul>
<li>给一堆同义词[(“restaurant”, “cafe”), (“ratings”, “reviews”), …]，再给一些queries[(“restaurant ratings”, “cafe reviews”), …]，要求返回每个query里的对应词是否都是synonym。</li>
<li><p>如果不需要考虑传递性，就直接把字符作为key、对应的所有同义词的set作为value存入map，正反都放一次，比如<code>map.get(&quot;restaurant&quot;).add(&quot;cafe&quot;)), map.get(&quot;restaurant&quot;).add(&quot;cafe&quot;)</code>，这样在query的时候就可以直接调用了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 维护一个总的map，每个单词作为key，对等的单词塞入它维护的Set中</span></div><div class="line"><span class="comment">// 有对称性所以需要正反都加</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">areSentencesSimilar</span><span class="params">(String[] words1, String[] words2, String[][] pairs)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (words1 == <span class="keyword">null</span> || words2 == <span class="keyword">null</span> || pairs == <span class="keyword">null</span></div><div class="line">        || words1.length != words2.length) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    Map&lt;String, Set&lt;String&gt;&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; pairs.length; i++) &#123;</div><div class="line">        <span class="keyword">if</span> (!map.containsKey(pairs[i][<span class="number">0</span>])) &#123;</div><div class="line">            map.put(pairs[i][<span class="number">0</span>], <span class="keyword">new</span> HashSet&lt;&gt;());</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (!map.containsKey(pairs[i][<span class="number">1</span>])) &#123;</div><div class="line">            map.put(pairs[i][<span class="number">1</span>], <span class="keyword">new</span> HashSet&lt;&gt;());</div><div class="line">        &#125;</div><div class="line">        map.get(pairs[i][<span class="number">0</span>]).add(pairs[i][<span class="number">1</span>]);  <span class="comment">// 构建a-&gt;b</span></div><div class="line">        map.get(pairs[i][<span class="number">1</span>]).add(pairs[i][<span class="number">0</span>]);  <span class="comment">// 构建b-&gt;a</span></div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; words1.length; i++) &#123;</div><div class="line">        <span class="keyword">if</span> (words1[i].equals(words2[i])) &#123;</div><div class="line">            <span class="keyword">continue</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (map.get(words1[i]) == <span class="keyword">null</span> || !map.get(words1[i]).contains(words2[i])) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>需要考虑是否可以传递，比如<code>a=b, b=c -&gt; a=c?</code>，可能就需要有个并查集找共同老大。或者直接通过DFS遍历所有可达点。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 和前一个版本的区别是这个可以无限传递a=b=c=d...</span></div><div class="line"><span class="comment">// 还是map维护每个单词等价的单词，但匹配不上的话还得看它的set里所有单词对应的单词是否能匹配到</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">areSentencesSimilarTwo</span><span class="params">(String[] words1, String[] words2, String[][] pairs)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (words1 == <span class="keyword">null</span> || words2 == <span class="keyword">null</span> || pairs == <span class="keyword">null</span></div><div class="line">        || words1.length != words2.length) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// 表示每个单词直接相连的同义词</span></div><div class="line">    Map&lt;String, Set&lt;String&gt;&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; pairs.length; i++) &#123;</div><div class="line">        <span class="keyword">if</span> (!map.containsKey(pairs[i][<span class="number">0</span>])) &#123;</div><div class="line">            map.put(pairs[i][<span class="number">0</span>], <span class="keyword">new</span> HashSet&lt;&gt;());</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (!map.containsKey(pairs[i][<span class="number">1</span>])) &#123;</div><div class="line">            map.put(pairs[i][<span class="number">1</span>], <span class="keyword">new</span> HashSet&lt;&gt;());</div><div class="line">        &#125;</div><div class="line">        map.get(pairs[i][<span class="number">0</span>]).add(pairs[i][<span class="number">1</span>]);  <span class="comment">// 构建a-&gt;b</span></div><div class="line">        map.get(pairs[i][<span class="number">1</span>]).add(pairs[i][<span class="number">0</span>]);  <span class="comment">// 构建b-&gt;a</span></div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; words1.length; i++) &#123;</div><div class="line">        <span class="keyword">if</span> (words1[i].equals(words2[i])) &#123;</div><div class="line">            <span class="keyword">continue</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (!map.containsKey(words1[i])) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (!dfs(words1[i], words2[i], map, <span class="keyword">new</span> HashSet&lt;String&gt;())) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">dfs</span><span class="params">(String start, String end, Map&lt;String, Set&lt;String&gt;&gt; map, Set&lt;String&gt; visited)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (map.get(start).contains(end)) &#123;     <span class="comment">// 终止条件：start连接着end</span></div><div class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line">    visited.add(start);</div><div class="line">    Set&lt;String&gt; neighbors = map.get(start);</div><div class="line">    <span class="keyword">if</span> (neighbors == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span> (String neighbor : neighbors) &#123;</div><div class="line">        <span class="keyword">if</span> (!visited.contains(neighbor) &amp;&amp; dfs(neighbor, end, map, visited)) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>或者通过并查集，初始化时每个单词都是自己的root；然后根据同义词关系将前者的老大设为后者。判断句子是否同义时就找两个单词的老大是否相等即可</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 并查集。初始化时每个单词都是自己的root；然后根据同义词关系将前者的老大设为后者。</span></div><div class="line"><span class="comment">// 判断句子是否同义时就找两个单词的老大是否相等即可</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">areSentencesSimilarTwo</span><span class="params">(String[] words1, String[] words2, String[][] pairs)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (words1.length != words2.length) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">    Map&lt;String,String&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">    <span class="keyword">for</span> (String[] pair : pairs) &#123;     <span class="comment">// 开始时每个老大都是自己</span></div><div class="line">        map.put(pair[<span class="number">0</span>], pair[<span class="number">0</span>]);</div><div class="line">        map.put(pair[<span class="number">1</span>], pair[<span class="number">1</span>]);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span> (String[] pair : pairs) &#123;</div><div class="line">        String par1 = findParent(pair[<span class="number">0</span>], map);</div><div class="line">        String par2 = findParent(pair[<span class="number">1</span>], map);</div><div class="line">        <span class="keyword">if</span> (!par1.equals(par2)) &#123;</div><div class="line">            map.put(par1, par2);    <span class="comment">// par1的老大设为par2</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; words1.length; i++) &#123;</div><div class="line">        <span class="keyword">if</span> (words1[i].equals(words2[i])) &#123;</div><div class="line">            <span class="keyword">continue</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (!map.containsKey(words1[i]) || !map.containsKey(words2[i])) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">        String par1 = findParent(words1[i], map);</div><div class="line">        String par2 = findParent(words2[i], map);</div><div class="line">        <span class="keyword">if</span> (!par1.equals(par2)) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> String <span class="title">findParent</span><span class="params">(String str, Map&lt;String,String&gt; map)</span></span>&#123;</div><div class="line">        <span class="keyword">while</span> (!str.equals(map.get(str))) &#123; <span class="comment">// 追溯str的老大</span></div><div class="line">            str = map.get(str);              </div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> str;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="flip-game-293-294"><a href="#flip-game-293-294" class="headerlink" title="flip game  293   294 "></a>flip game <a href="https://leetcode.com/problems/flip-game/description/" target="_blank" rel="external"> 293 </a> <a href="https://leetcode.com/problems/flip-game-ii/" target="_blank" rel="external"> 294 </a></h4><ul>
<li>给一个只含有<code>+</code>和<code>-</code>的字符串，两个人每次选择一个<code>++</code>flip成<code>--</code>。</li>
<li>第一问：求下一步所有可能的情况。直接找连续出现的<code>++</code>然后取前面部分的substring拼上<code>--</code>再拼上后续部分即可。</li>
<li>第二问：问先开始的玩家能否保证赢（操作后再也没有<code>++</code>让对方没法再flip）。暴力的方法是从头开始循环找到每个<code>startsWith(&quot;++&quot;)</code>，然后替换成<code>--</code>再递归判断对方能否稳赢。一旦对方没法稳赢，就直接return了。但是复杂度略高。可以用Set或者Map缓存中间结果，避免重复递归。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="comment">// O(n!!) 复杂度。递归找，找到++的时候就替换成--然后递归判断对方能否保证赢，不能就直接返回true了。</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canWin</span><span class="params">(String s)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (s == <span class="keyword">null</span> || s.length() &lt; <span class="number">2</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">        Map&lt;String, Boolean&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();  <span class="comment">// 存放已经访问过的的String</span></div><div class="line">        <span class="keyword">return</span> canWin(s, map);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">canWin</span><span class="params">(String s, Map&lt;String, Boolean&gt; map)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (map.containsKey(s)) &#123;</div><div class="line">            <span class="keyword">return</span> map.get(s);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</div><div class="line">            <span class="keyword">if</span> (s.startsWith(<span class="string">"++"</span>, i)) &#123;</div><div class="line">                String t = s.substring(<span class="number">0</span>, i) + <span class="string">"--"</span> + s.substring(i + <span class="number">2</span>);</div><div class="line">                <span class="keyword">if</span> (!canWin(t, map)) &#123;   <span class="comment">// 轮到对方操作，判断</span></div><div class="line">                    map.put(s, <span class="keyword">true</span>);</div><div class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;  </div><div class="line">        &#125;</div><div class="line">        map.put(s, <span class="keyword">false</span>);     <span class="comment">// 缓存起来</span></div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="首个prefix不匹配字符串"><a href="#首个prefix不匹配字符串" class="headerlink" title="首个prefix不匹配字符串"></a>首个prefix不匹配字符串</h4><ul>
<li>给出一个按字典序排好序的字符串数组dictionary，找出其中第一个不是以指定字符串prefix作为前缀的字符串。如<code>[aa, aaa, ax, b, c], aa -&gt; ax</code></li>
<li>看到“排好序”，“找”，就想到二分查找了。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Google</span> </span>&#123;</div><div class="line">    <span class="comment">// O(logN)二分查找第一个不符合要求的XD</span></div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">firstUnmatch</span><span class="params">(String[] words, String prefix)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> lo = <span class="number">0</span>, hi = words.length - <span class="number">1</span>;</div><div class="line">        <span class="keyword">while</span> (lo &lt; hi) &#123;</div><div class="line">            <span class="keyword">int</span> mid = lo + (hi - lo) / <span class="number">2</span>;</div><div class="line">            <span class="keyword">if</span> (words[mid].startsWith(prefix)) &#123;</div><div class="line">                lo = mid + <span class="number">1</span>;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                hi = mid;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> lo == words.length || words[lo].startsWith(prefix)? </div><div class="line">        		<span class="string">"none"</span>: words[lo];</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="flatten-iterator-251"><a href="#flatten-iterator-251" class="headerlink" title="flatten iterator 251"></a>flatten iterator <a href="https://leetcode.com/problems/flatten-2d-vector/description/" target="_blank" rel="external">251</a></h4><ul>
<li>给一个二维List，要求模拟一维iterator，用hasNext和next从头到尾遍历。</li>
<li><p>方法一： 第一版的两个iterator遍历的方法，其实不必要存下整个vec2d。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Vector2D</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">Integer</span>&gt; </span>&#123;</div><div class="line">    <span class="keyword">private</span> List&lt;List&lt;Integer&gt;&gt; vec2d;</div><div class="line">    <span class="keyword">private</span> Iterator&lt;Integer&gt; itCol = <span class="keyword">null</span>;</div><div class="line">    <span class="keyword">private</span> Iterator&lt;List&lt;Integer&gt;&gt; itRow = <span class="keyword">null</span>;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Vector2D</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; vec2d)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.vec2d = vec2d;</div><div class="line">        <span class="keyword">if</span> (vec2d == <span class="keyword">null</span> || vec2d.size() == <span class="number">0</span>) &#123;</div><div class="line">            itRow = <span class="keyword">null</span>;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            itRow = vec2d.iterator();</div><div class="line">            itCol = itRow.next().iterator();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">next</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (!itCol.hasNext()) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">        &#125;</div><div class="line">        Integer ret = itCol.next();</div><div class="line">        <span class="keyword">return</span> ret;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (itCol == <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (itCol.hasNext()) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">while</span> (itCol != <span class="keyword">null</span> &amp;&amp; !itCol.hasNext()) &#123;</div><div class="line">            <span class="keyword">if</span> (itRow != <span class="keyword">null</span>) &#123;</div><div class="line">                <span class="keyword">if</span> (!itRow.hasNext()) &#123;</div><div class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    <span class="keyword">while</span> (itRow.hasNext()) &#123;</div><div class="line">                        List&lt;Integer&gt; newRow = itRow.next();</div><div class="line">                        itCol = newRow.iterator();</div><div class="line">                        <span class="keyword">if</span> (itCol.hasNext()) &#123;</div><div class="line">                            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">                        &#125;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * Your Vector2D object will be instantiated and called as such:</span></div><div class="line"><span class="comment"> * Vector2D i = new Vector2D(vec2d);</span></div><div class="line"><span class="comment"> * while (i.hasNext()) v[f()] = i.next();</span></div><div class="line"><span class="comment"> */</span></div></pre></td></tr></table></figure>
</li>
<li><p>经过简洁：省略了很多条件语句。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Vector2D</span> <span class="keyword">implements</span> <span class="title">Iterator</span>&lt;<span class="title">Integer</span>&gt; </span>&#123;</div><div class="line">    <span class="comment">// 只用到两个iterator，一个存第几行，一个存当前行的第几列</span></div><div class="line">    Iterator&lt;List&lt;Integer&gt;&gt; itRow;</div><div class="line">    Iterator&lt;Integer&gt; itCol;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Vector2D</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; vec2d)</span> </span>&#123;</div><div class="line">        itRow = vec2d.iterator();   </div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">next</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (itCol.hasNext()) &#123;</div><div class="line">            <span class="keyword">return</span> itCol.next();</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="comment">// 当itCol为空或当前行没有next 并且还有后续行的时候</span></div><div class="line">        <span class="keyword">while</span> ((itCol == <span class="keyword">null</span> || !itCol.hasNext()) &amp;&amp; itRow.hasNext()) &#123;</div><div class="line">            itCol = itRow.next().iterator();    <span class="comment">// 持续挪</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> itCol != <span class="keyword">null</span> &amp;&amp; itCol.hasNext();   <span class="comment">// 空或新行行首</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="判断二叉树是否对称-101"><a href="#判断二叉树是否对称-101" class="headerlink" title="判断二叉树是否对称 101"></a>判断二叉树是否对称 <a href="https://leetcode.com/problems/symmetric-tree/" target="_blank" rel="external">101</a></h4><ul>
<li><p>recursive：对称就是在递归判断左子树和右子树是否对称</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * Definition for a binary tree node.</span></div><div class="line"><span class="comment"> * public class TreeNode &#123;</span></div><div class="line"><span class="comment"> *     int val;</span></div><div class="line"><span class="comment"> *     TreeNode left;</span></div><div class="line"><span class="comment"> *     TreeNode right;</span></div><div class="line"><span class="comment"> *     TreeNode(int x) &#123; val = x; &#125;</span></div><div class="line"><span class="comment"> * &#125;</span></div><div class="line"><span class="comment"> */</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSymmetric</span><span class="params">(TreeNode root)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> helper(root.left, root.right);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">helper</span><span class="params">(TreeNode left, TreeNode right)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (left == <span class="keyword">null</span> &amp;&amp; right == <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (left == <span class="keyword">null</span> || right == <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (left.val == right.val) &#123;    <span class="comment">// 首先保证节点值相等</span></div><div class="line">            <span class="comment">// 然后判断左-左和右-右 以及 左-右和右-左</span></div><div class="line">            <span class="keyword">return</span> helper(left.left, right.right) &amp;&amp; helper(left.right, right.left);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>iterative：用Stack吞吐，左先入栈再到右，弹出判断左右是否相等。然后先入左-左再入右-右，然后左-右和右-左（保证对称）</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSymmetric</span><span class="params">(TreeNode root)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        &#125;</div><div class="line">        Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</div><div class="line">        stack.push(root.left);</div><div class="line">        stack.push(root.right);</div><div class="line">        <span class="keyword">while</span> (!stack.isEmpty()) &#123;</div><div class="line">            TreeNode left = stack.pop();        <span class="comment">// take two nodes from stack top</span></div><div class="line">            <span class="keyword">if</span> (stack.isEmpty()) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;                   <span class="comment">// should always have 2 at </span></div><div class="line">            &#125;</div><div class="line">            TreeNode right = stack.pop();</div><div class="line">            <span class="keyword">if</span> (left == <span class="keyword">null</span> &amp;&amp; right == <span class="keyword">null</span>) &#123;</div><div class="line">                <span class="keyword">continue</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (left == <span class="keyword">null</span> || right == <span class="keyword">null</span></div><div class="line">               || left.val != right.val) &#123;      <span class="comment">// ensure equal</span></div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">            stack.push(left.left); <span class="comment">// push 2 symmetric positions into stack</span></div><div class="line">            stack.push(right.right);</div><div class="line"></div><div class="line">            stack.push(left.right);</div><div class="line">            stack.push(right.left);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>follow-up：判断多叉树是否对称。直觉就是把left、right换成一个<code>List&lt;TreeNode&gt;</code>，判断对称的时候一个从前往后取子节点、另一个从后往前取子节点。</p>
</li>
</ul>
<h4 id="outbound-spiral"><a href="#outbound-spiral" class="headerlink" title="outbound spiral"></a>outbound spiral</h4><ul>
<li>給一個String 用outbound spiral方式輸出，例如<code>abcd -&gt; cdba</code>，<code>abcde -&gt; cdbae</code>。(其实没太看懂这题啥意思。。。)</li>
<li>双指针，从中间点开始往两边取。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Google</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">spiralString</span><span class="params">(String s)</span> </span>&#123;</div><div class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</div><div class="line">        <span class="keyword">char</span>[] sChar = s.toCharArray();</div><div class="line">        <span class="keyword">int</span> right = sChar.length / <span class="number">2</span>, left = right - <span class="number">1</span>;</div><div class="line"></div><div class="line">        <span class="keyword">return</span> sb.toString();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="Longest-substirng-with-k-distinct-characters-340"><a href="#Longest-substirng-with-k-distinct-characters-340" class="headerlink" title="Longest substirng with k distinct characters    340 "></a>Longest substirng with k distinct characters   <a href="https://leetcode.com/problems/longest-substring-with-at-most-k-distinct-characters/description/" target="_blank" rel="external"> 340 </a></h4><ul>
<li>给一个字符串和k，求最长子字符串的长度使得其中只含有k个不同的字符。</li>
<li>substring问题-&gt;双指针。O(N)。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Google</span> </span>&#123;</div><div class="line">    <span class="comment">// 双指针，right向前直到多过允许的k个，然后挪left直到恢复到k个</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestSubstringK</span><span class="params">(String s, <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (s == <span class="keyword">null</span> || s.length() == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        Map&lt;Character, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">        <span class="keyword">int</span> maxLen = <span class="number">0</span>, currCharNum = <span class="number">0</span>, left = <span class="number">0</span>;</div><div class="line">        <span class="keyword">char</span>[] sChar = s.toCharArray();</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> right = <span class="number">0</span>; right &lt; sChar.length; right++) &#123;</div><div class="line">            <span class="keyword">if</span> (!map.containsKey(sChar[right])) &#123;</div><div class="line">                currCharNum++;</div><div class="line">                map.put(sChar[right], <span class="number">1</span>);</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                map.put(sChar[right], map.get(sChar[right]) + <span class="number">1</span>);</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (currCharNum &gt; k) &#123;</div><div class="line">                <span class="keyword">while</span> (currCharNum &gt; k &amp;&amp; left &lt; sChar.length) &#123;</div><div class="line">                    Integer temp = map.get(sChar[left]);</div><div class="line">                    <span class="keyword">if</span> (temp == <span class="number">1</span>) &#123;</div><div class="line">                        map.remove(sChar[left]);</div><div class="line">                        currCharNum--;</div><div class="line">                    &#125; <span class="keyword">else</span> &#123;</div><div class="line">                        map.put(sChar[left], temp - <span class="number">1</span>);</div><div class="line">                    &#125;</div><div class="line">                    left++;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            maxLen = Math.max(maxLen, right - left + <span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> maxLen;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="正则-10"><a href="#正则-10" class="headerlink" title="正则  10 "></a>正则 <a href="https://leetcode.com/problems/regular-expression-matching/description/" target="_blank" rel="external"> 10 </a></h4><ul>
<li>输入两个字符串，写个支持<code>.</code>和<code>*</code>的正则表达式判断的method。</li>
<li>目标字符串s和正则字符串p之间相互比较，就需要维护一个boolean的二维数组dp[i][j]，表示<code>s[0~i-1]</code>与<code>p[0~j-1]</code>是否匹配。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isMatch</span><span class="params">(String s, String p)</span> </span>&#123;</div><div class="line">      <span class="keyword">if</span> (s == <span class="keyword">null</span> || p == <span class="keyword">null</span> || s.equals(p)) &#123;</div><div class="line">          <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">char</span>[] sChar = s.toCharArray(), pChar = p.toCharArray();</div><div class="line">      <span class="keyword">int</span> m = sChar.length, n = pChar.length;</div><div class="line">      <span class="keyword">boolean</span>[][] dp = <span class="keyword">new</span> <span class="keyword">boolean</span> [m + <span class="number">1</span>][n + <span class="number">1</span>];</div><div class="line">      </div><div class="line">      <span class="comment">// initial the dp states</span></div><div class="line">      dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="keyword">true</span>;</div><div class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">2</span>; j &lt;= n; j++) &#123;</div><div class="line">          dp[<span class="number">0</span>][j] = pChar[j - <span class="number">1</span>] == <span class="string">'*'</span> &amp;&amp; dp[<span class="number">0</span>][j - <span class="number">2</span>];</div><div class="line">      &#125;</div><div class="line">      </div><div class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; i++) &#123;</div><div class="line">          <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= n; j++) &#123;</div><div class="line">              <span class="keyword">if</span> (pChar[j - <span class="number">1</span>] == <span class="string">'*'</span>) &#123;  </div><div class="line">                  <span class="comment">// check if ignoring curr pattern</span></div><div class="line">                  <span class="comment">// OR (the char is matched AND ignoring curr pattern)</span></div><div class="line">                  dp[i][j] = (dp[i][j - <span class="number">2</span>]) </div><div class="line">                      || ((sChar[i - <span class="number">1</span>] == pChar[j - <span class="number">2</span>] || pChar[j - <span class="number">2</span>] == <span class="string">'.'</span>) &amp;&amp; dp[i - <span class="number">1</span>][j]);</div><div class="line">              &#125; <span class="keyword">else</span> &#123;</div><div class="line">                  <span class="comment">// check if char is matched for curr pattern</span></div><div class="line">                  dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>] </div><div class="line">                      &amp;&amp; (sChar[i - <span class="number">1</span>] == pChar[j - <span class="number">1</span>] || pChar[j - <span class="number">1</span>] == <span class="string">'.'</span>);</div><div class="line">              &#125;</div><div class="line">          &#125;</div><div class="line">      &#125;</div><div class="line">      <span class="keyword">return</span> dp[m][n];</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="X删除字眼"><a href="#X删除字眼" class="headerlink" title="X删除字眼"></a>X删除字眼</h4><ul>
<li>给一个字符串如<code>aabbaac</code>，给一个forbidden字眼<code>a</code>，返回删除后的字符串<code>bbc</code>，若不存在就返回本身。</li>
<li>O(N)直接用StringBuilder拼接。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Google</span> </span>&#123;</div><div class="line">    <span class="comment">// 直接拼接</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">deleteChar</span><span class="params">(String s, <span class="keyword">char</span> c)</span> </span>&#123;</div><div class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</div><div class="line">        <span class="keyword">char</span>[] sChar = s.toCharArray();</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> temp: sChar) &#123;</div><div class="line">            <span class="keyword">if</span> (temp != c) &#123;</div><div class="line">                sb.append(temp);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> sb.toString();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="字母矩阵移动组成单词"><a href="#字母矩阵移动组成单词" class="headerlink" title="字母矩阵移动组成单词"></a><a href="http://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=306874&amp;extra=page%3D3%26filter%3Dsortid%26sortid%3D311%26sortid%3D311" target="_blank" rel="external">字母矩阵移动组成单词</a></h4><ul>
<li>给一个列数生成由大写字母组成的矩阵，再给一个单词，从左上角开始挪动，求挪动的路径（用&amp;连接).</li>
<li>求路径，用BFS可以保证最短。在point中加入一个path段记录到达该处的路径，一旦找到目标字符就直接把path拼进去。再以该处为起点继续找后续字符（需要清空path）。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Google</span> </span>&#123;</div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> row, col;</div><div class="line">        String path;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Point</span><span class="params">(<span class="keyword">int</span> row, <span class="keyword">int</span> col, String path)</span> </span>&#123;</div><div class="line">            <span class="keyword">this</span>.row = row;</div><div class="line">            <span class="keyword">this</span>.col = col;</div><div class="line">            <span class="keyword">this</span>.path = path;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">final</span> <span class="keyword">private</span> <span class="keyword">int</span> CHAR_NUM = <span class="number">26</span>;</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">moveWord</span><span class="params">(<span class="keyword">int</span> width, String target)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (target == <span class="keyword">null</span> || target.length() == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;String&gt;();</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">char</span>[][] table = buildTable(width);</div><div class="line">        <span class="keyword">int</span> rows = table.length, cols = table[<span class="number">0</span>].length;</div><div class="line">        <span class="keyword">char</span>[] targetChar = target.toCharArray();</div><div class="line">        Point curr = <span class="keyword">new</span> Point(<span class="number">0</span>, <span class="number">0</span>);</div><div class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</div><div class="line">        <span class="keyword">boolean</span> first = <span class="keyword">true</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; targetChar.length; i++) &#123;</div><div class="line">            curr = bfs(table, curr, targetChar[i], <span class="keyword">new</span> <span class="keyword">boolean</span>[][] visited);</div><div class="line">            <span class="keyword">if</span> (!first) &#123;</div><div class="line">                sb.append(<span class="string">" &amp; "</span>);</div><div class="line">            &#125;</div><div class="line">            sb.append(curr.path);</div><div class="line">            curr.path = <span class="string">""</span>;     <span class="comment">// 重置当前点为起点</span></div><div class="line">            first = <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> sb.toString();</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> Point <span class="title">bfs</span><span class="params">(<span class="keyword">char</span>[][] table, Point p, <span class="keyword">char</span> c, <span class="keyword">boolean</span>[][] visited, String path, StringBuilder sb)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (visited[p.row][p.col]) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">        &#125;</div><div class="line">        Queue&lt;Point&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">        q.add(p);</div><div class="line">        <span class="keyword">while</span> (!q.isEmpty()) &#123;</div><div class="line">            Point curr = q.poll();</div><div class="line">            <span class="keyword">if</span> (table[curr.row][curr.col] == c) &#123;     <span class="comment">// 找到了</span></div><div class="line">                <span class="keyword">return</span> curr;</div><div class="line">            &#125;</div><div class="line">            visited[curr.row][curr.col] = <span class="keyword">true</span>;       <span class="comment">// 标记当前坐标点已访问</span></div><div class="line">            <span class="keyword">if</span> (curr.col &lt; table[<span class="number">0</span>].length - <span class="number">1</span> &amp;&amp; !visited[curr.row][curr.col + <span class="number">1</span>]) &#123;</div><div class="line">                q.add(<span class="keyword">new</span> Point(curr.row, curr.col + <span class="number">1</span>, curr.path + <span class="string">"R"</span>));</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (curr.row &lt; table.length - <span class="number">1</span> &amp;&amp; !visited[curr.row + <span class="number">1</span>][curr.col]) &#123;</div><div class="line">                q.add(<span class="keyword">new</span> Point(curr.row + <span class="number">1</span>, curr.col, curr.path + <span class="string">"D"</span>));</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (curr.col &gt; <span class="number">0</span> &amp;&amp; !visited[curr.row][curr.col - <span class="number">1</span>]) &#123;</div><div class="line">                q.add(<span class="keyword">new</span> Point(curr.row, curr.col - <span class="number">1</span>, curr.path + <span class="string">"L"</span>));</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (curr.row &gt; <span class="number">0</span> &amp;&amp; !visited[curr.row - <span class="number">1</span>][curr.col]) &#123;</div><div class="line">                q.add(<span class="keyword">new</span> Point(curr.row - <span class="number">1</span>, curr.col, curr.path + <span class="string">"U"</span>));</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">char</span>[][] buildTable(<span class="keyword">int</span> width) &#123;</div><div class="line">        <span class="keyword">int</span> height = CHAR_NUM / width;</div><div class="line">        <span class="keyword">if</span> (CHAR_NUM % width &gt; <span class="number">0</span>) &#123;</div><div class="line">            height++;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">char</span>[][] table = <span class="keyword">new</span> <span class="keyword">char</span>[height][width];</div><div class="line">        <span class="keyword">char</span> c = <span class="string">'A'</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; height; i++) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; width &amp;&amp; c &lt; <span class="string">'Z'</span>; j++) &#123;</div><div class="line">                table[i][j] = c++;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> table;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="43-multiply-strings-1"><a href="#43-multiply-strings-1" class="headerlink" title="43. multiply-strings"></a><a href="https://leetcode.com/problems/multiply-strings/description/" target="_blank" rel="external">43. multiply-strings</a></h4><p> <a href="https://discuss.leetcode.com/topic/30508/easiest-java-solution-with-graph-explanation" target="_blank" rel="external">解析在此</a><br> <img src="https://drscdn.500px.org/photo/130178585/m%3D2048/300d71f784f679d5e70fadda8ad7d68f" alt=""><br> <figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">multiply</span><span class="params">(String num1, String num2)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (num1 == <span class="keyword">null</span> || num2 == <span class="keyword">null</span></div><div class="line">           || num1.length() == <span class="number">0</span> || num2.length() == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="string">""</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> m = num1.length(), n = num2.length();</div><div class="line">        <span class="keyword">int</span>[] result = <span class="keyword">new</span> <span class="keyword">int</span> [m + n];</div><div class="line">        <span class="keyword">char</span>[] cnum1 = num1.toCharArray(), cnum2 = num2.toCharArray();</div><div class="line">        </div><div class="line">        <span class="comment">// from least significant bit</span></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = m - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = n - <span class="number">1</span>; j &gt;= <span class="number">0</span>; j--) &#123;</div><div class="line">                <span class="keyword">int</span> mult = (cnum1[i] - <span class="string">'0'</span>) * (cnum2[j] - <span class="string">'0'</span>);</div><div class="line">                <span class="keyword">int</span> first = i + j, second = i + j + <span class="number">1</span>;</div><div class="line">                <span class="keyword">int</span> sum = mult + result[second];    <span class="comment">// add carry from prev steps</span></div><div class="line">                result[first] += sum / <span class="number">10</span>;  <span class="comment">// accumulate</span></div><div class="line">                result[second] = sum % <span class="number">10</span>;  <span class="comment">// overwrite</span></div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</div><div class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</div><div class="line">        <span class="comment">// find the first non-zero item</span></div><div class="line">        <span class="keyword">while</span> (i &lt; result.length &amp;&amp; sb.length() == <span class="number">0</span> &amp;&amp; result[i] == <span class="number">0</span>) &#123;</div><div class="line">            i++;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">while</span> (i &lt; result.length) &#123;</div><div class="line">            sb.append(result[i++]);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> sb.length() == <span class="number">0</span>? <span class="string">"0"</span>: sb.toString();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h4 id="格子中最长连续-562"><a href="#格子中最长连续-562" class="headerlink" title="格子中最长连续 562 "></a>格子中最长连续<a href="https://leetcode.com/problems/longest-line-of-consecutive-one-in-matrix/description/" target="_blank" rel="external"> 562 </a></h4><ul>
<li>给一个只有0和1的int二维数组，求横或竖或两个对角方向上最长连续出现1的个数。</li>
<li><p>方法一：O(N^2)从每个点出发往四个方向分别遍历，求最长长度。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="comment">// O(N^3)：矩阵遍历每个点是N^2，对每个点在扫四个方向是4N</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestLine</span><span class="params">(<span class="keyword">int</span>[][] M)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (M == <span class="keyword">null</span> || M.length == <span class="number">0</span> || M[<span class="number">0</span>].length == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> longest = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; M.length; i++) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; M[<span class="number">0</span>].length; j++) &#123;</div><div class="line">                <span class="keyword">if</span> (M[i][j] == <span class="number">1</span>) &#123;</div><div class="line">                    longest = Math.max(longest, getLongest(M, i, j));</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> longest;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// 右、下、右下、左下</span></div><div class="line">    <span class="keyword">final</span> <span class="keyword">private</span> <span class="keyword">int</span>[][] directions = <span class="keyword">new</span> <span class="keyword">int</span>[][] &#123;&#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">1</span>, <span class="number">1</span>&#125;, &#123;<span class="number">1</span>, -<span class="number">1</span>&#125;&#125;; </div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getLongest</span><span class="params">(<span class="keyword">int</span>[][] M, <span class="keyword">int</span> row, <span class="keyword">int</span> col)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> maxLen = <span class="number">1</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span>[] direction: directions) &#123;</div><div class="line">            <span class="keyword">int</span> len = <span class="number">1</span>;</div><div class="line">            <span class="keyword">int</span> newRow = row + direction[<span class="number">0</span>];</div><div class="line">            <span class="keyword">int</span> newCol = col + direction[<span class="number">1</span>];</div><div class="line">            <span class="comment">// 持续在一个方向上继续走</span></div><div class="line">            <span class="keyword">while</span> (isValidPosition(M, newRow, newCol) &amp;&amp; M[newRow][newCol] == <span class="number">1</span>) &#123;</div><div class="line">                len++;</div><div class="line">                newRow += direction[<span class="number">0</span>];</div><div class="line">                newCol += direction[<span class="number">1</span>];</div><div class="line">            &#125;</div><div class="line">            maxLen = Math.max(maxLen, len);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> maxLen;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isValidPosition</span><span class="params">(<span class="keyword">int</span>[][] M, <span class="keyword">int</span> row, <span class="keyword">int</span> col)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> row &gt;= <span class="number">0</span> &amp;&amp; col &gt;= <span class="number">0</span> &amp;&amp;</div><div class="line">            row &lt; M.length &amp;&amp; col &lt; M[<span class="number">0</span>].length;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>方法二：类似于DP，记录下四个方向各自的最大长度。参考<a href="https://discuss.leetcode.com/topic/87389/simple-and-concise-java-solution-easy-to-understand-o-m-n-space" target="_blank" rel="external">这个</a>被lz<br>和<a href="https://leetcode.com/problems/n-queens-ii/descrciption/" target="_blank" rel="external">N皇后问题</a>很像。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="comment">// O(N^2)时间，O(M+N)空间</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestLine</span><span class="params">(<span class="keyword">int</span>[][] M)</span> </span>&#123;</div><div class="line">        <span class="comment">// validation</span></div><div class="line">        <span class="keyword">if</span> (M == <span class="keyword">null</span> || M.length == <span class="number">0</span> || M[<span class="number">0</span>].length == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> rows = M.length, cols = M[<span class="number">0</span>].length;</div><div class="line">        <span class="keyword">int</span> longest = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span>[] bucketCol = <span class="keyword">new</span> <span class="keyword">int</span> [cols];</div><div class="line">        <span class="keyword">int</span>[] bucketDiag1 = <span class="keyword">new</span> <span class="keyword">int</span> [rows + cols];</div><div class="line">        <span class="keyword">int</span>[] bucketDiag2 = <span class="keyword">new</span> <span class="keyword">int</span> [rows + cols];</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rows; i++) &#123;</div><div class="line">            <span class="keyword">int</span> row = <span class="number">0</span>;                <span class="comment">// 新行初始化为0</span></div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; cols; j++) &#123;</div><div class="line">                <span class="keyword">if</span> (M[i][j] == <span class="number">1</span>) &#123;     <span class="comment">// 当前为1，对应更新bucket</span></div><div class="line">                    row++;</div><div class="line">                    bucketCol[j]++;</div><div class="line">                    bucketDiag1[j + i]++;</div><div class="line">                    bucketDiag2[j - i + M.length]++;</div><div class="line">                    longest = Math.max(longest, row);</div><div class="line">                    longest = Math.max(longest, bucketCol[j]);</div><div class="line">                    longest = Math.max(longest, bucketDiag1[j + i]);</div><div class="line">                    longest = Math.max(longest, bucketDiag2[j - i + M.length]);</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    row = <span class="number">0</span>;</div><div class="line">                    bucketCol[j] = <span class="number">0</span>;</div><div class="line">                    bucketDiag1[j + i] = <span class="number">0</span>;</div><div class="line">                    bucketDiag2[j - i + M.length] = <span class="number">0</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> longest;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="给出一系列字母求相除结果-399"><a href="#给出一系列字母求相除结果-399" class="headerlink" title="给出一系列字母求相除结果  399 "></a>给出一系列字母求相除结果 <a href="https://leetcode.com/problems/evaluate-division/description/" target="_blank" rel="external"> 399 </a></h4><ul>
<li>给一系列字符串的倍数关系，给出后续query的结果。</li>
<li>图论。可以抽象成一个双向图，每个字符串都作为节点，然后权重就是两个节点的商。我的做法分三步：遍历一遍形成str到index的映射，然后建立邻接矩阵并把权重填充进去（正反都放，不存在就是0），最后就query的时候就用DFS，遍历当前节点所有能走到的节点看看能否到达终点。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">double</span>[] calcEquation(String[][] equations, <span class="keyword">double</span>[] values, String[][] queries) &#123;</div><div class="line">        <span class="keyword">if</span> (equations == <span class="keyword">null</span> || values == <span class="keyword">null</span> || queries == <span class="keyword">null</span> || </div><div class="line">           equations.length == <span class="number">0</span> || values.length == <span class="number">0</span> || queries.length == <span class="number">0</span></div><div class="line">           || equations.length != values.length) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">double</span>[<span class="number">0</span>];</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">double</span>[] ans = <span class="keyword">new</span> <span class="keyword">double</span> [queries.length];</div><div class="line">        </div><div class="line">        <span class="comment">// create string to index mapping and get the total # of str</span></div><div class="line">        <span class="keyword">int</span> index = <span class="number">0</span>;</div><div class="line">        Map&lt;String, Integer&gt; str2Index = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">        <span class="keyword">for</span> (String[] equation: equations) &#123;</div><div class="line">            <span class="keyword">if</span> (!str2Index.containsKey(equation[<span class="number">0</span>])) &#123;</div><div class="line">                str2Index.put(equation[<span class="number">0</span>], index++);</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (!str2Index.containsKey(equation[<span class="number">1</span>])) &#123;</div><div class="line">                str2Index.put(equation[<span class="number">1</span>], index++);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="comment">// update the values into matrix</span></div><div class="line">        <span class="keyword">double</span>[][] matrix = <span class="keyword">new</span> <span class="keyword">double</span>[index][index];</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; values.length; i++) &#123;</div><div class="line">            <span class="keyword">int</span> from = str2Index.get(equations[i][<span class="number">0</span>]);</div><div class="line">            <span class="keyword">int</span> to = str2Index.get(equations[i][<span class="number">1</span>]);</div><div class="line">            matrix[from][to] = values[i];</div><div class="line">            matrix[to][from] = <span class="number">1.0</span> / values[i];</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="comment">// query with dfs</span></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; queries.length; i++) &#123;</div><div class="line">            <span class="keyword">if</span> (!str2Index.containsKey(queries[i][<span class="number">0</span>]) || !str2Index.containsKey(queries[i][<span class="number">1</span>])) &#123;</div><div class="line">                ans[i] = -<span class="number">1.0</span>;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">boolean</span>[] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[index];</div><div class="line">                <span class="keyword">int</span> from = str2Index.get(queries[i][<span class="number">0</span>]);</div><div class="line">                <span class="keyword">int</span> to = str2Index.get(queries[i][<span class="number">1</span>]);</div><div class="line">                <span class="keyword">if</span> (from == to) &#123;</div><div class="line">                    ans[i] = <span class="number">1.0</span>;</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    <span class="comment">//System.out.println("from: " + from + " to " + to);</span></div><div class="line">                    <span class="keyword">double</span> temp = dfs(matrix, visited, str2Index, from, to);</div><div class="line">                    ans[i] = isZero(temp)? -<span class="number">1.0</span>: temp; </div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">double</span> <span class="title">dfs</span><span class="params">(<span class="keyword">double</span>[][] matrix, <span class="keyword">boolean</span>[] visited, Map&lt;String, Integer&gt; str2Index, <span class="keyword">int</span> from, <span class="keyword">int</span> to)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (matrix[from][to] &gt; <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> matrix[from][to];</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            visited[from] = <span class="keyword">true</span>;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; matrix.length; i++) &#123;</div><div class="line">                <span class="comment">//System.out.println("    from: " + from + " to " + to);</span></div><div class="line">                <span class="keyword">if</span> (matrix[from][i] &gt; <span class="number">0</span> &amp;&amp; !visited[i]) &#123;</div><div class="line">                    <span class="keyword">double</span> temp = dfs(matrix, visited, str2Index, i, to);</div><div class="line">                    <span class="keyword">if</span> (temp &gt; <span class="number">0</span>) &#123;</div><div class="line">                        <span class="keyword">return</span> matrix[from][i] * temp;</div><div class="line">                    &#125;</div><div class="line"></div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            visited[from] = <span class="keyword">false</span>;</div><div class="line">            <span class="keyword">return</span> <span class="number">0.0</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isZero</span><span class="params">(<span class="keyword">double</span> val)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> Math.abs(val) &lt; <span class="number">0.00000001</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="十进制转七进制-可参考405"><a href="#十进制转七进制-可参考405" class="headerlink" title="十进制转七进制 可参考405"></a>十进制转七进制 <a href="https://leetcode.com/problems/convert-a-number-to-hexadecimal/description/" target="_blank" rel="external">可参考405</a></h4><ul>
<li>十进制转二进制就是除+膜。不过需要注意负数除法的时候不能带上最前面都符号位。</li>
<li>推广到div进制。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">final</span> <span class="keyword">private</span> <span class="keyword">char</span>[] map = &#123;<span class="string">'0'</span>, <span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>,<span class="string">'4'</span>,<span class="string">'5'</span>,<span class="string">'6'</span>,<span class="string">'7'</span>,<span class="string">'8'</span>,<span class="string">'9'</span>,<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>,<span class="string">'e'</span>,<span class="string">'f'</span>&#125;;</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">trans</span><span class="params">(<span class="keyword">int</span> num, <span class="keyword">int</span> div)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (num == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="string">"0"</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">long</span> longNum = num &amp; <span class="number">0x00000000ffffffffL</span>;   <span class="comment">// 不能直接强制转换，不然会保留符号</span></div><div class="line">        String hexStr = <span class="string">""</span>;</div><div class="line">        <span class="keyword">while</span> (longNum != <span class="number">0</span>) &#123;</div><div class="line">            <span class="comment">// System.out.println();</span></div><div class="line">            hexStr = map[(<span class="keyword">int</span>)(longNum % div)] + hexStr;</div><div class="line">            longNum /= div;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> hexStr;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="九宫格-面巾"><a href="#九宫格-面巾" class="headerlink" title="九宫格 面巾"></a>九宫格 <a href="http://www.1point3acres.com/bbs/thread-307266-1-1.html" target="_blank" rel="external">面巾</a></h4><ul>
<li>给一个只含有数字【1到9】的矩阵，从矩阵中寻找九宫格(3x3的正方形，横着加，竖着加，对角线加都是15)，返回矩阵中这样的九宫格的个数。</li>
<li>遍历所有九宫格的中心点，求对角线x2、行x3、列x3。有个hint是，只有中心点是5的九宫格才有可能符合要求，因此只需要在5处跑一遍3x3的判断即可。</li>
</ul>
<h4 id="字符串重组"><a href="#字符串重组" class="headerlink" title="字符串重组"></a>字符串重组</h4><ul>
<li>版本一：pattern和str，判断是否match。比如：输入“acg”和“abcdefg”，输出true。但“agc”和“abcdefg”就不对了，因为顺序不同。双指针。</li>
<li><p>版本二：<a href="https://leetcode.com/problems/permutation-in-string/description/" target="_blank" rel="external">莉蔻567</a>。不同之处在于不是subsequence而是严格的substring，且顺序不需要关注，因为是后者包含前者的permutation。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkInclusion</span><span class="params">(String s1, String s2)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (s1 == <span class="keyword">null</span> || s2 == <span class="keyword">null</span> || s1.length() == <span class="number">0</span> || s2.length() == <span class="number">0</span> ) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">char</span>[] s1Char = s1.toCharArray();</div><div class="line">        Map&lt;Character, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">        <span class="keyword">int</span> len1 = s1Char.length;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len1; i++) &#123;   <span class="comment">// 统计s1中每个字母出现个数，作为producer</span></div><div class="line">            map.put(s1Char[i], map.getOrDefault(s1Char[i], <span class="number">0</span>) + <span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">char</span>[] s2Char = s2.toCharArray();</div><div class="line">        <span class="keyword">int</span> count = map.size();</div><div class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span> (right &lt; s2Char.length) &#123;     <span class="comment">// 遍历s2作为consumer消耗字符，直到map中所有字符消耗完</span></div><div class="line">            <span class="keyword">if</span> (map.containsKey(s2Char[right])) &#123;</div><div class="line">                map.put(s2Char[right], map.get(s2Char[right]) - <span class="number">1</span>);</div><div class="line">                <span class="keyword">if</span> (map.get(s2Char[right]) == <span class="number">0</span>) &#123;</div><div class="line">                    count--;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">while</span> (count == <span class="number">0</span>) &#123;            <span class="comment">// 左指针补回来，直到map中出现available的字符</span></div><div class="line">                <span class="keyword">if</span> (right - left + <span class="number">1</span> == len1) &#123;</div><div class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span> (map.containsKey(s2Char[left])) &#123;</div><div class="line">                    map.put(s2Char[left], map.get(s2Char[left]) + <span class="number">1</span>);</div><div class="line">                    <span class="keyword">if</span> (map.get(s2Char[left]) &gt; <span class="number">0</span>) &#123;</div><div class="line">                        count++;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">                left++;</div><div class="line">            &#125;</div><div class="line">            right++;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>与之类似的<a href="https://leetcode.com/problems/find-all-anagrams-in-a-string/description/" target="_blank" rel="external">莉蔻</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="comment">// O(N)双指针。先一波流统计p中各个字符出现的频数，然后consume掉map中的字符直到没有available的</span></div><div class="line">    <span class="comment">// 此时判断左右指针之间长度是否等于目标的长度，然后挪动左指针重新往map中加回去，直到出现可选字符</span></div><div class="line">    <span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">findAnagrams</span><span class="params">(String s, String p)</span> </span>&#123;</div><div class="line">        List&lt;Integer&gt; ans = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">        <span class="keyword">if</span> (s == <span class="keyword">null</span> || p == <span class="keyword">null</span> || s.length() == <span class="number">0</span> || p.length() == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> ans;</div><div class="line">        &#125;</div><div class="line">        Map&lt;Character, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">        <span class="keyword">char</span>[] pChar = p.toCharArray();</div><div class="line">        <span class="keyword">int</span> pLen = pChar.length;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> c: pChar) &#123;</div><div class="line">            map.put(c, map.getOrDefault(c, <span class="number">0</span>) + <span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">char</span>[] sChar = s.toCharArray();</div><div class="line">        <span class="keyword">int</span> count = map.size();     <span class="comment">// 还有count个不同的字符可选</span></div><div class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span> (right &lt; sChar.length) &#123;</div><div class="line">            <span class="keyword">if</span> (map.containsKey(sChar[right])) &#123;</div><div class="line">                map.put(sChar[right], map.get(sChar[right]) - <span class="number">1</span>);</div><div class="line">                <span class="keyword">if</span> (map.get(sChar[right]) == <span class="number">0</span>) &#123;</div><div class="line">                    count--;    <span class="comment">// 可选字符少了一个</span></div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">while</span> (count == <span class="number">0</span>) &#123;</div><div class="line">                <span class="keyword">if</span> (right - left + <span class="number">1</span> == pLen) &#123;</div><div class="line">                    ans.add(left);</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span> (map.containsKey(sChar[left])) &#123;</div><div class="line">                    map.put(sChar[left], map.get(sChar[left]) + <span class="number">1</span>);</div><div class="line">                    <span class="keyword">if</span> (map.get(sChar[left]) &gt; <span class="number">0</span>) &#123;</div><div class="line">                        count++;    <span class="comment">// 恢复可选字符</span></div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">                left++;</div><div class="line">            &#125;</div><div class="line">            right++;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><a href="https://leetcode.com/problems/longest-substring-without-repeating-characters/description/" target="_blank" rel="external">最长无重复字符的子串长度</a>、 <a href="https://leetcode.com/problems/longest-substring-with-at-most-two-distinct-characters/description/" target="_blank" rel="external">最长至多两个不同字符的字串长度</a>、  <a href="https://leetcode.com/problems/longest-substring-with-at-most-k-distinct-characters/description/" target="_blank" rel="external">最长至多k个不同字符的字串长度</a>.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstring</span><span class="params">(String s)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (s == <span class="keyword">null</span> || s.length() == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    Map&lt;Character, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">    <span class="keyword">char</span>[] sChar = s.toCharArray();</div><div class="line">    <span class="keyword">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>, ans = <span class="number">1</span>;</div><div class="line">    <span class="keyword">while</span> (right &lt; sChar.length) &#123;</div><div class="line">        <span class="keyword">if</span> (!map.containsKey(sChar[right])) &#123;   <span class="comment">// 首次出现</span></div><div class="line">            map.put(sChar[right], right);       <span class="comment">// 存出现的索引</span></div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            ans = Math.max(ans, right - left);  <span class="comment">// 出现重复字符c，更新长度</span></div><div class="line">            left = Math.max(map.get(sChar[right]) + <span class="number">1</span>, left);   <span class="comment">// 跳到c上次出现索引的下一位或不动</span></div><div class="line">            map.put(sChar[right], right);       <span class="comment">// 更新c的"最后一次出现索引"</span></div><div class="line">        &#125;</div><div class="line">        right++;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> Math.max(ans, right - left);     <span class="comment">// 可能需要看最后一段</span></div><div class="line">&#125;</div><div class="line"><span class="comment">// 双指针，右指针负责加入新的字符，一旦和当前范围内除了最后出现字符的另一个字符不同，说明超过了2，则需要更新到最后出现字符首次出现处。</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstringTwoDistinct</span><span class="params">(String s)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (s == <span class="keyword">null</span> || s.length() == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> ans = <span class="number">1</span>;</div><div class="line">    <span class="keyword">int</span> firstIndex = <span class="number">0</span>, lastIndex = -<span class="number">1</span>;</div><div class="line">    <span class="keyword">char</span>[] sChar = s.toCharArray();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; sChar.length; i++) &#123;</div><div class="line">        <span class="keyword">if</span> (sChar[i] == sChar[i - <span class="number">1</span>]) &#123; <span class="comment">// 连续相同的，直接往后挪</span></div><div class="line">            <span class="keyword">continue</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (lastIndex &gt; -<span class="number">1</span> &amp;&amp; sChar[i] != sChar[lastIndex]) &#123;</div><div class="line">            ans = Math.max(ans, i - firstIndex);</div><div class="line">            firstIndex = lastIndex + <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        lastIndex = i - <span class="number">1</span>;  <span class="comment">// sChar[i]与前一个字符不同，则前一个字符的最后一个出现位置是i - 1</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> Math.max(sChar.length - firstIndex, ans);</div><div class="line">&#125;</div><div class="line"><span class="comment">// 双指针，right向前直到多过允许的k个，然后挪left直到恢复到k个</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lengthOfLongestSubstringKDistinct</span><span class="params">(String s, <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (s == <span class="keyword">null</span> || s.length() == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    Map&lt;Character, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">    <span class="keyword">int</span> maxLen = <span class="number">0</span>, currCharNum = <span class="number">0</span>, left = <span class="number">0</span>;</div><div class="line">    <span class="keyword">char</span>[] sChar = s.toCharArray();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> right = <span class="number">0</span>; right &lt; sChar.length; right++) &#123;</div><div class="line">        <span class="keyword">if</span> (!map.containsKey(sChar[right])) &#123;</div><div class="line">            currCharNum++;</div><div class="line">            map.put(sChar[right], <span class="number">1</span>);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            map.put(sChar[right], map.get(sChar[right]) + <span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (currCharNum &gt; k) &#123;</div><div class="line">            <span class="keyword">while</span> (currCharNum &gt; k &amp;&amp; left &lt; sChar.length) &#123;</div><div class="line">                Integer temp = map.get(sChar[left]);</div><div class="line">                <span class="keyword">if</span> (temp == <span class="number">1</span>) &#123;</div><div class="line">                    map.remove(sChar[left]);</div><div class="line">                    currCharNum--;</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    map.put(sChar[left], temp - <span class="number">1</span>);</div><div class="line">                &#125;</div><div class="line">                left++;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        maxLen = Math.max(maxLen, right - left + <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> maxLen;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>莉蔻还有类似的双指针破双字符串的题，如<a href="https://leetcode.com/problems/minimum-window-substring/description/" target="_blank" rel="external"> 76最小长度的substring </a>，即给一个t，求s中最短的字符串使得t中出现的字母都包含在该子串中。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">minWindow</span><span class="params">(String s, String t)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (s == <span class="keyword">null</span> || t == <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="string">""</span>;</div><div class="line">        &#125;</div><div class="line">        Map&lt;Character, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">        <span class="keyword">char</span>[] tChar = t.toCharArray();</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> c: tChar) &#123;   <span class="comment">// 统计每个字母出现的频数</span></div><div class="line">            map.put(c, map.getOrDefault(c, <span class="number">0</span>) + <span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> minLen = Integer.MAX_VALUE, start = <span class="number">0</span>;</div><div class="line">        <span class="keyword">char</span>[] sChar = s.toCharArray();</div><div class="line">        <span class="keyword">int</span> count = map.size();     <span class="comment">// count表示可用的不同字符数</span></div><div class="line">        <span class="keyword">int</span> left = <span class="number">0</span>, right = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span> (right &lt; sChar.length) &#123;</div><div class="line">            <span class="keyword">if</span> (map.containsKey(sChar[right])) &#123;</div><div class="line">                map.put(sChar[right], map.get(sChar[right]) - <span class="number">1</span>);</div><div class="line">                <span class="keyword">if</span> (map.get(sChar[right]) == <span class="number">0</span>) &#123;</div><div class="line">                    count--;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">while</span> (count == <span class="number">0</span>) &#123;    <span class="comment">// 没有avaliable的字符，需要左指针补回来</span></div><div class="line">                <span class="keyword">while</span> (!map.containsKey(sChar[left])) &#123;</div><div class="line">                    left++;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">int</span> currLen = right - left + <span class="number">1</span>;</div><div class="line">                <span class="keyword">if</span> (minLen &gt; currLen) &#123;</div><div class="line">                    minLen = currLen;</div><div class="line">                    start = left;</div><div class="line">                &#125;</div><div class="line">                map.put(sChar[left], map.get(sChar[left]) + <span class="number">1</span>);</div><div class="line">                <span class="keyword">if</span> (map.get(sChar[left]) &gt; <span class="number">0</span>) &#123;</div><div class="line">                    count++;</div><div class="line">                &#125;</div><div class="line">                left++;</div><div class="line">            &#125;</div><div class="line">            right++;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> minLen == Integer.MAX_VALUE? <span class="string">""</span>: s.substring(start, start + minLen);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>上面这个需要和<a href="https://leetcode.com/problems/minimum-window-subsequence/description/" target="_blank" rel="external"> 727最小长度的subsequence </a>区分，这里除了出现的字符一样，出现分的先后顺序也要一致。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> String <span class="title">minWindow</span><span class="params">(String S, String T)</span> </span>&#123;</div><div class="line">    <span class="comment">// 动态规划, 行为tLen + 1, 列为sLen + 1, dp[][]表示从dp[i][j]到j到这部分字符串是所求，</span></div><div class="line">    <span class="comment">// 即T[0, j)是S[0, i)的subsequence with substring S[dp[i][j], j).</span></div><div class="line">    <span class="comment">// 初始状态为</span></div><div class="line">    <span class="comment">// 状态转换为，若当前字符不匹配，则根据左侧（即S前一个字符）情况决定起始位置（保证最短）</span></div><div class="line">    <span class="comment">// 若匹配，则依赖于左上方的结果，即T前一个字符的起始位置。</span></div><div class="line">    <span class="comment">// 可进一步压缩空间到O(Slen)</span></div><div class="line">    <span class="keyword">if</span> (S == <span class="keyword">null</span> || T == <span class="keyword">null</span> || S.length() == <span class="number">0</span> || T.length() == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">""</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">char</span>[] sChar = S.toCharArray();</div><div class="line">    <span class="keyword">char</span>[] tChar = T.toCharArray();</div><div class="line">    <span class="keyword">int</span> sLen = sChar.length, tLen = tChar.length;</div><div class="line">    <span class="keyword">int</span>[] startFrom = <span class="keyword">new</span> <span class="keyword">int</span> [sLen + <span class="number">1</span>];</div><div class="line">    Arrays.fill(startFrom, -<span class="number">1</span>);</div><div class="line">    <span class="keyword">int</span> firstOccur = -<span class="number">1</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt;= sLen; j++) &#123;</div><div class="line">        <span class="keyword">if</span> (sChar[j - <span class="number">1</span>] == tChar[<span class="number">0</span>]) &#123;</div><div class="line">            <span class="keyword">if</span> (firstOccur == -<span class="number">1</span>) &#123;</div><div class="line">                firstOccur = j - <span class="number">1</span>;</div><div class="line">            &#125;</div><div class="line">            startFrom[j] = j - <span class="number">1</span>;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            startFrom[j] = startFrom[j - <span class="number">1</span>];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">2</span>; i &lt;= tLen; i++) &#123;</div><div class="line">        <span class="keyword">int</span> newFirstOccur = -<span class="number">1</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = firstOccur + <span class="number">1</span>; j &lt;= sLen; j++) &#123;</div><div class="line">            <span class="keyword">if</span> (sChar[j - <span class="number">1</span>] == tChar[i - <span class="number">1</span>]) &#123;</div><div class="line">                <span class="keyword">if</span> (newFirstOccur == -<span class="number">1</span>) &#123;</div><div class="line">                    newFirstOccur = j - <span class="number">1</span>;</div><div class="line">                &#125;</div><div class="line">                startFrom[j] = startFrom[j];    <span class="comment">// don't change</span></div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                startFrom[j] = startFrom[j - <span class="number">1</span>];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        firstOccur = newFirstOccur;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">int</span> start = <span class="number">0</span>, end = sLen, minLen = Integer.MAX_VALUE;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> j = sLen; j &gt; <span class="number">0</span> &amp;&amp; startFrom[j] != -<span class="number">1</span>; j--) &#123;</div><div class="line">        <span class="keyword">int</span> currLen = j - startFrom[j];</div><div class="line">        <span class="keyword">if</span> (currLen &lt; minLen) &#123;</div><div class="line">            start = startFrom[j];</div><div class="line">            end = j;</div><div class="line">            minLen = currLen;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> minLen == Integer.MAX_VALUE? <span class="string">""</span> : S.substring(start, end);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="stream-observer"><a href="#stream-observer" class="headerlink" title="stream observer"></a><a href="http://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=308340&amp;extra=page%3D1%26filter%3Dsortid%26sortid%3D311%26sortid%3D311" target="_blank" rel="external">stream observer</a></h4><ul>
<li>已知一组字符串，每次观察一个输入的字符，若输入的字符顺序和字符串组里的match，就返回match的list，否则返回空。问题的形式让我有点懵，涉及到了interface，然后让我自己定义一个class，自定member variable， hierarchy等等</li>
<li>我是用sliding window加上trie做的。先找出list中最长单词的长度k。然后维护一个长度为k的window。建trie的时候注意是反向建，每个单词从最后一个字母开始往前建。同时查的时候也是从window的最右边往前查。但如果有多个匹配（例如abc, abcd都在List中），则需要返回List。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">StreamObserver</span> </span>&#123;</div><div class="line">    StringBuilder stream;</div><div class="line">    <span class="keyword">int</span> maxLen;</div><div class="line">    TrieNode root;</div><div class="line">    List&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">StreamObserver</span><span class="params">(String[] targets)</span> </span>&#123;</div><div class="line">        root = <span class="keyword">new</span> TrieNode();</div><div class="line">        maxLen = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; targets.length; i++) &#123;</div><div class="line">            maxLen = Math.max(targets[i].length(), maxLen);</div><div class="line">            insert(targets[i]);</div><div class="line">        &#125;</div><div class="line">        stream = <span class="keyword">new</span> StringBuilder();</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">putChar</span><span class="params">(<span class="keyword">char</span> c)</span> </span>&#123;</div><div class="line">        stream.append(c);</div><div class="line">        <span class="keyword">int</span> len = stream.length();</div><div class="line">        String window = stream.substring(Math.max(len - maxLen, <span class="number">0</span>), len);</div><div class="line">        System.out.println(<span class="string">"stream: "</span> + stream);</div><div class="line">        <span class="keyword">if</span> (stream.length() &gt; maxLen) &#123;</div><div class="line">            stream.deleteCharAt(<span class="number">0</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> search(window);</div><div class="line">    &#125;</div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span> </span>&#123;</div><div class="line">        <span class="keyword">private</span> <span class="keyword">boolean</span> isWord;</div><div class="line">        <span class="keyword">private</span> TrieNode[] next;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">TrieNode</span><span class="params">()</span> </span>&#123;</div><div class="line">            isWord = <span class="keyword">false</span>;</div><div class="line">            next = <span class="keyword">new</span> TrieNode[<span class="number">26</span>];</div><div class="line">        &#125;</div><div class="line">        <span class="function"><span class="keyword">public</span> TrieNode <span class="title">getNext</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</div><div class="line">            <span class="keyword">return</span> next[index];</div><div class="line">        &#125;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setNext</span><span class="params">(<span class="keyword">int</span> index, TrieNode newNode)</span> </span>&#123;</div><div class="line">            next[index] = newNode;</div><div class="line">        &#125;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">getIsWord</span><span class="params">()</span> </span>&#123;</div><div class="line">            <span class="keyword">return</span> isWord;</div><div class="line">        &#125;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setIsWord</span><span class="params">(<span class="keyword">boolean</span> val)</span> </span>&#123;</div><div class="line">            isWord = val;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">/** Inserts a word into the trie in reversed order. */</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(String word)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (word == <span class="keyword">null</span> || word.length() == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">char</span>[] wordChar = word.toCharArray();</div><div class="line">        TrieNode curr = root;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = wordChar.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</div><div class="line">            <span class="keyword">int</span> index = wordChar[i] - <span class="string">'a'</span>;</div><div class="line">            <span class="keyword">if</span> (curr.getNext(index) == <span class="keyword">null</span>) &#123;</div><div class="line">                curr.setNext(index, <span class="keyword">new</span> TrieNode());</div><div class="line">            &#125;</div><div class="line">            curr = curr.getNext(index);</div><div class="line">        &#125;</div><div class="line">        curr.setIsWord(<span class="keyword">true</span>);</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">search</span><span class="params">(String word)</span> </span>&#123;</div><div class="line">        <span class="keyword">char</span>[] wordChar = word.toCharArray();</div><div class="line">        TrieNode curr = root;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = wordChar.length - <span class="number">1</span>; i &gt;= <span class="number">0</span>; i--) &#123;</div><div class="line">            <span class="keyword">int</span> index = wordChar[i] - <span class="string">'a'</span>;</div><div class="line">            <span class="keyword">if</span> (curr.getNext(index) == <span class="keyword">null</span>) &#123;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">            curr = curr.getNext(index);</div><div class="line">            <span class="keyword">if</span> (curr.getIsWord()) &#123;</div><div class="line">                list.add(word.substring(i, wordChar.length));</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> list;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">/*</span></div><div class="line"><span class="comment">    // Returns if the word is in the trie.</span></div><div class="line"><span class="comment">    public boolean search(String word) &#123;</span></div><div class="line"><span class="comment">        if (word == null || word.length() == 0) &#123;</span></div><div class="line"><span class="comment">            return false;</span></div><div class="line"><span class="comment">        &#125;</span></div><div class="line"><span class="comment">        char[] wordChar = word.toCharArray();</span></div><div class="line"><span class="comment">        TrieNode curr = root;</span></div><div class="line"><span class="comment">        for (int i = wordChar.length - 1; i &gt;= 0; i--) &#123;</span></div><div class="line"><span class="comment">            int index = wordChar[i] - 'a';</span></div><div class="line"><span class="comment">            if (curr.getNext(index) == null) &#123;</span></div><div class="line"><span class="comment">                return false;</span></div><div class="line"><span class="comment">            &#125;</span></div><div class="line"><span class="comment">            curr = curr.getNext(index);</span></div><div class="line"><span class="comment">        &#125;</span></div><div class="line"><span class="comment">        return curr.getIsWord();</span></div><div class="line"><span class="comment">    &#125;</span></div><div class="line"><span class="comment">    </span></div><div class="line"><span class="comment">    // Returns if there is any word in the trie that starts with the given prefix.</span></div><div class="line"><span class="comment">    public boolean startsWith(String prefix) &#123;</span></div><div class="line"><span class="comment">        if (prefix == null || prefix.length() == 0) &#123;</span></div><div class="line"><span class="comment">            return false;</span></div><div class="line"><span class="comment">        &#125;</span></div><div class="line"><span class="comment">        char[] prefixChar = prefix.toCharArray();</span></div><div class="line"><span class="comment">        TrieNode curr = root;</span></div><div class="line"><span class="comment">        for (int i = 0; i &lt; prefixChar.length; i++) &#123;</span></div><div class="line"><span class="comment">            int index = prefixChar[i] - 'a';</span></div><div class="line"><span class="comment">            if (curr.getNext(index) == null) &#123;</span></div><div class="line"><span class="comment">                return false;</span></div><div class="line"><span class="comment">            &#125;</span></div><div class="line"><span class="comment">            curr = curr.getNext(index);</span></div><div class="line"><span class="comment">        &#125;</span></div><div class="line"><span class="comment">        return true;</span></div><div class="line"><span class="comment">    &#125;</span></div><div class="line"><span class="comment">    */</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="有向无环图最长路径"><a href="#有向无环图最长路径" class="headerlink" title="有向无环图最长路径"></a><a href="http://www.1point3acres.com/bbs/thread-304467-2-1.html" target="_blank" rel="external">有向无环图最长路径</a></h4><ul>
<li>给出公司并购的关系列表，比如<code>[[&quot;baidu&quot;, &quot;ofo&quot;], [&quot;mobike&quot;, &quot;alibaba&quot;],...]</code>，表示baidu并购了ofo，摩拜并购了阿里巴巴。。。求最长的一个并购链。保证无环。</li>
<li>类似简化版拓扑，完整版拓扑可参考<a href="https://leetcode.com/submissions/detail/104917065/" target="_blank" rel="external">这个submission</a>，不过这里其实只需要找到入度为0的节点，然后更新可达点的同时更新所走的步数。</li>
</ul>
<h4 id="带时间戳的Map"><a href="#带时间戳的Map" class="headerlink" title="带时间戳的Map"></a><a href="http://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=308322&amp;extra=page%3D3%26filter%3Dsortid%26sortid%3D311%26sortid%3D311" target="_blank" rel="external">带时间戳的Map</a></h4><ul>
<li><p>带时间戳的map:  <code>put(k, v, timestamp) get(k , timestamp)</code>EX:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">put(1, haha, 3)</div><div class="line">put(1, ha, 5)</div><div class="line">get(1, 0) -&gt; null</div><div class="line">get(1, 4) -&gt; haha</div><div class="line">get(1, 6) -&gt; ha</div></pre></td></tr></table></figure>
</li>
<li><p>维护<code>Map&lt;Integer, Map&lt;Integer, String&gt;&gt;</code>，新插入的key就新建一个TreeMap，然后时间戳为key，String为value存入。读取的时候就取<code>floorKey(timestamp)</code>，也就是最接近的不大于timestamp的值，有的话即为所求了。</p>
</li>
<li>Follow-up是问用ArrayList, LinkedList, BST, Balanced BST实现的get和put的时间复杂度分别是多少。</li>
</ul>
<h4 id="树的遍历"><a href="#树的遍历" class="headerlink" title="树的遍历"></a><a href="http://www.1point3acres.com/bbs/thread-307988-1-1.html" target="_blank" rel="external">树的遍历</a></h4><ul>
<li><a href="https://leetcode.com/problems/binary-tree-preorder-traversal/description/" target="_blank" rel="external">preorder</a>, <a href="https://leetcode.com/problems/binary-tree-inorder-traversal/description/" target="_blank" rel="external">inorder</a>, <a href="https://leetcode.com/problems/binary-tree-postorder-traversal/description/" target="_blank" rel="external">post-order</a>。要求掌握iterative和recursive的方法。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">preorderTraversal</span><span class="params">(TreeNode root)</span> </span>&#123;</div><div class="line">    List&lt;Integer&gt; ans = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line">    Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</div><div class="line">    stack.push(root);</div><div class="line">    <span class="keyword">while</span> (!stack.isEmpty()) &#123;</div><div class="line">        TreeNode curr = stack.pop();<span class="comment">// 栈顶的先输出</span></div><div class="line">        ans.add(curr.val);</div><div class="line">        <span class="keyword">if</span> (curr.right != <span class="keyword">null</span>) &#123;   <span class="comment">// 栈优先push右子（让它晚点出来）</span></div><div class="line">            stack.push(curr.right);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (curr.left != <span class="keyword">null</span>) &#123;</div><div class="line">            stack.push(curr.left);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">inorderTraversal</span><span class="params">(TreeNode root)</span> </span>&#123;</div><div class="line">    List&lt;Integer&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line">    Stack&lt;TreeNode&gt; s = <span class="keyword">new</span> Stack&lt;&gt;();</div><div class="line">    TreeNode curr = root;</div><div class="line">    <span class="keyword">while</span> (curr != <span class="keyword">null</span> || !s.isEmpty()) &#123;</div><div class="line">        <span class="keyword">while</span> (curr != <span class="keyword">null</span>) &#123;</div><div class="line">            s.push(curr);</div><div class="line">            curr = curr.left;   <span class="comment">// 栈总是优先push左子</span></div><div class="line">        &#125;</div><div class="line">        curr = s.pop();         <span class="comment">// 直到无左子</span></div><div class="line">        ans.add(curr.val);</div><div class="line">        curr = curr.right;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> List&lt;Integer&gt; <span class="title">postorderTraversal</span><span class="params">(TreeNode root)</span> </span>&#123;</div><div class="line">    List&lt;Integer&gt; ans = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line">    Stack&lt;TreeNode&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</div><div class="line">    Stack&lt;Integer&gt; val = <span class="keyword">new</span> Stack&lt;&gt;();</div><div class="line">    stack.push(root);</div><div class="line">    <span class="keyword">while</span> (!stack.isEmpty()) &#123;</div><div class="line">        TreeNode curr = stack.pop();</div><div class="line">        <span class="keyword">if</span> (curr.left != <span class="keyword">null</span>) &#123;</div><div class="line">            stack.push(curr.left);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (curr.right != <span class="keyword">null</span>) &#123;</div><div class="line">            stack.push(curr.right);</div><div class="line">        &#125;</div><div class="line">        val.push(curr.val); <span class="comment">// 栈顶的晚输出</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">while</span> (!val.isEmpty()) &#123;</div><div class="line">        ans.add(val.pop());</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ans;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="Frequencey-Iterator-类似于利口604"><a href="#Frequencey-Iterator-类似于利口604" class="headerlink" title="Frequencey Iterator (类似于利口604)"></a>Frequencey Iterator (类似于<a href="https://leetcode.com/problems/design-compressed-string-iterator/description/" target="_blank" rel="external">利口604</a>)</h4><ul>
<li>给一个int数组，奇数位是count偶数位是number，实现next和hasNext函数。如<code>[2,4,0,9,5,3]</code>，那输出就是<code>[4,4,3,3,3,3,3]</code>。</li>
<li>自定义类保存数字和对应的频数，然后入Queue开始输出就好了。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">FreqNumber</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> freq;</div><div class="line">    <span class="keyword">int</span> num;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">FreqNumber</span><span class="params">(<span class="keyword">int</span> freq, <span class="keyword">int</span> num)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.freq = freq;</div><div class="line">        <span class="keyword">this</span>.num = num;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">MyIterator</span> </span>&#123;</div><div class="line">    Queue&lt;FreqNumber&gt; queue;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyIterator</span><span class="params">(<span class="keyword">int</span>[] array)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> i = <span class="number">0</span>, n = array.length;    <span class="comment">// 需要保证是偶数个元素</span></div><div class="line">        queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">        <span class="keyword">while</span> (i + <span class="number">1</span> &lt; n) &#123;</div><div class="line">            <span class="keyword">if</span> (array[i] &gt; <span class="number">0</span>) &#123;</div><div class="line">                queue.add(<span class="keyword">new</span> FreqNumber(array[i], array[i + <span class="number">1</span>]));</div><div class="line">            &#125;</div><div class="line">            i += <span class="number">2</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">next</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</div><div class="line">        <span class="keyword">if</span> (!hasNext()) &#123;</div><div class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> Exception();</div><div class="line">        &#125;</div><div class="line">        FreqNumber top = queue.peek();</div><div class="line">        <span class="keyword">if</span> (--top.freq == <span class="number">0</span>) &#123;</div><div class="line">            queue.poll();</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> top.num;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasNext</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> !queue.isEmpty();</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="toeplitz-matrix"><a href="#toeplitz-matrix" class="headerlink" title="toeplitz matrix"></a><a href="http://www.1point3acres.com/bbs/thread-304508-1-1.html" target="_blank" rel="external">toeplitz matrix</a></h4><ul>
<li>判断一matrix是不是toeplitz matrix, 就是所有左上到右下对角线的数字都相等。</li>
<li><p>对角线方向元素其实就是相邻两行元素的前后判断。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Google</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isToeplitzMatrix</span><span class="params">(<span class="keyword">int</span>[][] matrix)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (matrix == <span class="keyword">null</span> || matrix.length == <span class="number">0</span> || matrix[<span class="number">0</span>].length == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> rows = matrix.length, cols = matrix[<span class="number">0</span>].length;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; rows; i++) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">1</span>; j &lt; cols; j++) &#123;</div><div class="line">                <span class="keyword">if</span> (matrix[i][j] != matrix[i - <span class="number">1</span>][j - <span class="number">1</span>]) &#123;</div><div class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>follow-up: 如果matrix特别大，每次只能存两行，只用matrix提供的<code>matrix.next</code>, <code>matrix.has_next</code>, 和<code>matrix.size</code>实现。其实上面的方法已经只存两行了。</p>
</li>
</ul>
<h4 id="3sum"><a href="#3sum" class="headerlink" title="3sum"></a><a href="https://leetcode.com/problems/3sum/description/" target="_blank" rel="external">3sum</a></h4><ul>
<li>给一个数组，求其中所有的a, b, c使得<code>a + b + c == 0</code><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; threeSum(<span class="keyword">int</span>[] nums) &#123;</div><div class="line">        List&lt;List&lt;Integer&gt;&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> ans;</div><div class="line">        &#125;   </div><div class="line">        Arrays.sort(nums);</div><div class="line">        </div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</div><div class="line">            <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; nums[i] == nums[i - <span class="number">1</span>]) &#123;</div><div class="line">                <span class="keyword">continue</span>;</div><div class="line">            &#125;</div><div class="line">            </div><div class="line">            <span class="comment">// 固定nums[i]用双指针找后面两个数b, c，使b + c == 0 - nums[i]</span></div><div class="line">            <span class="keyword">int</span> left = i + <span class="number">1</span>, right = nums.length - <span class="number">1</span>, target = <span class="number">0</span> - nums[i];</div><div class="line">            <span class="keyword">while</span> (left &lt; right) &#123;</div><div class="line">                <span class="keyword">int</span> sum = nums[left] + nums[right];</div><div class="line">                <span class="keyword">if</span> (sum == target) &#123;</div><div class="line">                    List&lt;Integer&gt; currList = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">                    currList.add(nums[i]);</div><div class="line">                    currList.add(nums[left]);</div><div class="line">                    currList.add(nums[right]);</div><div class="line">                    ans.add(currList);</div><div class="line">                    left++;</div><div class="line">                    right++;</div><div class="line">                    <span class="keyword">while</span> (left &lt; right &amp;&amp; nums[left] == nums[left - <span class="number">1</span>]) &#123;    <span class="comment">// 避免重复</span></div><div class="line">                        left++;</div><div class="line">                    &#125;</div><div class="line">                    <span class="keyword">while</span> (right &gt; left &amp;&amp; nums[right] == nums[right + <span class="number">1</span>]) &#123;  <span class="comment">// 避免重复</span></div><div class="line">                        right++;</div><div class="line">                    &#125;</div><div class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sum &lt; target) &#123;</div><div class="line">                    left++;</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    right--;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="validate-2D-array"><a href="#validate-2D-array" class="headerlink" title="validate 2D array"></a><a href="http://www.1point3acres.com/bbs/thread-308429-1-1.html" target="_blank" rel="external">validate 2D array</a></h4><ul>
<li>2-D array，里面有R,G,B,Y四种类型的element，如果横竖没有三个element是同一类型的话，这个2-Darray就是valid的。先让写个function判断一个2-D array是否valid。</li>
<li><p>感觉和那个OOXX(<a href="https://leetcode.com/problems/design-tic-tac-toe/description/" target="_blank" rel="external">348 Design tic tac toe</a>)的游戏很像，不过就不能通过简单的加一减一来搞了。这里就是暴力了，判断当前字符的前一行、下一行，以及前一列、下一列。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">isValidMatrix</span><span class="params">(<span class="keyword">char</span>[][] matrix)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (matrix == <span class="keyword">null</span> || matrix.length == <span class="number">0</span> || matrix[<span class="number">0</span>].length == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> rows = matrix.length, cols = matrix[<span class="number">0</span>].length;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rows; i++) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; cols; j++) &#123;</div><div class="line">            <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; matrix[i - <span class="number">1</span>][j] == matrix[i][j]) &#123;  <span class="comment">// 等于上一行</span></div><div class="line">                <span class="keyword">if</span> (i + <span class="number">1</span> &lt; rows &amp;&amp; matrix[i + <span class="number">1</span>][j] == matrix[i][j]) &#123;</div><div class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;	<span class="comment">// 判断下一行</span></div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            colBucket[j] = matrix[i][j];</div><div class="line">            <span class="keyword">if</span> (j &gt; <span class="number">0</span> &amp;&amp; matrix[i][j] == matrix[i][j - <span class="number">1</span>]) &#123;</div><div class="line">                <span class="keyword">if</span> (j + <span class="number">1</span> &lt; cols &amp;&amp; matrix[i][j + <span class="number">1</span>] == matrix[i][j]) &#123;</div><div class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    j++;</div><div class="line">                    <span class="keyword">if</span> (j &lt; cols) &#123;</div><div class="line">                        colBucket[j] = matrix[i][j];</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>follow-up：能否并行化计算？各种方式有什么优劣？可以replicate原array，每个thread只处理一个颜色。也可以划分成小块，但是边界线情况讨论起来特别复杂，而且会有很多个thread。</p>
</li>
</ul>
<h4 id="2D-array-search-amp-sum"><a href="#2D-array-search-amp-sum" class="headerlink" title="2D array search &amp; sum"></a><a href="http://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=306855&amp;extra=page%3D7%26filter%3Dsortid%26sortid%3D311&amp;page=1" target="_blank" rel="external">2D array search &amp; sum</a></h4><ul>
<li><p><a href="https://leetcode.com/problems/search-a-2d-matrix-ii/description/" target="_blank" rel="external">240 Search a 2D Matrix II</a>，可以直接从第一行的最大列开始找，因为右下方的一定是比当前元素大的，所以只需要查找左下和左前即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"> <span class="comment">// O(M + N)</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">searchMatrix</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span> target)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (matrix == <span class="keyword">null</span> || matrix.length &lt; <span class="number">1</span> || matrix[<span class="number">0</span>].length &lt;<span class="number">1</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> col = matrix[<span class="number">0</span>].length - <span class="number">1</span>;</div><div class="line">    <span class="keyword">int</span> row = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span> (col &gt;= <span class="number">0</span> &amp;&amp; row &lt;= matrix.length-<span class="number">1</span>) &#123;</div><div class="line">        <span class="keyword">if</span> (target == matrix[row][col]) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &lt; matrix[row][col]) &#123;</div><div class="line">            col--;</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (target &gt; matrix[row][col]) &#123;</div><div class="line">            row++;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><a href="https://leetcode.com/problems/range-sum-query-2d-immutable/description/" target="_blank" rel="external">304. Range Sum Query 2D - Immutable</a> 也是缓存中间结果的思想，利用额外的O(MN)的空间存下来，需要取sum的时候就减左侧、上侧再加回左上侧结果即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span> <span class="keyword">int</span>[][] sumRegion;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="title">NumMatrix</span><span class="params">(<span class="keyword">int</span>[][] matrix)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (matrix.length != <span class="number">0</span>)  sumRegion = <span class="keyword">new</span> <span class="keyword">int</span>[matrix.length + <span class="number">1</span>][matrix[<span class="number">0</span>].length + <span class="number">1</span>];</div><div class="line">    </div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; matrix.length; i++) &#123;</div><div class="line">        <span class="keyword">int</span> sum = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; matrix[<span class="number">0</span>].length; j++) &#123;</div><div class="line">            sum += matrix[i][j];</div><div class="line">            sumRegion[i + <span class="number">1</span>][j + <span class="number">1</span>] = sum + sumRegion[i][j + <span class="number">1</span>]; </div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sumRegion</span><span class="params">(<span class="keyword">int</span> row1, <span class="keyword">int</span> col1, <span class="keyword">int</span> row2, <span class="keyword">int</span> col2)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> sumRegion[row2 + <span class="number">1</span>][col2 + <span class="number">1</span>] - sumRegion[row1][col2 + <span class="number">1</span>] - sumRegion[row2 + <span class="number">1</span>][col1] + sumRegion[row1][col1];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>follow-up是如果要对矩阵时不时进行更新怎么办。如果还是用上面这个的思路，返回sumRegion的时间就不再是constant了，同时update也不是constant。为了更新，还需要把matrix存下来（必须的）。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span> <span class="keyword">int</span>[][] sumRegion;</div><div class="line"><span class="keyword">private</span> <span class="keyword">int</span>[][] matrix;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="title">NumMatrix</span><span class="params">(<span class="keyword">int</span>[][] matrix)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span>(   matrix           == <span class="keyword">null</span></div><div class="line">       || matrix.length    == <span class="number">0</span></div><div class="line">       || matrix[<span class="number">0</span>].length == <span class="number">0</span>   )&#123;</div><div class="line">        <span class="keyword">return</span>;   </div><div class="line">     &#125;</div><div class="line">     </div><div class="line">     <span class="keyword">this</span>.matrix = matrix;</div><div class="line">     </div><div class="line">     <span class="keyword">int</span> m   = matrix.length;</div><div class="line">     <span class="keyword">int</span> n   = matrix[<span class="number">0</span>].length;</div><div class="line">     sumRegion = <span class="keyword">new</span> <span class="keyword">int</span>[m + <span class="number">1</span>][n];</div><div class="line">     <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= m; i++)&#123;</div><div class="line">         <span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++)&#123;</div><div class="line">             sumRegion[i][j] = sumRegion[i - <span class="number">1</span>][j] + matrix[i - <span class="number">1</span>][j];</div><div class="line">         &#125;</div><div class="line">     &#125;</div><div class="line">&#125;</div><div class="line"><span class="comment">//time complexity for the worst case scenario: O(m)</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> row, <span class="keyword">int</span> col, <span class="keyword">int</span> val)</span> </span>&#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = row + <span class="number">1</span>; i &lt; sumRegion.length; i++)&#123;</div><div class="line">        sumRegion[i][col] = sumRegion[i][col] - matrix[row][col] + val;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    matrix[row][col] = val;</div><div class="line">&#125;</div><div class="line"><span class="comment">//time complexity for the worst case scenario: O(n)</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">sumRegion</span><span class="params">(<span class="keyword">int</span> row1, <span class="keyword">int</span> col1, <span class="keyword">int</span> row2, <span class="keyword">int</span> col2)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> ret = <span class="number">0</span>;</div><div class="line">    </div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> j = col1; j &lt;= col2; j++)&#123;</div><div class="line">        ret += sumRegion[row2 + <span class="number">1</span>][j] - sumRegion[row1][j];</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">return</span> ret;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>另一个高效办法是Binary Index Tree。我们先看看<a href="https://leetcode.com/problems/range-sum-query-mutable/description/" target="_blank" rel="external">range sum 1D</a>的情况，2D的暂时放一放。。。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">int</span>[] nums;</div><div class="line"><span class="keyword">int</span>[] BIT;</div><div class="line"><span class="keyword">int</span> n;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="title">RangeSum</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</div><div class="line">    <span class="keyword">this</span>.nums = nums;</div><div class="line">    <span class="keyword">this</span>.n = nums.length;</div><div class="line">    <span class="keyword">this</span>.BIT = <span class="keyword">new</span> <span class="keyword">int</span>[n + <span class="number">1</span>];  <span class="comment">// n + 1</span></div><div class="line">    initiateBIT();</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">lowestBit</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;   <span class="comment">// 获取最低位的1</span></div><div class="line">    <span class="keyword">return</span> x &amp; -x;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">initiateBIT</span><span class="params">()</span></span>&#123;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = <span class="number">1</span>; i &lt;= n; i++)&#123;</div><div class="line">        <span class="keyword">this</span>.BIT[i] = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j = i; j &gt; i - lowestBit(i); j--)&#123;</div><div class="line">            <span class="keyword">this</span>.BIT[i] = <span class="keyword">this</span>.BIT[i] + nums[j - <span class="number">1</span>];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125; </div><div class="line"></div><div class="line"><span class="comment">//每次都只有后继节点会根据当前节点的变化而变化， 所以步长是i + lowestBit(i)</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">update</span><span class="params">(<span class="keyword">int</span> index, <span class="keyword">int</span> val)</span></span>&#123;	</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = index + <span class="number">1</span>; i &lt;= <span class="keyword">this</span>.n; i = i + lowestBit(i))&#123;</div><div class="line">        <span class="keyword">this</span>.BIT[i] = <span class="keyword">this</span>.BIT[i] - <span class="keyword">this</span>.nums[index] + val;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">this</span>.nums[index] = val;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">//和为所有前驱节点相加， 所以步长是i - lowestBit(i)</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getSum</span><span class="params">(<span class="keyword">int</span> k)</span></span>&#123;</div><div class="line">    <span class="keyword">int</span> sum = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span>(<span class="keyword">int</span> i = k + <span class="number">1</span>; i &gt; <span class="number">0</span>; i = i - lowestBit(i))&#123;</div><div class="line">        sum = sum + <span class="keyword">this</span>.BIT[i];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> sum;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getRangeSum</span><span class="params">(<span class="keyword">int</span> i, <span class="keyword">int</span> j)</span></span>&#123;</div><div class="line">    <span class="keyword">return</span> getSum(j) - getSum(i - <span class="number">1</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="voting-with-timestamp"><a href="#voting-with-timestamp" class="headerlink" title="voting with timestamp"></a><a href="http://www.1point3acres.com/bbs/forum.php?mod=viewthread&amp;tid=301684&amp;extra=page%3D7%26filter%3Dsortid%26sortid%3D311%26sortid%3D311" target="_blank" rel="external">voting with timestamp</a></h4><ul>
<li>给一个<code>voteList=[(a, 100), (b, 150), (a, 200)]  #(name, timestamp)</code>和时间T，找T时间之前, 得票数最高的人(或任一得票数最高的人)。</li>
<li>直接扫一波vote list，只保留在时间T之前的票存到Map中，顺便记下一个最大值和对应的人名。</li>
<li>follow-up：给voteList、时间T，求top k候选人的list。也是先O(N)扫一波统计，然后再一波loop存入Heap，如果Heap规模达到k就需要比较堆顶和当前票数，若当前票数更大就需要把出堆再push。</li>
<li>follow-up：给voteList、top k候选人的list，求时间T。只想到最暴力的办法，先把所有出现过的时间t存入从小到大的PriorityQueue，然后从小到大暴力搜“给定voteList和T”，看看求得的list和所给的list是否一致。不过这里每次不是从头开始做，而是累加，即前一个t不行，就取优先队列中的下一个t继续往后加，不用从头来过。</li>
</ul>
<h4 id="feed-tree"><a href="#feed-tree" class="headerlink" title="feed tree"></a><a href="http://www.1point3acres.com/bbs/thread-290121-1-1.html" target="_blank" rel="external">feed tree</a></h4><ul>
<li>一棵树，所有节点的value都是正整数，问只能增加某些节点值的情况下，如何调整使得从root到所有leaf的path上经过的节点值之和相等，返回增加的值的和，使这个和最小.</li>
<li>类似贪心，在后续遍历的过程中顺便求叶子到当前节点的和并返回，再用全局变量根据左右两边孩子的差值确定需要补多少，更新的条件是该节点一定有两个孩子来比较，这样就能保证和最小。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/*</span></div><div class="line"><span class="comment">      1</span></div><div class="line"><span class="comment">     / \</span></div><div class="line"><span class="comment">    2   3</span></div><div class="line"><span class="comment">   / \ / \</span></div><div class="line"><span class="comment">  3  2 2  4</span></div><div class="line"><span class="comment">        \</span></div><div class="line"><span class="comment">         1</span></div><div class="line"><span class="comment">      1</span></div><div class="line"><span class="comment">     / \</span></div><div class="line"><span class="comment">    4   3</span></div><div class="line"><span class="comment">   / \ / \</span></div><div class="line"><span class="comment">  3  3 3  4</span></div><div class="line"><span class="comment">        \</span></div><div class="line"><span class="comment">         1</span></div><div class="line"><span class="comment">*/</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> ans;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minAddToTree</span><span class="params">(TreeNode root)</span></span>&#123;</div><div class="line">        <span class="comment">// supposing the tree is binary tree</span></div><div class="line">        ans = <span class="number">0</span>;</div><div class="line">        feedTree(root);</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">feedTree</span><span class="params">(TreeNode root)</span></span>&#123;</div><div class="line">        <span class="comment">// this funciton 'feed' the tree to make all root-&gt;leaf path sums equal</span></div><div class="line">        <span class="comment">// return: path sum of the tree.</span></div><div class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) </div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span> leftPath = feedTree(root.left);</div><div class="line">        <span class="keyword">int</span> rightPath = feedTree(root.right);</div><div class="line">        <span class="keyword">if</span> (leftPath != <span class="number">0</span> &amp;&amp; rightPath != <span class="number">0</span>) <span class="comment">// check if one child is null, if so no need to feed</span></div><div class="line">            ans += Math.abs(leftPath - rightPath);</div><div class="line">        <span class="keyword">return</span> Math.max(leftPath, rightPath) + root.val;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="remove-node"><a href="#remove-node" class="headerlink" title="remove node"></a><a href="http://www.1point3acres.com/bbs/thread-289090-1-1.html" target="_blank" rel="external">remove node</a></h4><ul>
<li>Given a binary tree, write a function to erase a list of nodes from the tree and return the forest created from this operation.自己决定输入输出形式，自己定义treenode结构.</li>
<li><p>一个思路是，可以在TreeNode中增加parent节点，这样在删除的时候就方便很多，直接设置就可以了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">TreeNode</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> val;</div><div class="line">    TreeNode left, right, parent;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">TreeNode</span><span class="params">(<span class="keyword">int</span> val)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.val = val;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>如果不加parent，就需要通过postOrder遍历，先递归到当前节点的左和右孩子，再看看孩子是否要删掉，是就直接设为null。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> List&lt;TreeNode&gt; <span class="title">delete</span><span class="params">(TreeNode root, List&lt;TreeNode&gt; toRemove)</span> </span>&#123;</div><div class="line">    List&lt;TreeNode&gt; res = <span class="keyword">new</span> ArrayList&lt;TreeNode&gt;();</div><div class="line">    TreeNode root1 = postorder(root, toRemove, res);</div><div class="line">    <span class="keyword">if</span>(root1 != <span class="keyword">null</span>) res.add(root);</div><div class="line">    <span class="keyword">return</span> res;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> TreeNode <span class="title">postorder</span><span class="params">(TreeNode root, List&lt;TreeNode&gt; toRemove, List&lt;TreeNode&gt; res)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span>(root == <span class="keyword">null</span>) <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    root.left = postorder(root.left, toRemove, res);</div><div class="line">    root.right = postorder(root.right, toRemove, res);</div><div class="line">    <span class="keyword">if</span> (toRemove.contains(root)) &#123;  <span class="comment">// 当前节点需要删除</span></div><div class="line">        <span class="keyword">if</span> (root.left != <span class="keyword">null</span>) res.add(root.left);</div><div class="line">        <span class="keyword">if</span> (root.right != <span class="keyword">null</span>) res.add(root.right);</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> root;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="361-Bomb-Enemy"><a href="#361-Bomb-Enemy" class="headerlink" title="361. Bomb Enemy"></a><a href="https://leetcode.com/problems/bomb-enemy/discuss/" target="_blank" rel="external">361. Bomb Enemy</a></h4><ul>
<li>给一个只含有<code>0, W, E</code>的char棋盘，炸弹只能放在0处，炸弹可以向上下左右扩散，求一颗炸弹最多炸死多少E。</li>
<li><p>对于每一行统计敌人数，一旦遇到W就重置为0；对于每一列则需要维护额外的一个数组，也是遇到W就重置。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="comment">// O(MN)统计每行、每列可杀E的数量，一旦前面（左或上）碰到W就要重新算一遍</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxKilledEnemies</span><span class="params">(<span class="keyword">char</span>[][] grid)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (grid == <span class="keyword">null</span> || grid.length == <span class="number">0</span> || grid[<span class="number">0</span>].length == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> rows = grid.length, cols = grid[<span class="number">0</span>].length;</div><div class="line">        <span class="keyword">int</span> ans = <span class="number">0</span>, rowCount = <span class="number">0</span>;</div><div class="line">        <span class="keyword">int</span>[] colCount = <span class="keyword">new</span> <span class="keyword">int</span> [cols];</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rows; i++) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; cols; j++) &#123;</div><div class="line">                <span class="keyword">if</span> (j == <span class="number">0</span> || grid[i][j - <span class="number">1</span>] == <span class="string">'W'</span>) &#123;  <span class="comment">// 当上一列是W，就重新往右算当前列可以杀多少E</span></div><div class="line">                    rowCount = <span class="number">0</span>;</div><div class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> k = j; k &lt; cols &amp;&amp; grid[i][k] != <span class="string">'W'</span>; k++) &#123;   <span class="comment">// 不会提升复杂度因为只有前一个是W才会开始、到W就结束</span></div><div class="line">                        <span class="keyword">if</span> (grid[i][k] == <span class="string">'E'</span>) &#123;</div><div class="line">                            rowCount++;</div><div class="line">                        &#125;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span> (i == <span class="number">0</span> || grid[i - <span class="number">1</span>][j] == <span class="string">'W'</span>) &#123;  <span class="comment">// 当上一行是W，就重新往下算当前列可以杀多少E</span></div><div class="line">                    colCount[j] = <span class="number">0</span>;</div><div class="line">                    <span class="keyword">for</span> (<span class="keyword">int</span> k = i; k &lt; rows &amp;&amp; grid[k][j] != <span class="string">'W'</span>; k++) &#123;</div><div class="line">                        <span class="keyword">if</span> (grid[k][j] == <span class="string">'E'</span>) &#123;</div><div class="line">                            colCount[j]++;</div><div class="line">                        &#125;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span> (grid[i][j] == <span class="string">'0'</span>) &#123;</div><div class="line">                    ans = Math.max(ans, rowCount + colCount[j]);</div><div class="line">                &#125;</div><div class="line">                <span class="comment">// else if (grid[i][j] == 'E') &#123;</span></div><div class="line">                <span class="comment">// 	ans = Math.max(ans, rowCount + colCount[j] - 1);</span></div><div class="line">                <span class="comment">// &#125;</span></div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>follow-up：如果在E上也可以放炸弹，要如何修改？那么就加多一个判断是否等于<code>E</code>的步骤，见上面注释部分。</p>
</li>
</ul>
<p>以上是地里大概找的一部分面经。</p>
<hr>
<p>以下是利口上的孤狗tag题。</p>
<h4 id="4-Median-of-2-sorted-arrays"><a href="#4-Median-of-2-sorted-arrays" class="headerlink" title="4. Median of 2 sorted arrays"></a><a href="https://leetcode.com/problems/median-of-two-sorted-arrays/#/solutions" target="_blank" rel="external">4. Median of 2 sorted arrays</a></h4><ul>
<li>给两个有序int数组，返回二者合并后的中位数。</li>
<li><code>O(M + N)</code>：归并排序依次合并，合并到一半长度知道中位数了。</li>
<li><code>O(log(M + N))</code>：<a href="https://discuss.leetcode.com/topic/4996/share-my-o-log-min-m-n-solution-with-explanation" target="_blank" rel="external">中位数是用来将数组分割成相等长度的两部分的</a>，因此使用二分查找找出刚好能分成等长的两部分并且前部分的最大值&lt;=后部分的最小值。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line"> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">double</span> <span class="title">findMedianSortedArrays</span><span class="params">(<span class="keyword">int</span>[] nums1, <span class="keyword">int</span>[] nums2)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (nums1 == <span class="keyword">null</span> || nums2 == <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> m = nums1.length, n = nums2.length;</div><div class="line">        <span class="keyword">if</span> (nums1.length &gt; nums2.length) &#123;  <span class="comment">// ensure the len of 1 &lt;= 2</span></div><div class="line">            <span class="keyword">return</span> findMedianSortedArrays(nums2, nums1);</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="comment">// to ensure equality of the two parts after merged, i + j = m - i + n - j</span></div><div class="line">        <span class="keyword">int</span> iLo = <span class="number">0</span>, iHi = m, allMid = (n + m + <span class="number">1</span>) / <span class="number">2</span>; <span class="comment">// merge odd / even case</span></div><div class="line">        </div><div class="line">        <span class="comment">// i stands for "how many num taken from nums1 as front part" 0 ~ i-1 | i ~ m-1</span></div><div class="line">        <span class="comment">// j stands for "how many num taken from nums2 as front part" 0 ~ j-1 | j ~ n-1</span></div><div class="line">        <span class="keyword">while</span> (iLo &lt;= iHi) &#123;</div><div class="line">            <span class="keyword">int</span> i = (iLo + iHi) / <span class="number">2</span>, j = allMid - i;</div><div class="line">            </div><div class="line">            <span class="comment">// nums1[i-1], nums2[j-1] are the largest element of front part of nums1, nums2</span></div><div class="line">            <span class="comment">// nums1[i], nums2[j] are the smallest of lag part of nums1, nums2</span></div><div class="line">            <span class="keyword">if</span> (i &lt; m &amp;&amp; nums2[j - <span class="number">1</span>] &gt; nums1[i]) &#123; <span class="comment">// i not big enough</span></div><div class="line">                iLo = i + <span class="number">1</span>;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (i &gt; <span class="number">0</span> &amp;&amp; nums1[i - <span class="number">1</span>] &gt; nums2[j]) &#123;</div><div class="line">                iHi = i - <span class="number">1</span>;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">int</span> maxLeft = <span class="number">0</span>, minRight = <span class="number">0</span>;</div><div class="line">                <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</div><div class="line">                    maxLeft = nums2[j - <span class="number">1</span>];</div><div class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (j == <span class="number">0</span>) &#123;</div><div class="line">                    maxLeft = nums1[i - <span class="number">1</span>];</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    maxLeft = Math.max(nums1[i - <span class="number">1</span>], nums2[j - <span class="number">1</span>]);</div><div class="line">                &#125;</div><div class="line">                </div><div class="line">                <span class="keyword">if</span> ((m + n) % <span class="number">2</span> == <span class="number">1</span>) &#123; <span class="comment">// I think thats why to make (allMid = (n + m + 1)/2)</span></div><div class="line">                    <span class="keyword">return</span> maxLeft;     <span class="comment">// -- to make left part always at least no fewer than right</span></div><div class="line">                &#125;</div><div class="line">                </div><div class="line">                <span class="keyword">if</span> (i == m) &#123;</div><div class="line">                    minRight = nums2[j];</div><div class="line">                &#125; <span class="keyword">else</span> <span class="keyword">if</span> (j == n) &#123;</div><div class="line">                    minRight = nums1[i];</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    minRight = Math.min(nums1[i], nums2[j]);</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">return</span> (maxLeft + minRight) / <span class="number">2.0</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="17-letter-combinations"><a href="#17-letter-combinations" class="headerlink" title="17. letter-combinations"></a><a href="https://leetcode.com/problems/letter-combinations-of-a-phone-number/#/description" target="_blank" rel="external">17. letter-combinations</a></h4><ul>
<li>给一串数字的字符串，求这些数字可能输出的所有字母字符串，对应关系为手机的按键。</li>
<li>DFS：<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">letterCombinations</span><span class="params">(String digits)</span> </span>&#123;</div><div class="line">        List&lt;String&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">        <span class="keyword">if</span> (digits == <span class="keyword">null</span> || digits.length() == <span class="number">0</span> </div><div class="line">           || digits.indexOf(<span class="string">'1'</span>) &gt;= <span class="number">0</span> || digits.indexOf(<span class="string">'0'</span>) &gt;= <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> ans;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">final</span> <span class="keyword">char</span>[][] num2Char = <span class="keyword">new</span> <span class="keyword">char</span> [][] &#123;</div><div class="line">            &#123;&#125;, </div><div class="line">            &#123;&#125;, </div><div class="line">            &#123;<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>&#125;, </div><div class="line">            &#123;<span class="string">'d'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>&#125;, </div><div class="line">            &#123;<span class="string">'g'</span>, <span class="string">'h'</span>, <span class="string">'i'</span>&#125;,</div><div class="line">            &#123;<span class="string">'j'</span>, <span class="string">'k'</span>, <span class="string">'l'</span>&#125;, </div><div class="line">            &#123;<span class="string">'m'</span>, <span class="string">'n'</span>, <span class="string">'o'</span>&#125;, </div><div class="line">            &#123;<span class="string">'p'</span>, <span class="string">'q'</span>, <span class="string">'r'</span>, <span class="string">'s'</span>&#125;,</div><div class="line">            &#123;<span class="string">'t'</span>, <span class="string">'u'</span>, <span class="string">'v'</span>&#125;, </div><div class="line">            &#123;<span class="string">'w'</span>, <span class="string">'x'</span>, <span class="string">'y'</span>, <span class="string">'z'</span>&#125;</div><div class="line">        &#125;;</div><div class="line">        </div><div class="line">        <span class="keyword">char</span>[] str = digits.toCharArray();</div><div class="line">        dfs(str, <span class="number">0</span>, num2Char, <span class="keyword">new</span> StringBuilder(), ans);</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[] str, <span class="keyword">int</span> index, <span class="keyword">final</span> <span class="keyword">char</span>[][] num2Char, StringBuilder sb, List&lt;String&gt; ans)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (index == str.length) &#123;</div><div class="line">            ans.add(sb.toString());</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> temp = str[index] - <span class="string">'0'</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num2Char[temp].length; i++) &#123;</div><div class="line">            sb.append(num2Char[temp][i]);</div><div class="line">            dfs(str, index + <span class="number">1</span>, num2Char, sb, ans);</div><div class="line">            sb.deleteCharAt(sb.length() - <span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="20-valid-parentheses"><a href="#20-valid-parentheses" class="headerlink" title="20. valid-parentheses"></a><a href="https://leetcode.com/problems/valid-parentheses/#/description" target="_blank" rel="external">20. valid-parentheses</a></h4><ul>
<li>给一个字符串，判断其中三种括号<code>(), [], {}</code>是否匹配。</li>
<li>Stack: 左括号本身并不入栈，而是它对应的右括号入栈，这样当右括号出现的时候只需判断二者是否相等或者是否栈已经空了即可。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(String s)</span> </span>&#123;</div><div class="line">	Stack&lt;Character&gt; stack = <span class="keyword">new</span> Stack&lt;Character&gt;();</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">char</span> c : s.toCharArray()) &#123;</div><div class="line">		<span class="keyword">if</span> (c == <span class="string">'('</span>)</div><div class="line">			stack.push(<span class="string">')'</span>);</div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">'&#123;'</span>)</div><div class="line">			stack.push(<span class="string">'&#125;'</span>);</div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">'['</span>)</div><div class="line">			stack.push(<span class="string">']'</span>);</div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (stack.isEmpty() || stack.pop() != c)</div><div class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> stack.isEmpty();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="22-generate-parentheses"><a href="#22-generate-parentheses" class="headerlink" title="22. generate-parentheses"></a><a href="https://leetcode.com/problems/generate-parentheses/#/description" target="_blank" rel="external">22. generate-parentheses</a></h4><ul>
<li>给一个int表示括号的对儿数，输出所有符合括号匹配规则的字符串，存入List中返回。</li>
<li>DFS：左括号、右括号分别<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"> <span class="comment">// O(2^2n)?</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">generateParenthesis</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        List&lt;String&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">        <span class="keyword">if</span> (n &lt; <span class="number">1</span>) &#123;</div><div class="line">            <span class="keyword">return</span> ans;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        dfs(n, <span class="number">0</span>, <span class="number">0</span>, <span class="string">""</span>, ans);</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> left, <span class="keyword">int</span> right, String s, List&lt;String&gt; ans)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (left == n &amp;&amp; right == n) &#123;</div><div class="line">            ans.add(s);</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (left &lt; n)</div><div class="line">            dfs(n, left + <span class="number">1</span>, right, s + <span class="string">"("</span>, ans);</div><div class="line">        </div><div class="line">        <span class="keyword">if</span> (right &lt; left)</div><div class="line">            dfs(n, left, right + <span class="number">1</span>, s + <span class="string">")"</span>, ans);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="23-merge-k-sorted-lists"><a href="#23-merge-k-sorted-lists" class="headerlink" title="23. merge-k-sorted-lists"></a><a href="https://leetcode.com/problems/merge-k-sorted-lists/#/description" target="_blank" rel="external">23. merge-k-sorted-lists</a></h4><ul>
<li>给一个ListNode节点数组，分别是排好序的若干链表头，要求输出合并后的新链表头.</li>
<li><p>直接用PriorityQueue：</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">mergeKLists</span><span class="params">(ListNode[] lists)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (lists == <span class="keyword">null</span> || lists.length == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line">    PriorityQueue&lt;ListNode&gt; pq = <span class="keyword">new</span> PriorityQueue&lt;&gt;((a, b) -&gt; &#123;</div><div class="line">        <span class="keyword">return</span> a.val - b.val;</div><div class="line">    &#125;);</div><div class="line">    <span class="keyword">for</span> (ListNode l: lists) &#123;</div><div class="line">        <span class="keyword">if</span> (l != <span class="keyword">null</span>)</div><div class="line">            pq.add(l);</div><div class="line">    &#125;</div><div class="line">    ListNode fakeHead = <span class="keyword">new</span> ListNode(<span class="number">0</span>), curr = fakeHead;</div><div class="line">    <span class="keyword">while</span> (!pq.isEmpty()) &#123;</div><div class="line">        curr.next = pq.poll();</div><div class="line">        curr = curr.next;</div><div class="line">        <span class="keyword">if</span> (curr.next != <span class="keyword">null</span>)</div><div class="line">            pq.add(curr.next);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> fakeHead.next;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>分治法。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// divide and conquer, O(nlogk)</span></div><div class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">mergeKLists</span><span class="params">(ListNode[] lists)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (lists == <span class="keyword">null</span> || lists.length == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// last two params are used to divide into sub problems</span></div><div class="line">    <span class="keyword">return</span> mergeKLists(lists, <span class="number">0</span>, lists.length);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">private</span> ListNode <span class="title">mergeKLists</span><span class="params">(ListNode[] lists, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (end - start == <span class="number">1</span>) &#123; <span class="comment">// only one list</span></div><div class="line">        <span class="keyword">return</span> lists[start];</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (end - start == <span class="number">2</span>) &#123;  <span class="comment">// merge two lists</span></div><div class="line">        <span class="keyword">return</span> mergeTwoLists(lists[start], lists[start + <span class="number">1</span>]);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">int</span> mid = start + (end - start) / <span class="number">2</span>;</div><div class="line">        <span class="comment">// cut into first and second halves</span></div><div class="line">        <span class="keyword">return</span> mergeTwoLists(mergeKLists(lists, start, mid), </div><div class="line">                             mergeKLists(lists, mid, end)); <span class="comment">// warning not mid + 1</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">private</span> ListNode <span class="title">mergeTwoLists</span><span class="params">(ListNode l1, ListNode l2)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (l1 == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span> l2;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (l2 == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span> l1;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (l1.val &lt;= l2.val) &#123;</div><div class="line">        l1.next = mergeTwoLists(l1.next, l2);</div><div class="line">        <span class="keyword">return</span> l1;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        l2.next = mergeTwoLists(l1, l2.next);</div><div class="line">        <span class="keyword">return</span> l2;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="31-next-permutation"><a href="#31-next-permutation" class="headerlink" title="31. next-permutation"></a><a href="https://leetcode.com/problems/next-permutation/#/description" target="_blank" rel="external">31. next-permutation</a></h4><ul>
<li>给一个int数组，将它改造成按字典序的下一个排列，若不存在则直接按从小到大的顺序调整。要求In-place对原数组操作，不能申请额外空间。</li>
<li><a href="https://discuss.leetcode.com/topic/14124/sharing-my-clean-and-easy-understand-java-code-with-explanation" target="_blank" rel="external">这个想法</a>从右往左找相邻的两个数使得<code>first &lt; second</code>，然后再从右往左找首次出现的比first大的数，二者对调，然后将second及其之后的内容reverse一下即可。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 1324 -&gt; 1342</span></div><div class="line"><span class="comment">// 6，3，4，9，8，7，1 -&gt; 6，3，7，9，8，4，1 -&gt; 6，3，7，1，4，8，9</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">nextPermutation</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length &lt; <span class="number">2</span>) &#123;</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = nums.length - <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) &#123;</div><div class="line">            <span class="keyword">if</span> (nums[i] &lt; nums[i + <span class="number">1</span>]) &#123;    <span class="comment">// 找相邻的两个数</span></div><div class="line">                <span class="keyword">int</span> j = nums.length - <span class="number">1</span>;</div><div class="line">                <span class="keyword">while</span> (j &gt; i) &#123; <span class="comment">// 从右往左找第一个大于first的数</span></div><div class="line">                    <span class="keyword">if</span> (nums[j] &gt; nums[i]) &#123;</div><div class="line">                        swap(nums, i, j);   <span class="comment">// </span></div><div class="line">                        reverse(nums, i + <span class="number">1</span>);</div><div class="line">                        <span class="keyword">return</span>;</div><div class="line">                    &#125;</div><div class="line">                    j--;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        reverse(nums, <span class="number">0</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> temp = nums[i];</div><div class="line">        nums[i] = nums[j];</div><div class="line">        nums[j] = temp;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">reverse</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> start)</span> </span>&#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = start, j = nums.length - <span class="number">1</span>; i &lt; j; i++, j--) &#123;</div><div class="line">            swap(nums, i, j);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="42-trapping-rain-water-1"><a href="#42-trapping-rain-water-1" class="headerlink" title="42. trapping-rain-water"></a><a href="https://leetcode.com/problems/trapping-rain-water/#/description" target="_blank" rel="external">42. trapping-rain-water</a></h4><ul>
<li>给一个int数组，其中包含每个索引处墙的高度。求装满水时的横截面的积水的面积。</li>
<li><p>用两个辅助数组分别表示两侧最高高度，然后再一波遍历看能否装水。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">trap</span><span class="params">(<span class="keyword">int</span>[] height)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (height == <span class="keyword">null</span> || height.length == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span>[] hiLeft = <span class="keyword">new</span> <span class="keyword">int</span> [height.length];     <span class="comment">// leftward highest</span></div><div class="line">        <span class="keyword">int</span>[] hiRight = <span class="keyword">new</span> <span class="keyword">int</span> [height.length];    <span class="comment">// rightward highest</span></div><div class="line">        <span class="keyword">int</span> left = height[<span class="number">0</span>], right = height[height.length - <span class="number">1</span>];</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>, j = height.length - <span class="number">2</span>; i &lt; height.length; i++, j--) &#123;</div><div class="line">            hiLeft[i] = left;</div><div class="line">            left = Math.max(left, height[i]);</div><div class="line">            </div><div class="line">            hiRight[j] = right;</div><div class="line">            right = Math.max(right, height[j]);</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">int</span> area = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; height.length; i++) &#123;</div><div class="line">            <span class="keyword">int</span> h = Math.min(hiLeft[i], hiRight[i]);</div><div class="line">            <span class="keyword">if</span> (height[i] &lt; h) &#123;</div><div class="line">                area += (h - height[i]);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> area;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>follow-up:不能用额外空间呢？</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">trap</span><span class="params">(<span class="keyword">int</span>[] height)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (height == <span class="keyword">null</span> || height.length == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span>[] hiLeft = <span class="keyword">new</span> <span class="keyword">int</span> [height.length];     <span class="comment">// leftward highest</span></div><div class="line">        <span class="keyword">int</span>[] hiRight = <span class="keyword">new</span> <span class="keyword">int</span> [height.length];    <span class="comment">// rightward highest</span></div><div class="line">        <span class="keyword">int</span> left = height[<span class="number">0</span>], right = height[height.length - <span class="number">1</span>];</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>, j = height.length - <span class="number">2</span>; i &lt; height.length; i++, j--) &#123;</div><div class="line">            hiLeft[i] = left;</div><div class="line">            left = Math.max(left, height[i]);</div><div class="line">            </div><div class="line">            hiRight[j] = right;</div><div class="line">            right = Math.max(right, height[j]);</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">int</span> area = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; height.length; i++) &#123;</div><div class="line">            <span class="keyword">int</span> h = Math.min(hiLeft[i], hiRight[i]);</div><div class="line">            <span class="keyword">if</span> (height[i] &lt; h) &#123;</div><div class="line">                area += (h - height[i]);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> area;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="676-implement-magic-dictionary"><a href="#676-implement-magic-dictionary" class="headerlink" title="676. implement-magic-dictionary"></a><a href="https://leetcode.com/problems/implement-magic-dictionary/description/" target="_blank" rel="external">676. implement-magic-dictionary</a></h4><ul>
<li>给一个字典需要维护某种结构使得查询比较高效，查询是通过一个单词输入后判断字典中是否存在一个单词只替换输入串中的一个字符就能得到。</li>
<li>有点暴力的方法，在输入一个字符串数组的时候就维护一个从String映射到Character的Map，对于每个单词的每一个字符都换成<code>*</code>作为key，然后被替换的字符作为value存入。之后check的时候也是把每个字符都换成<code>*</code>之后再确认map中有没有对应的key。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MagicDictionary</span> </span>&#123;</div><div class="line">    <span class="comment">// 将每个单词的每个字符都替换成*之后，插入map，key是替换后的字符串，value是被替换掉的那个字符</span></div><div class="line">    <span class="comment">// 如果出现替换过后的key一样，则该位可以放任意字符，因为例如hello和hallo只有在第二位不同，如果替换后是h*llo可以任选一个，一定是true。</span></div><div class="line">    Map&lt;String, Character&gt; map = <span class="keyword">null</span>;</div><div class="line">    <span class="comment">/** Initialize your data structure here. */</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MagicDictionary</span><span class="params">()</span> </span>&#123;</div><div class="line">        map = <span class="keyword">new</span> HashMap&lt;String, Character&gt;();</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">/** Build a dictionary through a list of words */</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildDict</span><span class="params">(String[] dict)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (dict == <span class="keyword">null</span> || dict.length == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span> (String word : dict) &#123;</div><div class="line">            StringBuilder sb = <span class="keyword">new</span> StringBuilder(word);</div><div class="line">            <span class="keyword">int</span> len = word.length();</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</div><div class="line">                sb.setCharAt(i, <span class="string">'*'</span>);</div><div class="line">                Character c = map.get(sb.toString());</div><div class="line">                <span class="keyword">if</span> (c == <span class="keyword">null</span>) &#123;</div><div class="line">                    map.put(sb.toString(), word.charAt(i));</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    map.put(sb.toString(), <span class="string">'*'</span>);</div><div class="line">                &#125;</div><div class="line">                sb.setCharAt(i, word.charAt(i));</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">/** Returns if there is any word in the trie that equals to the given word after modifying exactly one character */</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">search</span><span class="params">(String word)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (word == <span class="keyword">null</span> || word.length() == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> len = word.length();</div><div class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder(word);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</div><div class="line">            sb.setCharAt(i, <span class="string">'*'</span>);</div><div class="line">            Character c = map.get(sb.toString());</div><div class="line">            <span class="keyword">if</span> (c != <span class="keyword">null</span> &amp;&amp; (c == <span class="string">'*'</span> || c != word.charAt(i))) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">            &#125;</div><div class="line">            sb.setCharAt(i, word.charAt(i));</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">/**</span></div><div class="line"><span class="comment"> * Your MagicDictionary object will be instantiated and called as such:</span></div><div class="line"><span class="comment"> * MagicDictionary obj = new MagicDictionary();</span></div><div class="line"><span class="comment"> * obj.buildDict(dict);</span></div><div class="line"><span class="comment"> * boolean param_2 = obj.search(word);</span></div><div class="line"><span class="comment"> */</span></div></pre></td></tr></table></figure></li>
</ul>

      
    </div>

    

    
    
    

    

    
      
    
    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>└(^o^)┘</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>Donate</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechat.png" alt="Bob_波波 WeChat Pay"/>
        <p>WeChat Pay</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/alipay.png" alt="Bob_波波 Alipay"/>
        <p>Alipay</p>
      </div>
    

    

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/java/" rel="tag"><i class="fa fa-tag"></i> java</a>
          
            <a href="/tags/algorithm/" rel="tag"><i class="fa fa-tag"></i> algorithm</a>
          
            <a href="/tags/interview/" rel="tag"><i class="fa fa-tag"></i> interview</a>
          
            <a href="/tags/google/" rel="tag"><i class="fa fa-tag"></i> google</a>
          
        </div>
      

      
      
        <div class="post-widgets">
        

        

        
          
          <div class="social_share">
            
            
               <div id="needsharebutton-postbottom">
                 <span class="btn">
                    <i class="fa fa-share-alt" aria-hidden="true"></i>
                 </span>
               </div>
            
          </div>
        
        </div>
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017/10/20/zillow/" rel="next" title="滋衣螺古如普">
                <i class="fa fa-chevron-left"></i> 滋衣螺古如普
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017/10/26/qin_chao_algorithm_note/" rel="prev" title="覃超视频课">
                覃超视频课 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  
    <div class="comments" id="comments">
      <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
      </div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpg"
                alt="Bob_波波"/>
            
              <p class="site-author-name" itemprop="name">Bob_波波</p>
              <p class="site-description motion-element" itemprop="description">I'm a Software Engineer!</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">42</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">4</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">42</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#10-regular-expression-matching"><span class="nav-text">10. regular-expression-matching</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#36-valid-sudoku"><span class="nav-text">36. valid-sudoku</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#37-sudoku-solver"><span class="nav-text">37. sudoku-solver</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#41-first-missing-positive"><span class="nav-text">41. first-missing-positive</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#42-trapping-rain-water"><span class="nav-text">42. trapping-rain-water</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#43-multiply-strings"><span class="nav-text">43. multiply-strings</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#44-wildcard-matching"><span class="nav-text">44. wildcard-matching</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#56-merge-intervals"><span class="nav-text">56. merge-intervals</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#59-spiral-matrix-ii"><span class="nav-text">59. spiral-matrix-ii</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#72-edit-distance"><span class="nav-text">72. edit-distance</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#91-decode-ways"><span class="nav-text">91. decode-ways</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#95-unique-binary-search-trees-ii"><span class="nav-text">95. unique-binary-search-trees-ii</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#OA-Email地址处理"><span class="nav-text">OA: Email地址处理</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#OA-两个篮子取水果"><span class="nav-text">OA: 两个篮子取水果</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#OA-上一个最接近时间"><span class="nav-text">OA: 上一个最接近时间</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#OA-开花时间"><span class="nav-text">OA: 开花时间</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#求有序数组的平方数"><span class="nav-text">求有序数组的平方数</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#String字符交换"><span class="nav-text">String字符交换</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#同义词-734-737"><span class="nav-text">同义词 734 737</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#flip-game-293-294"><span class="nav-text">flip game  293   294 </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#首个prefix不匹配字符串"><span class="nav-text">首个prefix不匹配字符串</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#flatten-iterator-251"><span class="nav-text">flatten iterator 251</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#判断二叉树是否对称-101"><span class="nav-text">判断二叉树是否对称 101</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#outbound-spiral"><span class="nav-text">outbound spiral</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Longest-substirng-with-k-distinct-characters-340"><span class="nav-text">Longest substirng with k distinct characters    340 </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#正则-10"><span class="nav-text">正则  10 </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#X删除字眼"><span class="nav-text">X删除字眼</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#字母矩阵移动组成单词"><span class="nav-text">字母矩阵移动组成单词</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#43-multiply-strings-1"><span class="nav-text">43. multiply-strings</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#格子中最长连续-562"><span class="nav-text">格子中最长连续 562 </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#给出一系列字母求相除结果-399"><span class="nav-text">给出一系列字母求相除结果  399 </span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#十进制转七进制-可参考405"><span class="nav-text">十进制转七进制 可参考405</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#九宫格-面巾"><span class="nav-text">九宫格 面巾</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#字符串重组"><span class="nav-text">字符串重组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#stream-observer"><span class="nav-text">stream observer</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#有向无环图最长路径"><span class="nav-text">有向无环图最长路径</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#带时间戳的Map"><span class="nav-text">带时间戳的Map</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#树的遍历"><span class="nav-text">树的遍历</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Frequencey-Iterator-类似于利口604"><span class="nav-text">Frequencey Iterator (类似于利口604)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#toeplitz-matrix"><span class="nav-text">toeplitz matrix</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3sum"><span class="nav-text">3sum</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#validate-2D-array"><span class="nav-text">validate 2D array</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2D-array-search-amp-sum"><span class="nav-text">2D array search & sum</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#voting-with-timestamp"><span class="nav-text">voting with timestamp</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#feed-tree"><span class="nav-text">feed tree</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#remove-node"><span class="nav-text">remove node</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#361-Bomb-Enemy"><span class="nav-text">361. Bomb Enemy</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#4-Median-of-2-sorted-arrays"><span class="nav-text">4. Median of 2 sorted arrays</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#17-letter-combinations"><span class="nav-text">17. letter-combinations</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#20-valid-parentheses"><span class="nav-text">20. valid-parentheses</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#22-generate-parentheses"><span class="nav-text">22. generate-parentheses</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#23-merge-k-sorted-lists"><span class="nav-text">23. merge-k-sorted-lists</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#31-next-permutation"><span class="nav-text">31. next-permutation</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#42-trapping-rain-water-1"><span class="nav-text">42. trapping-rain-water</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#676-implement-magic-dictionary"><span class="nav-text">676. implement-magic-dictionary</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2016 – <span itemprop="copyrightYear">2019</span>
  <span class="with-love" id="animate">
    <i class="fa fa-futbol-o"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Bob_波波</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a></div>




        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv" title="Total Visitors">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="post-meta-divider">|</span>
  

  
    <span class="site-pv" title="Total Views">
      <i class="fa fa-history"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    

    

    

    
      <div>
        <!-- Go to www.addthis.com/dashboard to customize your tools -->
<div class="addthis_inline_share_toolbox">
  <script type = "text/javascript" src = "//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-593135f4e114024c" async = "async" ></script>
</div>

      </div>
    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=6.7.0"></script>

  <script src="/js/src/motion.js?v=6.7.0"></script>



  
  


  <script src="/js/src/affix.js?v=6.7.0"></script>

  <script src="/js/src/schemes/pisces.js?v=6.7.0"></script>



  
  <script src="/js/src/scrollspy.js?v=6.7.0"></script>
<script src="/js/src/post-details.js?v=6.7.0"></script>



  


  <script src="/js/src/bootstrap.js?v=6.7.0"></script>



  

  
    <script id="dsq-count-scr" src="https://bobbyliujb.disqus.com/count.js" async></script>
  

  
    <script>
      var disqus_config = function () {
        this.page.url = "https://bobbyliujb.github.io/2017/10/21/google/";
        this.page.identifier = "2017/10/21/google/";
        this.page.title = '孤狗';
        };
      function loadComments () {
        var d = document, s = d.createElement('script');
        s.src = 'https://bobbyliujb.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      }
      
        loadComments();
      
    </script>
  













  

  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-circle-o-notch fa-spin fa-3x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('10');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script>
    
    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();

      Counter('get', '/classes/Counter', { where: JSON.stringify({ url }) })
        .done(function ({ results }) {
          if (results.length > 0) {
            var counter = results[0];
            
            Counter('put', `/classes/Counter/${counter.objectId}`, JSON.stringify({ time: { "__op":"Increment", "amount":1 } }))
            
            .done(function () {
                  var $element = $(document.getElementById(url));
                  $element.find('.leancloud-visitors-count').text(counter.time + 1);
            })
            
            .fail(function ({ responseJSON }) {
                console.log('Failed to save Visitor num, with error message: ' + responseJSON.error);
            })
          } else {
            
              Counter('post', '/classes/Counter', JSON.stringify({ title: title, url: url, time: 1}))
                .done(function () {
                  var $element = $(document.getElementById(url));
                  $element.find('.leancloud-visitors-count').text(1);
                })
                .fail(function () {
                  console.log('Failed to create');
                });
            
          }
        })
      .fail(function ({ responseJSON }) {
        console.log('LeanCloud Counter Error:' + responseJSON.code + " " + responseJSON.error);
      });
    }
    

    $(function() {
      $.get('https://app-router.leancloud.cn/2/route?appId=' + "jT7i5auNazMHRONSPUHmcoko-gzGzoHsz")
        .done(function ({ api_server }) {
          var Counter = function (method, url, data) {
            return $.ajax({
              method: method,
              url: `https://${api_server}/1.1${url}`,
              headers: {
                'X-LC-Id': "jT7i5auNazMHRONSPUHmcoko-gzGzoHsz",
                'X-LC-Key': "dEWwuVre5Svmwvjw2DmcIbLy",
                'Content-Type': 'application/json',
              },
              data: data,
            });
          };
          
          addCount(Counter);
          
        })
    });
  </script>



  

  

  

  

  
  
  
  <script src="/lib/needsharebutton/needsharebutton.js"></script>
  <script>
    
      pbOptions = {};
      
        pbOptions.iconStyle = "box";
      
        pbOptions.boxForm = "horizontal";
      
        pbOptions.position = "topCenter";
      
        pbOptions.networks = "Linkedin,Weibo,Wechat,Twitter,Facebook,Pinterest,GooglePlus,Evernote,Reddit,Douban,QQZone,Mailto";
      
      new needShareButton('#needsharebutton-postbottom', pbOptions);
    
    
  </script>


  

  

  

  

  

  

  

</body>
</html>
