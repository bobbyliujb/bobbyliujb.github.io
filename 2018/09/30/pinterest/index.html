<!DOCTYPE html>












  


<html class="theme-next gemini use-motion" lang="en">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2"/>
<meta name="theme-color" content="#222"/>


  
  
  <link rel="stylesheet" href="/lib/needsharebutton/needsharebutton.css"/>



  
  
    
    
  <script src="/lib/pace/pace.min.js?v=1.0.2"></script>
  <link rel="stylesheet" href="/lib/pace/pace-theme-flash.min.css?v=1.0.2"/>





  <meta http-equiv="Cache-Control" content="no-transform"/>
  <meta http-equiv="Cache-Control" content="no-siteapp"/>
















  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext"/>
  






<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2"/>

<link rel="stylesheet" href="/css/main.css?v=6.7.0"/>


  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico?v=6.7.0">


  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=6.7.0">


  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico?v=6.7.0">


  <link rel="mask-icon" href="/images/favicon.ico?v=6.7.0" color="#222">







<script id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '6.7.0',
    sidebar: {"position":"left","display":"hide","offset":12,"b2t":true,"scrollpercent":false,"onmobile":false},
    fancybox: false,
    fastclick: false,
    lazyload: false,
    tabs: true,
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>


  




  <meta name="description" content="迎难而上，祝我好运。面朝大海，春暖花开。">
<meta name="keywords" content="algorithm,interview,java">
<meta property="og:type" content="article">
<meta property="og:title" content="拼扯惹斯特">
<meta property="og:url" content="https://bobbyliujb.github.io/2018/09/30/pinterest/index.html">
<meta property="og:site_name" content="Bob_波波">
<meta property="og:description" content="迎难而上，祝我好运。面朝大海，春暖花开。">
<meta property="og:locale" content="en">
<meta property="og:image" content="https://ww1.sinaimg.cn/large/9b3a5c2fly1fw447d2fm2j20q20q0tbb.jpg">
<meta property="og:updated_time" content="2018-10-25T07:04:43.131Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="拼扯惹斯特">
<meta name="twitter:description" content="迎难而上，祝我好运。面朝大海，春暖花开。">
<meta name="twitter:image" content="https://ww1.sinaimg.cn/large/9b3a5c2fly1fw447d2fm2j20q20q0tbb.jpg">






  <link rel="canonical" href="https://bobbyliujb.github.io/2018/09/30/pinterest/"/>



<script id="page.configurations">
  CONFIG.page = {
    sidebar: "",
  };
</script>

  <title>拼扯惹斯特 | Bob_波波</title>
  




  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-118868735-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'UA-118868735-1');
  </script>









  <noscript>
  <style>
  .use-motion .motion-element,
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-title { opacity: initial; }

  .use-motion .logo,
  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="en">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta">
    

    <div class="custom-logo-site-title">
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Bob_波波</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
    
    
  </div>

  <div class="site-nav-toggle">
    <button aria-label="Toggle navigation bar">
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>



<nav class="site-nav">
  
    <ul id="menu" class="menu">
      
        
        
        
          
          <li class="menu-item menu-item-home">

    
    
    
      
    

    
      
    

    <a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i> <br/>Home</a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-tags">

    
    
    
      
    

    
      
    

    <a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i> <br/>Tags<span class="badge">46</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-categories">

    
    
    
      
    

    
      
    

    <a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i> <br/>Categories<span class="badge">4</span></a>

  </li>
        
        
        
          
          <li class="menu-item menu-item-archives">

    
    
    
      
    

    
      
    

    <a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i> <br/>Archives<span class="badge">46</span></a>

  </li>

      
      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />Search</a>
        </li>
      
    </ul>
  

  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="Searching..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



  



</div>
    </header>

    


    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          
            

          
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  

  <article class="post post-type-normal" itemscope itemtype="http://schema.org/Article">
  
  
  
  <div class="post-block">
    <link itemprop="mainEntityOfPage" href="https://bobbyliujb.github.io/2018/09/30/pinterest/"/>

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Bob_波波"/>
      <meta itemprop="description" content="I'm a Software Engineer!"/>
      <meta itemprop="image" content="/images/avatar.jpg"/>
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bob_波波"/>
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">拼扯惹斯特

              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">

            
            
            

            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">Posted on</span>
              

              
                
              

              <time title="Created: 2018-09-29 10:29:42" itemprop="dateCreated datePublished" datetime="2018-09-29T10:29:42-07:00">2018-09-29</time>
            

            
              

              
                
                <span class="post-meta-divider">|</span>
                

                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Edited on</span>
                
                <time title="Modified: 2018-10-25 00:04:43" itemprop="dateModified" datetime="2018-10-25T00:04:43-07:00">2018-10-25</time>
              
            
          </span>

          
            <span class="post-category" >
            
              <span class="post-meta-divider">|</span>
            
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              
                <span class="post-meta-item-text">In</span>
              
              
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/Tech/" itemprop="url" rel="index"><span itemprop="name">Tech</span></a></span>

                
                
              
            </span>
          

          
            
              <span class="post-comments-count">
                <span class="post-meta-divider">|</span>
                <span class="post-meta-item-icon">
                  <i class="fa fa-comment-o"></i>
                </span>
                <a href="/2018/09/30/pinterest/#comments" itemprop="discussionUrl">
                
                  <span class="post-comments-count disqus-comment-count"
                        data-disqus-identifier="2018/09/30/pinterest/" itemprop="commentCount"></span>
                </a>
              </span>
            
          

          
          
             <span id="/2018/09/30/pinterest/" class="leancloud_visitors" data-flag-title="拼扯惹斯特">
               <span class="post-meta-divider">|</span>
               <span class="post-meta-item-icon">
                 <i class="fa fa-eye"></i>
               </span>
               
                 <span class="post-meta-item-text">Views: </span>
               
                 <span class="leancloud-visitors-count"></span>
             </span>
          

          

          
            <div class="post-symbolscount">
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-file-word-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Symbols count in article: </span>
                
                <span title="Symbols count in article">91k</span>
              

              
                <span class="post-meta-divider">|</span>
              

              
                <span class="post-meta-item-icon">
                  <i class="fa fa-clock-o"></i>
                </span>
                
                  <span class="post-meta-item-text">Reading time &asymp;</span>
                
                <span title="Reading time">1:35</span>
              
            </div>
          

          

        </div>
      </header>
    

    
    
    
    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>迎难而上，祝我好运。面朝大海，春暖花开。<br><a id="more"></a></p>
<h4 id="2018-8-9"><a href="#2018-8-9" class="headerlink" title="2018.8.9"></a><a href="http://www.1point3acres.com/bbs/thread-437282-1-1.html" target="_blank" rel="external">2018.8.9</a></h4><h5 id="269-alien-dictionary-x3"><a href="#269-alien-dictionary-x3" class="headerlink" title="269. alien-dictionary x3"></a><a href="https://leetcode.com/problems/alien-dictionary/description/" target="_blank" rel="external">269. alien-dictionary</a> x3</h5><ul>
<li>给一个按照某种外星人字典序排好序的String数组，只包含小写字母，求这些出现过的字母的顺序。若有多种可能（平级）则任意顺序均可。</li>
<li>topo排序问题，前后两个字符串逐个字符找到第一对不同的字符，确定先后顺序（前-&gt;后）构成一条边，两两字符串全部遍历完之后就形成了一个graph。维护一个inDegree，每次BFS时从入度为0的节点出发，将它可达的所有邻接点的入度都减1（删掉这些边），最后如果全部字符都遍历到了即可。如果出现了环，则一定会又入度不为0的点残留。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">alienOrder</span><span class="params">(String[] words)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (words == <span class="keyword">null</span> || words.length == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="string">""</span>;</div><div class="line">        &#125;</div><div class="line">        Map&lt;Character, Set&lt;Character&gt;&gt; graph = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">        Map&lt;Character, Integer&gt; inDegree = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">        initInDegree(words, inDegree);</div><div class="line">        buildGraph(words, graph, inDegree);</div><div class="line">        Queue&lt;Character&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">char</span> c : inDegree.keySet()) &#123;</div><div class="line">            <span class="keyword">if</span> (inDegree.get(c) == <span class="number">0</span>) &#123;</div><div class="line">                q.offer(c);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</div><div class="line">        <span class="keyword">while</span> (!q.isEmpty()) &#123;</div><div class="line">            <span class="keyword">char</span> c = q.poll();</div><div class="line">            sb.append(c);</div><div class="line">            <span class="keyword">if</span> (graph.containsKey(c)) &#123;</div><div class="line">                Set&lt;Character&gt; neighbors = graph.get(c);</div><div class="line">                <span class="keyword">for</span> (<span class="keyword">char</span> neighbor : neighbors) &#123;</div><div class="line">                    inDegree.put(neighbor, inDegree.get(neighbor) - <span class="number">1</span>);</div><div class="line">                    <span class="keyword">if</span> (inDegree.get(neighbor) == <span class="number">0</span>) &#123;</div><div class="line">                        q.offer(neighbor);</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (sb.length() != inDegree.size()) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="string">""</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> sb.toString();</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">initInDegree</span><span class="params">(String[] words, Map&lt;Character, Integer&gt; inDegree)</span> </span>&#123;</div><div class="line">        <span class="keyword">for</span> (String word : words) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">char</span> c : word.toCharArray()) &#123;</div><div class="line">                inDegree.put(c, <span class="number">0</span>);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">buildGraph</span><span class="params">(String[] words, Map&lt;Character, Set&lt;Character&gt;&gt; graph, Map&lt;Character, Integer&gt; inDegree)</span> </span>&#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; words.length; i++) &#123;</div><div class="line">            String prev = words[i - <span class="number">1</span>];</div><div class="line">            String curr = words[i];</div><div class="line">            <span class="keyword">int</span> len = Math.min(prev.length(), curr.length());</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; len; j++) &#123;</div><div class="line">                <span class="keyword">char</span> c1 = prev.charAt(j);</div><div class="line">                <span class="keyword">char</span> c2 = curr.charAt(j);</div><div class="line">                <span class="keyword">if</span> (c1 != c2) &#123;     <span class="comment">// 找到第一个不同的字母</span></div><div class="line">                    graph.putIfAbsent(c1, <span class="keyword">new</span> HashSet&lt;Character&gt;());</div><div class="line">                    <span class="keyword">if</span> (graph.get(c1).add(c2)) &#123;</div><div class="line">                        inDegree.put(c2, inDegree.get(c2) + <span class="number">1</span>);</div><div class="line">                    &#125;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="271-encode-and-decode-strings"><a href="#271-encode-and-decode-strings" class="headerlink" title="271. encode-and-decode-strings"></a><a href="https://leetcode.com/problems/encode-and-decode-strings/description/" target="_blank" rel="external">271. encode-and-decode-strings</a></h5><ul>
<li>实现encode和decode函数，将字符串List和单一条字符串互相转换。</li>
<li>字符含有哪些？（所有ASCII字符都可能出现）</li>
<li>由于每个符号都有可能出现，所以不能想着用某个特殊符号来拼接和拆分。因此需要额外的信息进行标记，这里用的是在<code>/</code>之前加上所跟字符串的长度的方式，decode时每次从特定位置开始找<code>/</code>，然后取出它前面的长度信息直接截取后面的子字符串。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Codec</span> </span>&#123;</div><div class="line">    <span class="comment">// Encodes a list of strings to a single string.</span></div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">encode</span><span class="params">(List&lt;String&gt; strs)</span> </span>&#123;</div><div class="line">        StringBuilder sb = <span class="keyword">new</span> StringBuilder();</div><div class="line">        <span class="keyword">for</span> (String str : strs) &#123;</div><div class="line">            sb.append(str.length()).append(<span class="string">"/"</span>).append(str);    <span class="comment">// 长度 + / + 字符串内容</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> sb.toString();</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="comment">// Decodes a single string to a list of strings.</span></div><div class="line">    <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">decode</span><span class="params">(String s)</span> </span>&#123;</div><div class="line">        List&lt;String&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">        <span class="keyword">int</span> i = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span> (i &lt; s.length()) &#123;</div><div class="line">            <span class="keyword">int</span> index = s.indexOf(<span class="string">"/"</span>, i);  </div><div class="line">            <span class="keyword">int</span> len = Integer.valueOf(s.substring(i, index));</div><div class="line">            ans.add(s.substring(index + <span class="number">1</span>, index + <span class="number">1</span> + len));</div><div class="line">            i = index + <span class="number">1</span> + len;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2018-8-4-电面"><a href="#2018-8-4-电面" class="headerlink" title="2018.8.4 电面"></a><a href="http://www.1point3acres.com/bbs/thread-436753-1-1.html" target="_blank" rel="external">2018.8.4 电面</a></h4><ul>
<li>给一个n，返回所有可能的factor组合。<a href="https://leetcode.com/problems/factor-combinations/" target="_blank" rel="external">lc 254</a> x2<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; getFactors(<span class="keyword">int</span> n) &#123;</div><div class="line">    List&lt;List&lt;Integer&gt;&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">    <span class="keyword">if</span> (n &lt; <span class="number">4</span>) &#123;</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line">    getFactors(n, <span class="number">2</span>, <span class="keyword">new</span> ArrayList&lt;Integer&gt;(), ans);</div><div class="line">    <span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">getFactors</span><span class="params">(<span class="keyword">int</span> n, <span class="keyword">int</span> start, List&lt;Integer&gt; path, List&lt;List&lt;Integer&gt;&gt; ans)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (n &lt;= <span class="number">1</span>) &#123;   <span class="comment">// 已经除尽了，说明没有更多factor</span></div><div class="line">        <span class="keyword">if</span> (path.size() &gt; <span class="number">1</span>) &#123;  <span class="comment">// 当前path就是一路走过来用过的factor</span></div><div class="line">            ans.add(<span class="keyword">new</span> ArrayList&lt;Integer&gt;(path));</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = start; i &lt;= n; i++) &#123;</div><div class="line">        <span class="keyword">if</span> (n % i == <span class="number">0</span>) &#123;   <span class="comment">// 可以整除，说明i是n的一个factor</span></div><div class="line">            path.add(i);    <span class="comment">// 将i加入path，将n除掉i，再递归从i开始继续往后找大于等于i的factor</span></div><div class="line">            getFactors(n / i, i, path, ans);</div><div class="line">            path.remove(path.size() - <span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2018-9-14-Onsite"><a href="#2018-9-14-Onsite" class="headerlink" title="2018.9.14 Onsite"></a><a href="http://www.1point3acres.com/bbs/thread-442892-1-1.html" target="_blank" rel="external">2018.9.14 Onsite</a></h4><ul>
<li><p>给一个连接关系{A - &gt; B; B - &gt; A,C; C - &gt; B; D - &gt; E; E -&gt; D}，group这些node并返回这些group：[(A,B,C), (D,E)].</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;List&lt;Node&gt;&gt; getGroups(Map&lt;Node, List&lt;Node&gt;&gt; graph) &#123;</div><div class="line">    <span class="keyword">if</span> (graph == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line">    Set&lt;Node&gt; nodeSet = <span class="keyword">new</span> HashSet&lt;&gt;();</div><div class="line">    <span class="keyword">for</span> (Node key : graph) &#123;</div><div class="line">        nodeSet.add(key);</div><div class="line">        <span class="keyword">for</span> (Node neighbor : graph.get(key)) &#123;</div><div class="line">            nodeSet.add(neighbor);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    List&lt;List&lt;Node&gt;&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">    <span class="keyword">while</span> (!nodeSet.isEmpty()) &#123;</div><div class="line">        List&lt;Node&gt; group = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">        Iterator&lt;Node&gt; it = nodeSet.iterator();</div><div class="line">        dfs(it.next(), graph, nodeSet, group);</div><div class="line">        ans.add(group);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(Node curr, Map&lt;Node, List&lt;Node&gt;&gt; graph, Set&lt;Node&gt; nodeSet, List&lt;Node&gt; group)</span> </span>&#123;</div><div class="line">    group.add(curr);</div><div class="line">    nodeSet.remove(curr);   <span class="comment">// 移除表示已访问</span></div><div class="line">    List&lt;Node&gt; neighbors = graph.get(curr);</div><div class="line">    <span class="keyword">if</span> (neighbors == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span> (Node neighbor : neighbors) &#123;</div><div class="line">        <span class="keyword">if</span> (nodeSet.contains(neighbor)) &#123;</div><div class="line">            dfs(neighbor, graph, nodeSet, group);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h5 id="425-word-squares-x2"><a href="#425-word-squares-x2" class="headerlink" title="425. word-squares x2"></a><a href="https://leetcode.com/problems/word-squares/description/" target="_blank" rel="external">425. word-squares</a> x2</h5></li>
<li>给一个wordList，将List中的String放入matrix中使得行、列的单词都来自于这个List。</li>
<li>Trie + DFS，对于每个Trie节点，除了正常的nexts数组、isWord布尔值，额外维护一个List<string>保存以「到达当前TrieNode路径」为prefix的所有word。固定一个word之后，下一个词的prefix可以通过纵向append得到，具体规律见<a href="https://leetcode.com/problems/word-squares/discuss/91333/Explained.-My-Java-solution-using-Trie-126ms-1616" target="_blank" rel="external">这个discussion</a>.<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span> </span>&#123;</div><div class="line">        TrieNode[] nexts;</div><div class="line">        List&lt;String&gt; prefixWords;</div><div class="line">        <span class="keyword">boolean</span> isWord;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">TrieNode</span><span class="params">()</span> </span>&#123;</div><div class="line">            nexts = <span class="keyword">new</span> TrieNode[<span class="number">26</span>];</div><div class="line">            prefixWords = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">            isWord = <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Trie</span> </span>&#123;</div><div class="line">        TrieNode root;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Trie</span><span class="params">(String[] words)</span> </span>&#123;</div><div class="line">            root = <span class="keyword">new</span> TrieNode();</div><div class="line">            <span class="keyword">for</span> (String word : words) &#123; </div><div class="line">                TrieNode curr = root;</div><div class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; word.length(); i++) &#123;</div><div class="line">                    <span class="keyword">int</span> index = word.charAt(i) - <span class="string">'a'</span>;</div><div class="line">                    <span class="keyword">if</span> (curr.nexts[index] == <span class="keyword">null</span>) &#123;</div><div class="line">                        curr.nexts[index] = <span class="keyword">new</span> TrieNode();</div><div class="line">                    &#125;</div><div class="line">                    curr.prefixWords.add(word);</div><div class="line">                    curr = curr.nexts[index];</div><div class="line">                &#125;</div><div class="line">                curr.isWord = <span class="keyword">true</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">getByPrefix</span><span class="params">(String prefix)</span> </span>&#123;</div><div class="line">            List&lt;String&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">            TrieNode curr = root;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; prefix.length(); i++) &#123;</div><div class="line">                <span class="keyword">int</span> index = prefix.charAt(i) - <span class="string">'a'</span>;</div><div class="line">                <span class="keyword">if</span> (curr.nexts[index] == <span class="keyword">null</span>) &#123;</div><div class="line">                    <span class="keyword">return</span> ans;</div><div class="line">                &#125;</div><div class="line">                curr = curr.nexts[index];</div><div class="line">            &#125;</div><div class="line">            ans.addAll(curr.prefixWords);</div><div class="line">            <span class="keyword">return</span> ans;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> len, Trie trie, List&lt;List&lt;String&gt;&gt; ans, List&lt;String&gt; curr)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (curr.size() == len) &#123;</div><div class="line">            ans.add(<span class="keyword">new</span> ArrayList&lt;&gt;(curr));</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> index = curr.size();</div><div class="line">        StringBuilder prefix = <span class="keyword">new</span> StringBuilder();</div><div class="line">        <span class="keyword">for</span> (String s : curr) &#123;</div><div class="line">            prefix.append(s.charAt(index));</div><div class="line">        &#125;</div><div class="line">        List&lt;String&gt; candidates = trie.getByPrefix(prefix.toString());</div><div class="line">        <span class="keyword">for</span> (String candidate : candidates) &#123;</div><div class="line">            curr.add(candidate);</div><div class="line">            dfs(len, trie, ans, curr);</div><div class="line">            curr.remove(curr.size() - <span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; wordSquares(String[] words) &#123;</div><div class="line">        List&lt;List&lt;String&gt;&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">        <span class="keyword">if</span> (words == <span class="keyword">null</span> || words.length == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> ans;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> len = words[<span class="number">0</span>].length();</div><div class="line">        Trie root = <span class="keyword">new</span> Trie(words);</div><div class="line">        List&lt;String&gt; curr = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">        <span class="keyword">for</span> (String word : words) &#123;</div><div class="line">            curr.add(word);</div><div class="line">            dfs(len, root, ans, curr);</div><div class="line">            curr.remove(curr.size() - <span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</string></li>
</ul>
<h4 id="2018-4-Onsite"><a href="#2018-4-Onsite" class="headerlink" title="2018.4 Onsite"></a><a href="http://www.1point3acres.com/bbs/thread-388024-1-1.html" target="_blank" rel="external">2018.4 Onsite</a></h4><h5 id="index-sum"><a href="#index-sum" class="headerlink" title="index sum"></a>index sum</h5><ul>
<li>一个array自己跟自己的element可以组成一个pair，这个pair有个sum，求the kth sum分别对应的index。应该类似于<a href="https://leetcode.com/problems/kth-largest-element-in-an-array/description/" target="_blank" rel="external">lc 215 k-th element</a>吧，只不过需要多存一个index作为返回。</li>
<li><p>方法一：PriorityQueue维护top K元素即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findKthLargest</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    PriorityQueue&lt;Integer&gt; pq = <span class="keyword">new</span> PriorityQueue&lt;&gt;();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</div><div class="line">        pq.offer(nums[i]);</div><div class="line">        <span class="keyword">if</span> (pq.size() &gt; k) &#123;</div><div class="line">            pq.poll();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> pq.peek();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>方法二：quickSelect，用快排的partition来找到元素。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findKthLargest</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    shuffle(nums);</div><div class="line">    <span class="keyword">int</span> lo = <span class="number">0</span>, hi = nums.length - <span class="number">1</span>;</div><div class="line">    k = nums.length - k;    <span class="comment">// 转换成第k小的</span></div><div class="line">    <span class="keyword">while</span> (lo &lt; hi) &#123;</div><div class="line">        <span class="keyword">int</span> j = partition(nums, lo, hi);</div><div class="line">        <span class="keyword">if</span> (j == k) &#123;</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (j &lt; k) &#123; <span class="comment">// 说明第k小的还在后面</span></div><div class="line">            lo = j + <span class="number">1</span>;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;    <span class="comment">// 说明第k小的还在前面</span></div><div class="line">            hi = j - <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> nums[k];</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">partition</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> lo, <span class="keyword">int</span> hi)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> i = lo, j = hi + <span class="number">1</span>;</div><div class="line">    <span class="keyword">while</span> (i &lt; j) &#123;</div><div class="line">        <span class="keyword">while</span> (nums[++i] &lt; nums[lo]) &#123;</div><div class="line">            <span class="keyword">if</span> (i == hi) &#123;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">while</span> (nums[--j] &gt; nums[lo]) &#123;</div><div class="line">            <span class="keyword">if</span> (j == lo) &#123;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (i &gt;= j) &#123;</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">        swap(nums, i, j);</div><div class="line">    &#125;</div><div class="line">    swap(nums, lo, j);</div><div class="line">    <span class="keyword">return</span> j;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">shuffle</span><span class="params">(<span class="keyword">int</span>[] arr)</span> </span>&#123;</div><div class="line">    Random r = <span class="keyword">new</span> Random();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</div><div class="line">        swap(arr, i, r.nextInt(i + <span class="number">1</span>));</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> temp = nums[i];</div><div class="line">    nums[i] = nums[j];</div><div class="line">    nums[j] = temp;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="463-island-perimeter-x2"><a href="#463-island-perimeter-x2" class="headerlink" title="463. island-perimeter x2"></a><a href="https://leetcode.com/problems/island-perimeter/description/" target="_blank" rel="external">463. island-perimeter</a> x2</h5><ul>
<li>给一个0/1二维矩阵，求其中为1的island的周长。</li>
<li><p>方法一：BFS，每个1都先算它有四条边，然后根据邻接情况减掉不是边的即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">islandPerimeter</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (grid == <span class="keyword">null</span> || grid.length == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">boolean</span>[][] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[grid.length][grid[<span class="number">0</span>].length];</div><div class="line">        <span class="keyword">int</span> perimeter = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; grid.length; i++) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; grid[<span class="number">0</span>].length; j++) &#123;</div><div class="line">                <span class="keyword">if</span> (grid[i][j] == <span class="number">1</span> &amp;&amp; !visited[i][j]) &#123;</div><div class="line">                    perimeter += bfs(grid, i, j, visited);</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> perimeter;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[][] dirs = <span class="keyword">new</span> <span class="keyword">int</span>[][] &#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;&#125;;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">bfs</span><span class="params">(<span class="keyword">int</span>[][] grid, <span class="keyword">int</span> i, <span class="keyword">int</span> j, <span class="keyword">boolean</span>[][] visited)</span> </span>&#123;</div><div class="line">        Queue&lt;<span class="keyword">int</span>[]&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">        q.add(<span class="keyword">new</span> <span class="keyword">int</span>[] &#123;i, j&#125;);</div><div class="line">        visited[i][j] = <span class="keyword">true</span>;</div><div class="line">        <span class="keyword">int</span> perimeter = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span> (!q.isEmpty()) &#123;</div><div class="line">            <span class="keyword">int</span>[] curr = q.poll();</div><div class="line">            perimeter += <span class="number">4</span>;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span>[] dir : dirs) &#123;</div><div class="line">                <span class="keyword">int</span> row = curr[<span class="number">0</span>] + dir[<span class="number">0</span>], col = curr[<span class="number">1</span>] + dir[<span class="number">1</span>];</div><div class="line">                <span class="keyword">if</span> (isIsland(grid, row, col)) &#123;</div><div class="line">                    perimeter--;</div><div class="line">                    <span class="keyword">if</span> (!visited[row][col]) &#123;</div><div class="line">                        q.add(<span class="keyword">new</span> <span class="keyword">int</span>[] &#123;row, col&#125;);</div><div class="line">                        visited[row][col] = <span class="keyword">true</span>;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> perimeter;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">isIsland</span><span class="params">(<span class="keyword">int</span>[][] grid, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> i &gt;= <span class="number">0</span> &amp;&amp; i &lt; grid.length</div><div class="line">            &amp;&amp; j &gt;= <span class="number">0</span> &amp;&amp; j &lt; grid[<span class="number">0</span>].length</div><div class="line">            &amp;&amp; grid[i][j] == <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>方法二：找规律。对于每一个1的cell，看它的下方和右方neighbor是不是1，记录neighbor数，最后周长就是islands <em> 4 - neighbours </em> 2。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">islandPerimeter</span><span class="params">(<span class="keyword">int</span>[][] grid)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> islands = <span class="number">0</span>, neighbours = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; grid.length; i++) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; grid[i].length; j++) &#123;</div><div class="line">            <span class="keyword">if</span> (grid[i][j] == <span class="number">1</span>) &#123;</div><div class="line">                islands++; <span class="comment">// count islands</span></div><div class="line">                <span class="keyword">if</span> (i &lt; grid.length - <span class="number">1</span> &amp;&amp; grid[i + <span class="number">1</span>][j] == <span class="number">1</span>) neighbours++; <span class="comment">// count down neighbours</span></div><div class="line">                <span class="keyword">if</span> (j &lt; grid[i].length - <span class="number">1</span> &amp;&amp; grid[i][j + <span class="number">1</span>] == <span class="number">1</span>) neighbours++; <span class="comment">// count right neighbours</span></div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">return</span> islands * <span class="number">4</span> - neighbours * <span class="number">2</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2018-9-Onsite"><a href="#2018-9-Onsite" class="headerlink" title="2018.9 Onsite"></a><a href="http://www.1point3acres.com/bbs/thread-440801-1-1.html" target="_blank" rel="external">2018.9 Onsite</a></h4><h5 id="permutation系列"><a href="#permutation系列" class="headerlink" title="permutation系列"></a>permutation系列</h5><ul>
<li><p><a href="https://leetcode.com/problems/permutations/" target="_blank" rel="external">Permutations(无重复元素全排列)</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; permute(<span class="keyword">int</span>[] nums) &#123;</div><div class="line">   List&lt;List&lt;Integer&gt;&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">   backtrack(list, <span class="keyword">new</span> ArrayList&lt;&gt;(), nums, <span class="keyword">new</span> <span class="keyword">boolean</span>[nums.length]);</div><div class="line">   <span class="keyword">return</span> list;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; list, List&lt;Integer&gt; tempList, <span class="keyword">int</span>[] nums, <span class="keyword">boolean</span>[] used)</span> </span>&#123;</div><div class="line">   <span class="keyword">if</span> (tempList.size() == nums.length) &#123;</div><div class="line">      list.add(<span class="keyword">new</span> ArrayList&lt;&gt;(tempList));</div><div class="line">   &#125; <span class="keyword">else</span> &#123;</div><div class="line">      <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123; </div><div class="line">         <span class="keyword">if</span> (used[i]) <span class="keyword">continue</span>;</div><div class="line">         tempList.add(nums[i]);</div><div class="line">         used[i] = <span class="keyword">true</span>;</div><div class="line">         backtrack(list, tempList, nums);</div><div class="line">         used[i] = <span class="keyword">false</span>;</div><div class="line">         tempList.remove(tempList.size() - <span class="number">1</span>);</div><div class="line">      &#125;</div><div class="line">   &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p><a href="https://leetcode.com/problems/permutations-ii/" target="_blank" rel="external">Permutations(有重复元素全排列)</a></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> List&lt;List&lt;Integer&gt;&gt; permuteUnique(<span class="keyword">int</span>[] nums) &#123;</div><div class="line">    List&lt;List&lt;Integer&gt;&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">    Arrays.sort(nums);</div><div class="line">    backtrack(list, <span class="keyword">new</span> ArrayList&lt;&gt;(), nums, <span class="keyword">new</span> <span class="keyword">boolean</span>[nums.length]);</div><div class="line">    <span class="keyword">return</span> list;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">backtrack</span><span class="params">(List&lt;List&lt;Integer&gt;&gt; list, List&lt;Integer&gt; tempList, <span class="keyword">int</span>[] nums, <span class="keyword">boolean</span>[] used)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (tempList.size() == nums.length) &#123;</div><div class="line">        list.add(<span class="keyword">new</span> ArrayList&lt;&gt;(tempList));</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</div><div class="line">            <span class="keyword">if</span> (used[i] || i &gt; <span class="number">0</span> &amp;&amp; nums[i] == nums[i - <span class="number">1</span>] &amp;&amp; !used[i - <span class="number">1</span>]) <span class="keyword">continue</span>;</div><div class="line">            tempList.add(nums[i]);</div><div class="line">            used[i] = <span class="keyword">true</span>; </div><div class="line">            backtrack(list, tempList, nums, used);</div><div class="line">            used[i] = <span class="keyword">false</span>; </div><div class="line">            tempList.remove(tempList.size() - <span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2016-8-onsite"><a href="#2016-8-onsite" class="headerlink" title="2016.8 onsite"></a><a href="http://www.1point3acres.com/bbs/thread-198446-1-1.html" target="_blank" rel="external">2016.8 onsite</a></h4><h5 id="Letter-Combinations-of-a-Phone-Number-with-isWord-API"><a href="#Letter-Combinations-of-a-Phone-Number-with-isWord-API" class="headerlink" title="Letter Combinations of a Phone Number with isWord() API"></a>Letter Combinations of a Phone Number with isWord() API</h5><ul>
<li>和<a href="https://leetcode.com/problems/letter-combinations-of-a-phone-number/description/" target="_blank" rel="external">lc 17 Letter Combinations of a Phone Number</a>类似，但会多给一个isWord()的API，需要判断生成的word是否在dict中。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">final</span> <span class="keyword">char</span>[][] num2Char = <span class="keyword">new</span> <span class="keyword">char</span> [][] &#123;</div><div class="line">    &#123;&#125;, </div><div class="line">    &#123;&#125;, </div><div class="line">    &#123;<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>&#125;, </div><div class="line">    &#123;<span class="string">'d'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>&#125;, </div><div class="line">    &#123;<span class="string">'g'</span>, <span class="string">'h'</span>, <span class="string">'i'</span>&#125;,</div><div class="line">    &#123;<span class="string">'j'</span>, <span class="string">'k'</span>, <span class="string">'l'</span>&#125;, </div><div class="line">    &#123;<span class="string">'m'</span>, <span class="string">'n'</span>, <span class="string">'o'</span>&#125;, </div><div class="line">    &#123;<span class="string">'p'</span>, <span class="string">'q'</span>, <span class="string">'r'</span>, <span class="string">'s'</span>&#125;,</div><div class="line">    &#123;<span class="string">'t'</span>, <span class="string">'u'</span>, <span class="string">'v'</span>&#125;, </div><div class="line">    &#123;<span class="string">'w'</span>, <span class="string">'x'</span>, <span class="string">'y'</span>, <span class="string">'z'</span>&#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="comment">// 判断是否在给定的dict中</span></div><div class="line"><span class="comment">// public boolean isWord(String word);</span></div><div class="line"></div><div class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">letterCombinations</span><span class="params">(String digits)</span> </span>&#123;</div><div class="line">    List&lt;String&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">    <span class="keyword">if</span> (digits == <span class="keyword">null</span> || digits.length() == <span class="number">0</span> </div><div class="line">        || digits.indexOf(<span class="string">'1'</span>) &gt;= <span class="number">0</span> || digits.indexOf(<span class="string">'0'</span>) &gt;= <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">char</span>[] str = digits.toCharArray();</div><div class="line">    dfs(str, <span class="number">0</span>, num2Char, <span class="keyword">new</span> StringBuilder(), ans);</div><div class="line">    <span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">char</span>[] str, <span class="keyword">int</span> index, <span class="keyword">final</span> <span class="keyword">char</span>[][] num2Char,</span></span></div><div class="line"><span class="function"><span class="params">                    StringBuilder sb, List&lt;String&gt; ans)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (index == str.length &amp;&amp; isWord(sb.toString())) &#123;</div><div class="line">        ans.add(sb.toString());</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> temp = str[index] - <span class="string">'0'</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; num2Char[temp].length; i++) &#123;</div><div class="line">        sb.append(num2Char[temp][i]);</div><div class="line">        dfs(str, index + <span class="number">1</span>, num2Char, sb, ans);</div><div class="line">        sb.deleteCharAt(sb.length() - <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="Duplicate-Files-in-directory"><a href="#Duplicate-Files-in-directory" class="headerlink" title="Duplicate Files in directory"></a>Duplicate Files in directory</h5><ul>
<li>给一个文件目录，设计一个方法能够找出该目录下（包括子目录）所有的duplicate files（文件内容一样但文件名不一定一样），</li>
<li>先DFS把所有file找出来，然后用MD5哈希值作为Map的key、file的Set作为value，将相同key的Set中的文件两两比较，防止是不同文件因为collision而放到这里。</li>
<li>但如果目录中只有少量的重复文件也要全部扫一遍算MD5，这样很不划算。因此考虑利用文件大小来归类，然后只有文件大小相同的才有可能出现duplicate，但这样可能还是要计算很多个相同文件大小的MD5。</li>
<li>再考虑是不是可以不求整个文件的MD5，而是只取一部分来MD5求哈希作为key（例如前1k个bytes），然后对于size &gt; 1的组再根据<code>[1k + 1, 2k]</code>部分内容求MD5.这样如果只有少量的dulicate，通过这样拆分求key在前面几步就会把大量文件给排除了，后面求MD5的时候就少很多了。</li>
</ul>
<h5 id="走到0"><a href="#走到0" class="headerlink" title="走到0"></a>走到0</h5><ul>
<li>可能类似于<a href="https://leetcode.com/problems/circular-array-loop/description/" target="_blank" rel="external">lc 457 </a>，但是不是找loop，也不要求移动方向一致，只是找是否存在arr[index] == 0。直接用Set存走过的index即可。或者也可以快慢指针，每次判断快指针是否指向了一个0即可，若快慢指针相遇都没有遇到0，说明不存在。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">hasZero</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> start)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span> || start &lt; <span class="number">0</span> || start &gt;= nums.length) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (nums[start] == <span class="number">0</span>) &#123; <span class="comment">// 防止一个元素的时候slow == fast进不去while-loop</span></div><div class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> n = nums.length, slow = start, fast = getNextIndex(start, nums[start], n);</div><div class="line">    <span class="keyword">while</span> (slow != fast) &#123;</div><div class="line">        <span class="keyword">if</span> (nums[slow] == <span class="number">0</span> || nums[fast] == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        &#125;</div><div class="line">        slow = getNextIndex(slow, nums[slow], n);   <span class="comment">// 慢快指针分别移动一步两步</span></div><div class="line">        fast = getNextIndex(fast, nums[fast], n);</div><div class="line">        fast = getNextIndex(fast, nums[fast], n);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">getNextIndex</span><span class="params">(<span class="keyword">int</span> index, <span class="keyword">int</span> step, <span class="keyword">int</span> len)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> nextIndex = index + step;</div><div class="line">    <span class="keyword">return</span> nextIndex &gt;= <span class="number">0</span> ? nextIndex % len : nextIndex % len + len; <span class="comment">// java的%求的是余数而不是真正的modulo</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="merge-K-sorted-list"><a href="#merge-K-sorted-list" class="headerlink" title="merge K sorted list"></a>merge K sorted list</h5><ul>
<li>可以直接把元素通通存入PriorityQueue，然后从头取元素即可。或者用分治法递归来搞，<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> ListNode <span class="title">mergeKLists</span><span class="params">(ListNode[] lists)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (lists == <span class="keyword">null</span> || lists.length == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// last two params are used for dividing into sub problems</span></div><div class="line">    <span class="keyword">return</span> mergeKLists(lists, <span class="number">0</span>, lists.length);</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">private</span> ListNode <span class="title">mergeKLists</span><span class="params">(ListNode[] lists, <span class="keyword">int</span> start, <span class="keyword">int</span> end)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (end - start == <span class="number">1</span>) &#123; <span class="comment">// only one list</span></div><div class="line">        <span class="keyword">return</span> lists[start];</div><div class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (end - start == <span class="number">2</span>) &#123;  <span class="comment">// merge two lists</span></div><div class="line">        <span class="keyword">return</span> mergeTwoLists(lists[start], lists[start + <span class="number">1</span>]);</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">int</span> mid = start + (end - start) / <span class="number">2</span>;</div><div class="line">        <span class="comment">// cut into first and second halves</span></div><div class="line">        <span class="keyword">return</span> mergeTwoLists(mergeKLists(lists, start, mid), </div><div class="line">                                mergeKLists(lists, mid, end)); <span class="comment">// warning not mid + 1</span></div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">private</span> ListNode <span class="title">mergeTwoLists</span><span class="params">(ListNode l1, ListNode l2)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (l1 == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span> l2;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (l2 == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span> l1;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (l1.val &lt;= l2.val) &#123;</div><div class="line">        l1.next = mergeTwoLists(l1.next, l2);</div><div class="line">        <span class="keyword">return</span> l1;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        l2.next = mergeTwoLists(l1, l2.next);</div><div class="line">        <span class="keyword">return</span> l2;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2018-4-Onsite-x2"><a href="#2018-4-Onsite-x2" class="headerlink" title="2018.4 Onsite x2"></a><a href="http://www.1point3acres.com/bbs/thread-410807-1-1.html" target="_blank" rel="external">2018.4 Onsite</a> x2</h4><h5 id="battle-ship游戏"><a href="#battle-ship游戏" class="headerlink" title="battle ship游戏"></a>battle ship游戏</h5><ul>
<li><a href="https://leetcode.com/problems/battleships-in-a-board/description/" target="_blank" rel="external">lc有个算battleship个数的</a>，直接O(NM)求第一次出现的ship坐标即可。但游戏应该是给一个坐标进行轰炸，如果反复调用O(NM)太慢了，可以考虑存坐标-船的map，这样就是O(1)了。</li>
</ul>
<h5 id="277-find-the-celebrity-x2"><a href="#277-find-the-celebrity-x2" class="headerlink" title="277. find-the-celebrity x2"></a><a href="https://leetcode.com/problems/find-the-celebrity/description/" target="_blank" rel="external">277. find-the-celebrity</a> x2</h5><ul>
<li>给一个API函数判断i是否认识j，celebrity的定义是在n个人中，n-1个人都认识他、他却完全不认识他们。</li>
<li><p>naive方法是O(n^2)搞定，对于每个人，一旦他认识别人、或者别人不认识他就跳出循环。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="comment">/* The knows API is defined in the parent class Relation.</span></div><div class="line"><span class="comment">      boolean knows(int a, int b); */</span></div><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> <span class="keyword">extends</span> <span class="title">Relation</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findCelebrity</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;</div><div class="line">            <span class="keyword">boolean</span> found = <span class="keyword">true</span>;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; n; j++) &#123;</div><div class="line">                <span class="keyword">if</span> (j == i) &#123;</div><div class="line">                    <span class="keyword">continue</span>;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span> (!knows(j, i) || knows(i, j)) &#123;  <span class="comment">// 看别人是否都认识i且i完全不认识别人</span></div><div class="line">                    found = <span class="keyword">false</span>;</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (found) &#123;</div><div class="line">                <span class="keyword">return</span> i;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>更巧妙的办法，从头开始一个pass，判断如果i认识j则把candidate设为j，如果i不认识j则j不可能是candidate；完了之后再一个pass看这个candidate是不是不认识所有人、且所有人都认识他。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">findCelebrity</span><span class="params">(<span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> candidate = <span class="number">0</span>;      <span class="comment">// 先假设第一个人是名人</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;   <span class="comment">// 他认识别人就，把他排除掉了</span></div><div class="line">        <span class="keyword">if</span> (knows(candidate, i)) candidate = i;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; n; i++) &#123;   <span class="comment">// 确认他是否认识某个人或者某个人不认识他，那他也不是名人</span></div><div class="line">        <span class="keyword">if</span> (i != candidate &amp;&amp; (knows(candidate, i) || !knows(i, candidate))) <span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> candidate;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="759-employee-free-time"><a href="#759-employee-free-time" class="headerlink" title="759. employee-free-time"></a><a href="https://leetcode.com/problems/employee-free-time/description/" target="_blank" rel="external">759. employee-free-time</a></h5><ul>
<li>给一个List of List，每一个子List存放每个employee的工作时间，求所有employee的共同空闲时间。没有则返回空List。</li>
<li>直接将List flatten，然后按照工作开始时间从小到大排序，再往后依次取工作时间，若当前开始时间比之前的结束时间长，说明出现了空闲时间；否则需要更新prev的end，保证prev的结束时间cover到所有结束时间，即取max。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> List&lt;Interval&gt; <span class="title">employeeFreeTime</span><span class="params">(List&lt;List&lt;Interval&gt;&gt; schedule)</span> </span>&#123;</div><div class="line">    List&lt;Interval&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">    <span class="keyword">if</span> (schedule == <span class="keyword">null</span> || schedule.size() == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line">    List&lt;Interval&gt; workingTimes = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">    schedule.forEach(e -&gt; workingTimes.addAll(e));</div><div class="line">    Collections.sort(workingTimes, (a, b) -&gt; a.start - b.start);</div><div class="line">    Interval prev = workingTimes.get(<span class="number">0</span>);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; workingTimes.size(); i++) &#123;</div><div class="line">        <span class="keyword">if</span> (workingTimes.get(i).start &gt; prev.end) &#123;</div><div class="line">            ans.add(<span class="keyword">new</span> Interval(prev.end, workingTimes.get(i).start));</div><div class="line">            prev = workingTimes.get(i);</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            prev.end = Math.max(prev.end, workingTimes.get(i).end);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ans;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="求出现次数多于n-4的元素"><a href="#求出现次数多于n-4的元素" class="headerlink" title="求出现次数多于n/4的元素"></a>求出现次数多于n/4的元素</h5><ul>
<li><a href="https://leetcode.com/problems/majority-element/#/description" target="_blank" rel="external">169. majority-element</a>是求n/2、<a href="https://leetcode.com/problems/majority-element-ii/#/description" target="_blank" rel="external">229. majority-element-ii</a>是求n/3。区别是这些给的都不是sorted array. 这题已经排序了，可以想到的是用两个相隔n/4的指针，若两端元素相等说明存在<code>n/4 + 1</code>个相同元素，这个就是其中一个答案了。</li>
</ul>
<h4 id="2018-5-Oniste"><a href="#2018-5-Oniste" class="headerlink" title="2018.5 Oniste"></a><a href="http://www.1point3acres.com/bbs/thread-417745-1-1.html" target="_blank" rel="external">2018.5 Oniste</a></h4><h5 id="blacklist-of-words"><a href="#blacklist-of-words" class="headerlink" title="blacklist of words"></a>blacklist of words</h5><ul>
<li>scan 某个query里面存不存在blacklist里面的word。借此机会复习一下trie吧。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Trie</span> </span>&#123;</div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span> </span>&#123;</div><div class="line">        <span class="keyword">boolean</span> isWord;</div><div class="line">        TrieNode[] next;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">TrieNode</span><span class="params">()</span> </span>&#123;</div><div class="line">            isWord = <span class="keyword">false</span>;</div><div class="line">            next = <span class="keyword">new</span> TrieNode[<span class="number">26</span>];</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    TrieNode root;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Trie</span><span class="params">()</span> </span>&#123;</div><div class="line">        root = <span class="keyword">new</span> TrieNode();</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(String word)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (word == <span class="keyword">null</span> || word.length() == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">char</span>[] wordChar = word.toCharArray();</div><div class="line">        TrieNode curr = root;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; wordChar.length; i++) &#123;</div><div class="line">            <span class="keyword">int</span> index = wordChar[i] - <span class="string">'a'</span>;</div><div class="line">            <span class="keyword">if</span> (curr.next[index] == <span class="keyword">null</span>) &#123;</div><div class="line">                curr.next[index] = <span class="keyword">new</span> TrieNode();</div><div class="line">            &#125;</div><div class="line">            curr = curr.next[index];</div><div class="line">        &#125;</div><div class="line">        curr.isWord = <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">search</span><span class="params">(String word)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (word == <span class="keyword">null</span> || word.length() == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">char</span>[] wordChar = word.toCharArray();</div><div class="line">        TrieNode curr = root;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; wordChar.length; i++) &#123;</div><div class="line">            <span class="keyword">int</span> index = wordChar[i] - <span class="string">'a'</span>;</div><div class="line">            <span class="keyword">if</span> (curr.next[index] == <span class="keyword">null</span>) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">            curr = curr.next[index];</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> curr.isWord;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">startsWith</span><span class="params">(String prefix)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (prefix == <span class="keyword">null</span> || prefix.length() == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">char</span>[] prefixChar = prefix.toCharArray();</div><div class="line">        TrieNode curr = root;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; prefixChar.length; i++) &#123;</div><div class="line">            <span class="keyword">int</span> index = prefixChar[i] - <span class="string">'a'</span>;</div><div class="line">            <span class="keyword">if</span> (curr.next[index] == <span class="keyword">null</span>) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">            curr = curr.next[index];</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2018-3-Onsite-x2"><a href="#2018-3-Onsite-x2" class="headerlink" title="2018.3 Onsite x2"></a><a href="http://www.1point3acres.com/bbs/thread-348442-1-1.html" target="_blank" rel="external">2018.3 Onsite</a> x2</h4><h5 id="Longest-increasing-path-in-the-binary-tree"><a href="#Longest-increasing-path-in-the-binary-tree" class="headerlink" title="Longest increasing path in the binary tree"></a>Longest increasing path in the binary tree</h5><ul>
<li>具体题意不明，可能是从root到leaf的上升序列（类似<a href="https://leetcode.com/problems/binary-tree-longest-consecutive-sequence/description/" target="_blank" rel="external">lc 298</a>），或者是可以转折的（类似<a href="https://leetcode.com/problems/binary-tree-longest-consecutive-sequence-ii/description/" target="_blank" rel="external">lc 549</a>）。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;    <span class="comment">// 从上到下的单向路径</span></div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> max = <span class="number">0</span>;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestConsecutive</span><span class="params">(TreeNode root)</span> </span>&#123;</div><div class="line">        helper(root);</div><div class="line">        <span class="keyword">return</span> max;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">helper</span><span class="params">(TreeNode root)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> len = <span class="number">1</span>;    <span class="comment">// 以当前节点结束，则长度为1</span></div><div class="line">        <span class="keyword">int</span> left = helper(root.left), right = helper(root.right);</div><div class="line">        <span class="keyword">if</span> (root.left != <span class="keyword">null</span> &amp;&amp; root.left.val == root.val + <span class="number">1</span>) &#123;</div><div class="line">            len = left + <span class="number">1</span>; <span class="comment">// 根据孩子节点val判断长度是否累加</span></div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (root.right != <span class="keyword">null</span> &amp;&amp; root.right.val == root.val + <span class="number">1</span>) &#123;</div><div class="line">            len = Math.max(len, right + <span class="number">1</span>); <span class="comment">// 取两个孩子长度的max</span></div><div class="line">        &#125;</div><div class="line">        max = Math.max(max, len);</div><div class="line">        <span class="keyword">return</span> len;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;    <span class="comment">// 允许转折的路径</span></div><div class="line">    <span class="keyword">int</span> max = <span class="number">0</span>;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">longestConsecutive</span><span class="params">(TreeNode root)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        helper(root);</div><div class="line">        <span class="keyword">return</span> max;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] helper(TreeNode root) &#123;</div><div class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[] &#123;<span class="number">0</span>, <span class="number">0</span>&#125;;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span>[] left = helper(root.left), right = helper(root.right);</div><div class="line">        <span class="keyword">int</span> inc = <span class="number">1</span>, dec = <span class="number">1</span>;</div><div class="line">        <span class="keyword">if</span> (root.left != <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">if</span> (root.left.val == root.val + <span class="number">1</span>) &#123;   <span class="comment">// 确认是否能和孩子形成升序/降序列</span></div><div class="line">                inc = left[<span class="number">0</span>] + <span class="number">1</span>;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (root.left.val == root.val - <span class="number">1</span>) &#123;</div><div class="line">                dec = left[<span class="number">1</span>] + <span class="number">1</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (root.right != <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">if</span> (root.right.val == root.val + <span class="number">1</span>) &#123;</div><div class="line">                inc = Math.max(inc, right[<span class="number">0</span>] + <span class="number">1</span>);  <span class="comment">// 取左右中最大的</span></div><div class="line">            &#125;</div><div class="line">            <span class="keyword">if</span> (root.right.val == root.val - <span class="number">1</span>) &#123;</div><div class="line">                dec = Math.max(dec, right[<span class="number">1</span>] + <span class="number">1</span>);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        max = Math.max(inc + dec - <span class="number">1</span>, max);</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[] &#123;inc, dec&#125;;    <span class="comment">// 返回以当前节点为起点的上升、下降序列长度</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2018-6-Onsite"><a href="#2018-6-Onsite" class="headerlink" title="2018.6 Onsite"></a><a href="http://www.1point3acres.com/bbs/thread-431111-1-1.html" target="_blank" rel="external">2018.6 Onsite</a></h4><ul>
<li>实现min stack，需要多一个popMin方法. 思路是在push的时候如果min发生了变化就把当前的min push进去，再更新min。这样在pop的时候就可以通过对比min和当前pop的元素知道是否需要更新min，若min已经被pop了，那么前一个再pop出来就是当前的min。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">MinStack</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> Stack&lt;Integer&gt; stack;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> min;</div><div class="line">    <span class="comment">/** initialize your data structure here. */</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MinStack</span><span class="params">()</span> </span>&#123;</div><div class="line">        stack = <span class="keyword">new</span> Stack&lt;Integer&gt;();</div><div class="line">        min = Integer.MAX_VALUE;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">push</span><span class="params">(<span class="keyword">int</span> x)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (stack.isEmpty()) &#123;</div><div class="line">            min = x;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line"></div><div class="line">            <span class="keyword">if</span> (x &lt;= min) &#123;</div><div class="line">                stack.push(min);</div><div class="line">                min = x;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        stack.push(x);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">pop</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (stack.isEmpty()) &#123;</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> temp = stack.pop();</div><div class="line">        <span class="keyword">if</span> (temp == min &amp;&amp; !stack.isEmpty()) &#123;  <span class="comment">// means the min has gone </span></div><div class="line">            min = stack.pop();          <span class="comment">// need to update</span></div><div class="line">        &#125;</div><div class="line">        <span class="comment">// return temp;</span></div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">top</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (stack.isEmpty()) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> stack.peek();</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getMin</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (stack.isEmpty()) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> min;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">popMin</span><span class="params">()</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> temp = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span> (!stack.isEmpty()) &#123;</div><div class="line">            temp = stack.pop();</div><div class="line">            <span class="keyword">if</span> (temp == min) &#123;</div><div class="line">                <span class="keyword">if</span> (!isEmpty()) &#123;</div><div class="line">                    min = stack.pop();</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> temp;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2018-2-电面"><a href="#2018-2-电面" class="headerlink" title="2018.2 电面"></a><a href="http://www.1point3acres.com/bbs/thread-321679-1-1.html" target="_blank" rel="external">2018.2 电面</a></h4><ul>
<li>给一个grid，里面有空地、墙和守卫，求离最近守卫距离最远的点的坐标集合。</li>
<li>从所有守卫开始BFS，最后一个level到达的点就是所求了。类似<a href="https://leetcode.com/problems/walls-and-gates/description/" target="_blank" rel="external">lc 286</a>.</li>
</ul>
<h4 id="2018-3-Onsite"><a href="#2018-3-Onsite" class="headerlink" title="2018.3 Onsite"></a><a href="http://www.1point3acres.com/bbs/thread-371197-1-1.html" target="_blank" rel="external">2018.3 Onsite</a></h4><h5 id="31-next-permutation"><a href="#31-next-permutation" class="headerlink" title="31. next-permutation"></a><a href="https://leetcode.com/problems/next-permutation/#/description" target="_blank" rel="external">31. next-permutation</a></h5><ul>
<li>给一个int数组，将它改造成按字典序的下一个排列，若不存在则直接按从小到大的顺序调整。要求In-place对原数组操作，不能申请额外空间。</li>
<li>从右往左找相邻的两个数使得<code>nums[i - 1] &lt; nums[i]</code>找到第一个升序对，然后再从右往左找首次出现的比<code>nums[i]</code>大的数<code>nums[j]</code>，二者对调，然后将<code>nums[i + 1]</code>及其之后的内容（一定是降序的）reverse一下即可。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">nextPermutation</span><span class="params">(<span class="keyword">int</span>[] nums)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length &lt; <span class="number">2</span>) &#123;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> i = nums.length - <span class="number">1</span>;</div><div class="line">    <span class="keyword">for</span> (; i &gt;= <span class="number">1</span>; i--) &#123;</div><div class="line">        <span class="keyword">if</span> (nums[i - <span class="number">1</span>] &lt; nums[i]) &#123;    <span class="comment">// 第一个升序对；后续一定是完美降序</span></div><div class="line">            <span class="keyword">int</span> j = nums.length - <span class="number">1</span>;</div><div class="line">            <span class="keyword">while</span> (j &gt;= i) &#123;            <span class="comment">// 找第一个恰好大于nums[i - 1]的数</span></div><div class="line">                <span class="keyword">if</span> (nums[j] &gt; nums[i - <span class="number">1</span>]) &#123;</div><div class="line">                    swap(nums, i - <span class="number">1</span>, j);</div><div class="line">                    <span class="keyword">break</span>;</div><div class="line">                &#125;</div><div class="line">                j--;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    reverse(nums, i);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">swap</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> temp = nums[i];</div><div class="line">    nums[i] = nums[j];</div><div class="line">    nums[j] = temp;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">reverse</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> start)</span> </span>&#123;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = start, j = nums.length - <span class="number">1</span>; i &lt; j; i++, j--) &#123;</div><div class="line">        swap(nums, i, j);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2018-7-Onsite"><a href="#2018-7-Onsite" class="headerlink" title="2018.7 Onsite"></a><a href="http://www.1point3acres.com/bbs/thread-434011-1-1.html" target="_blank" rel="external">2018.7 Onsite</a></h4><h5 id="133-clone-graph"><a href="#133-clone-graph" class="headerlink" title="133. clone-graph"></a><a href="https://leetcode.com/problems/clone-graph/#/description" target="_blank" rel="external">133. clone-graph</a></h5><ul>
<li>给一个无向有环全联通图的其中一个节点，要求拷贝一个完整的无向有环图，并返回拷贝而成的对应的该节点。而且两个节点之间可以有多条通路。</li>
<li>直接用map + DFS搞，对于每一个节点直接new一个相同label的节点出来，然后遍历所有的邻居递归调用clone即可。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span> Map&lt;Integer, UndirectedGraphNode&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line"><span class="function"><span class="keyword">public</span> UndirectedGraphNode <span class="title">cloneGraph</span><span class="params">(UndirectedGraphNode node)</span> </span>&#123;</div><div class="line">    <span class="keyword">return</span> clone(node);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> UndirectedGraphNode <span class="title">clone</span><span class="params">(UndirectedGraphNode node)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (node == <span class="keyword">null</span>)   <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    <span class="keyword">if</span> (map.containsKey(node.label)) &#123;</div><div class="line">        <span class="keyword">return</span> map.get(node.label);</div><div class="line">    &#125;</div><div class="line">    UndirectedGraphNode cloned = <span class="keyword">new</span> UndirectedGraphNode(node.label);</div><div class="line">    map.put(clone.label, cloned);</div><div class="line">    <span class="keyword">for</span> (UndirectedGraphNode neighbor : node.neighbors) &#123;</div><div class="line">        cloned.neighbors.add(clone(neighbor));</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> cloned;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="20-valid-parentheses"><a href="#20-valid-parentheses" class="headerlink" title="20. valid-parentheses"></a><a href="https://leetcode.com/problems/valid-parentheses/#/description" target="_blank" rel="external">20. valid-parentheses</a></h5><ul>
<li>给一个字符串，判断其中三种括号<code>(), [], {}</code>是否匹配。用stack搞即可。</li>
<li>follow-up: 求最少删几个字符可以使原字符串合法。例如<code>(([{))</code>就是把中间两个删除即可。</li>
<li>思路应该类似<a href="https://leetcode.com/problems/remove-invalid-parentheses/#/description" target="_blank" rel="external">301. remove-invalid-parentheses</a>，也是一个图论BFS。从当前字符串开始出发，所有可达点就是「删除一个字符串所得的新字符串」，注意需要用Set防止重复。每次对相同level的字符串判断是否valid，一旦出现了valid，则当前level所有的valid的字符串就是「最少删除之后的valid字符串」。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">removeInvalidParentheses</span><span class="params">(String s)</span> </span>&#123;</div><div class="line">    List&lt;String&gt; res = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">    <span class="keyword">if</span> (s == <span class="keyword">null</span>) <span class="keyword">return</span> res;</div><div class="line">    </div><div class="line">    Set&lt;String&gt; visited = <span class="keyword">new</span> HashSet&lt;&gt;();</div><div class="line">    Queue&lt;String&gt; queue = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">    </div><div class="line">    queue.add(s);</div><div class="line">    visited.add(s);</div><div class="line">    <span class="keyword">boolean</span> found = <span class="keyword">false</span>;</div><div class="line">    </div><div class="line">    <span class="keyword">while</span> (!queue.isEmpty()) &#123;</div><div class="line">        curr = queue.poll();</div><div class="line">        <span class="keyword">if</span> (isValid(curr)) &#123;</div><div class="line">            res.add(curr);</div><div class="line">            found = <span class="keyword">true</span>;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">if</span> (found) <span class="keyword">continue</span>;</div><div class="line">        </div><div class="line">        <span class="comment">// generate all possible states</span></div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; curr.length(); i++) &#123;</div><div class="line">            String neighbor = curr.substring(<span class="number">0</span>, i) + curr.substring(i + <span class="number">1</span>);</div><div class="line">            <span class="keyword">if</span> (!visited.contains(neighbor)) &#123;</div><div class="line">                queue.add(neighbor);</div><div class="line">                visited.add(neighbor);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> res;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValid</span><span class="params">(String s)</span> </span>&#123;</div><div class="line">	Stack&lt;Character&gt; stack = <span class="keyword">new</span> Stack&lt;Character&gt;();</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">char</span> c : s.toCharArray()) &#123;</div><div class="line">		<span class="keyword">if</span> (c == <span class="string">'('</span>)</div><div class="line">			stack.push(<span class="string">')'</span>);</div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">'&#123;'</span>)</div><div class="line">			stack.push(<span class="string">'&#125;'</span>);</div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">'['</span>)</div><div class="line">			stack.push(<span class="string">']'</span>);</div><div class="line">		<span class="keyword">else</span> <span class="keyword">if</span> (stack.isEmpty() || stack.pop() != c)</div><div class="line">			<span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">	&#125;</div><div class="line">	<span class="keyword">return</span> stack.isEmpty();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2018-5-Onsite"><a href="#2018-5-Onsite" class="headerlink" title="2018.5 Onsite"></a><a href="http://www.1point3acres.com/bbs/thread-426959-1-1.html" target="_blank" rel="external">2018.5 Onsite</a></h4><h5 id="29-divide-two-integers"><a href="#29-divide-two-integers" class="headerlink" title="29. divide-two-integers"></a><a href="https://leetcode.com/problems/divide-two-integers/#/description" target="_blank" rel="external">29. divide-two-integers</a></h5><ul>
<li>给两个数字，不使用乘、除、模运算前者除以后者之商，若结果越界则返回MAX_INT。</li>
<li>除了傻傻地一路减法减下去，还可以用位运算提速。提取出正负号之后统一按照正long数来处理。用sum来累计当前已经用了多少除数(dividend)，将next初始化为除数，在循环中找到恰好让<code>sum + next &gt; longDividend</code>的<code>next</code>，然后把next往回移一位就是当前这一波累计的除数总和了，加到sum即可。同时用一个count计数记录用了多少个除数，这就是所求的商了，也是累计即可。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">divide</span><span class="params">(<span class="keyword">int</span> dividend, <span class="keyword">int</span> divisor)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> ((dividend == Integer.MIN_VALUE &amp;&amp; divisor == -<span class="number">1</span>)</div><div class="line">        || divisor == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> Integer.MAX_VALUE;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (dividend == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">// using XOR to adjust sign</span></div><div class="line">    <span class="keyword">int</span> sign = (dividend &lt; <span class="number">0</span>) ^ (divisor &lt; <span class="number">0</span>) ? -<span class="number">1</span> : <span class="number">1</span>;</div><div class="line">    <span class="keyword">int</span> ans = <span class="number">0</span>;</div><div class="line">    <span class="keyword">long</span> longDividend = Math.abs((<span class="keyword">long</span>)dividend);</div><div class="line">    <span class="keyword">long</span> longDivisor = Math.abs((<span class="keyword">long</span>)divisor);</div><div class="line">    <span class="keyword">long</span> sum = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span> (sum &lt; longDividend) &#123;    <span class="comment">// warning use long abs value!</span></div><div class="line">        <span class="keyword">int</span> count = -<span class="number">1</span>;     </div><div class="line">        <span class="keyword">long</span> next = longDivisor;</div><div class="line">        <span class="keyword">while</span> (sum + next &lt;= longDividend) &#123;</div><div class="line">            count++;</div><div class="line">            next &lt;&lt;= <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (next == longDivisor) &#123;  <span class="comment">// 没有变化</span></div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">        sum += (next &gt;&gt; <span class="number">1</span>);     <span class="comment">// how much has accumulated</span></div><div class="line">        ans += (<span class="number">1</span> &lt;&lt; count);    <span class="comment">// how many divisor used</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> sign * ans;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2018-5-21-电面"><a href="#2018-5-21-电面" class="headerlink" title="2018.5.21 电面"></a><a href="http://www.1point3acres.com/bbs/thread-426112-1-1.html" target="_blank" rel="external">2018.5.21 电面</a></h4><ul>
<li><a href="https://leetcode.com/problems/find-first-and-last-position-of-element-in-sorted-array/description/" target="_blank" rel="external">lc 34 binary search</a><figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] searchRange(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target) &#123;</div><div class="line">    <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span> [] &#123;-<span class="number">1</span>, -<span class="number">1</span>&#125;;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> first = searchFirst(nums, target);</div><div class="line">    <span class="keyword">if</span> (first == -<span class="number">1</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span> [] &#123;-<span class="number">1</span>, -<span class="number">1</span>&#125;;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> last = searchLast(nums, target);</div><div class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="keyword">int</span>[] &#123;first, last&#125;;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">searchFirst</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</div><div class="line">    <span class="comment">// hope to biase to the front</span></div><div class="line">    <span class="comment">// invariant relation: A[start] &lt; target &lt;= A[end] </span></div><div class="line">    <span class="keyword">int</span> start = -<span class="number">1</span>, end = nums.length;</div><div class="line">    <span class="keyword">while</span> (end - start &gt; <span class="number">1</span>) &#123;</div><div class="line">        <span class="keyword">int</span> mid = start + (end - start) / <span class="number">2</span>;</div><div class="line">        <span class="keyword">if</span> (nums[mid] &gt;= target) &#123;   <span class="comment">// end need to be more aggresive</span></div><div class="line">            end = mid;      <span class="comment">// shrink down</span></div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            start = mid;    <span class="comment">// step up</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> end == nums.length || nums[end] != target? -<span class="number">1</span>: end;  <span class="comment">// end will proceed at front</span></div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">searchLast</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> target)</span> </span>&#123;</div><div class="line">    <span class="comment">// biase to the back</span></div><div class="line">    <span class="comment">// invariant relation: A[start] &lt;= target &lt; A[end] </span></div><div class="line">    <span class="keyword">int</span> start = -<span class="number">1</span>, end = nums.length;</div><div class="line">    <span class="keyword">while</span> (end - start &gt; <span class="number">1</span>) &#123;</div><div class="line">        <span class="keyword">int</span> mid = start + (end - start) / <span class="number">2</span>;</div><div class="line">        <span class="keyword">if</span> (nums[mid] &gt; target) &#123;</div><div class="line">            end = mid;      <span class="comment">// shrink down</span></div><div class="line">        &#125; <span class="keyword">else</span> &#123;            <span class="comment">// start need to be more aggressive</span></div><div class="line">            start = mid;    <span class="comment">// step up</span></div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> start;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2018-7-1-电面-x2"><a href="#2018-7-1-电面-x2" class="headerlink" title="2018.7.1 电面 x2"></a><a href="http://www.1point3acres.com/bbs/thread-432253-1-1.html" target="_blank" rel="external">2018.7.1 电面</a> x2</h4><ul>
<li><a href="https://leetcode.com/problems/edit-distance/description/" target="_blank" rel="external">lc 72 edit distance</a></li>
<li>给两个字符串word1, word2，求使用addition, replacement, removement三种操作的情况下最少多少步可以从word1转换成word2。</li>
<li><code>dp[i][j]</code>表示当前长度i的子字符串1转换成长度j的子字符串2最少需要的操作数。初始条件显然是<code>dp[0][x] = dp[x][0] = x</code>。对于任意一个<code>dp[i][j]</code>，需要由上、左上、左三个方格的计算结果决定，往上<code>dp[i-1][j]</code>表示一个deletion，往左<code>dp[i][j-1]</code>表示一个addition，左上<code>dp[i-1][j-1]</code>表示一个replacement。每次选取三者中最小的，加上1就是当前的最小操作数了。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minDistance</span><span class="params">(String word1, String word2)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (word1 == <span class="keyword">null</span> || word2 == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> len1 = word1.length(), len2 = word2.length();</div><div class="line">    <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span> [len1 + <span class="number">1</span>][len2 + <span class="number">1</span>];</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= len1; i++) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= len2; j++) &#123;</div><div class="line">            <span class="keyword">if</span> (i == <span class="number">0</span>) &#123;</div><div class="line">                dp[i][j] = j;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (j == <span class="number">0</span>) &#123;</div><div class="line">                dp[i][j] = i;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                <span class="comment">// s1取i-1、s2取j-1个字符的情况，然后s1和s2都取，不需要增加操作数</span></div><div class="line">                <span class="keyword">if</span> (word1.charAt(i - <span class="number">1</span>) == word2.charAt(j - <span class="number">1</span>)) &#123;</div><div class="line">                    dp[i][j] = dp[i - <span class="number">1</span>][j - <span class="number">1</span>];</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    <span class="comment">// left: s1取i、s2取j-1个字符的操作数，现在相当于需要往s1中加s2对应位置的字符才能匹配上</span></div><div class="line">                    <span class="comment">// up: s1取i-1、s2取j个字符的操作数，相当于要从s1中删除字符才能匹配上</span></div><div class="line">                    <span class="comment">// left-up: s1取i-1、s2取j-1个字符的操作数，现在相当于要进行替换才能匹配上</span></div><div class="line">                    <span class="keyword">int</span> left = dp[i][j - <span class="number">1</span>], up = dp[i - <span class="number">1</span>][j], upLeft = dp[i - <span class="number">1</span>][j - <span class="number">1</span>];</div><div class="line">                    dp[i][j] = Math.min(Math.min(left, up), upLeft) + <span class="number">1</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> dp[len1][len2];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2018-2-13-电面-x3"><a href="#2018-2-13-电面-x3" class="headerlink" title="2018.2.13 电面 x3"></a><a href="http://www.1point3acres.com/bbs/thread-320848-1-1.html" target="_blank" rel="external">2018.2.13 电面</a> x3</h4><ul>
<li><p>给一堆time range，可能有重合。比如[1,3], [2,4], [5,6]。总共的uniq的时间，即merge之后的总时间长度。类似<a href="https://leetcode.com/problems/merge-intervals/description/" target="_blank" rel="external">lc 56</a>，但不需要维护所有的interval了，只需要保存prev，当后续interval没有overlap的时候就累加time range即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getTimeRange</span><span class="params">(List&lt;Interval&gt; intervals)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (intervals == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> ArrayList&lt;Interval&gt;();</div><div class="line">    &#125;</div><div class="line">    Collections.sort(intervals, (a, b) -&gt; &#123;</div><div class="line">        <span class="keyword">if</span> (a.start != b.start) &#123;</div><div class="line">            <span class="keyword">return</span> a.start - b.start;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">return</span> a.end - b.end;</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">    Interval prev = <span class="keyword">null</span>;</div><div class="line">    <span class="keyword">int</span> range = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (Interval itv : intervals) &#123;</div><div class="line">        <span class="keyword">if</span> (prev == <span class="keyword">null</span>) &#123;</div><div class="line">            prev = itv;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">if</span> (itv.start &gt; prev.end) &#123;</div><div class="line">                range += (prev.end - prev.start);</div><div class="line">                prev = itv;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                prev.end = Math.max(prev.end, itv.end);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    range += (prev.end - prev.start);</div><div class="line">    <span class="keyword">return</span> range;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>follow-up: 最长的连续range（能合并的合并，最长的range）.直接在上面加个取长度即可。</p>
</li>
<li>follow-up2: 求出现次数最多的range。思路也是先排序，利用一个currCount统计当前的time range数，出现了重叠就将prev设置为overlap的部分并累加，当overlap结束就更新maxCount即可。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Interval <span class="title">getMaxInterval</span><span class="params">(List&lt;Interval&gt; intervals)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (intervals == <span class="keyword">null</span> || intervals.size() == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line">    Collections.sort(intervals, (a, b) -&gt; &#123;</div><div class="line">        <span class="keyword">if</span> (a.start != b.start) &#123;</div><div class="line">            <span class="keyword">return</span> a.start - b.start;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">return</span> a.end - b.end;</div><div class="line">        &#125;</div><div class="line">    &#125;);</div><div class="line">    <span class="keyword">int</span> maxCount = <span class="number">1</span>, currCount = <span class="number">1</span>;</div><div class="line">    Interval prev = <span class="keyword">null</span>, ret = <span class="keyword">null</span>;</div><div class="line">    <span class="keyword">for</span> (Interval itv : intervals) &#123;</div><div class="line">        <span class="keyword">if</span> (prev == <span class="keyword">null</span>) &#123;</div><div class="line">            prev = itv;</div><div class="line">            currCount = <span class="number">1</span>;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">if</span> (itv.start &gt;= prev.end) &#123;</div><div class="line">                prev = itv;</div><div class="line">                currCount = <span class="number">1</span>;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                prev = <span class="keyword">new</span> Interval(itv.start, Math.min(prev.end, itv.end));</div><div class="line">                currCount += <span class="number">1</span>;</div><div class="line">                <span class="keyword">if</span> (currCount &gt; maxCount) &#123;</div><div class="line">                    ret = prev;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ret;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2017-11-电面"><a href="#2017-11-电面" class="headerlink" title="2017.11 电面"></a><a href="http://www.1point3acres.com/bbs/thread-301765-1-1.html" target="_blank" rel="external">2017.11 电面</a></h4><ul>
<li>类似于<a href="https://leetcode.com/problems/read-n-characters-given-read4-ii-call-multiple-times/" target="_blank" rel="external">lc 158</a>，给一个API <code>read4(char[] buf)</code>，每次可以从某个file中读4个字符到buf，并返回实际读取的字符数。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Solution</span> <span class="keyword">extends</span> <span class="title">Reader4</span> </span>&#123;</div><div class="line">    <span class="comment">/**</span></div><div class="line"><span class="comment">     * <span class="doctag">@param</span> buf Destination buffer</span></div><div class="line"><span class="comment">     * <span class="doctag">@param</span> n   Maximum number of characters to read</span></div><div class="line"><span class="comment">     * <span class="doctag">@return</span>    The number of characters read</span></div><div class="line"><span class="comment">     */</span></div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> N = <span class="number">4</span>, tempIndex = <span class="number">0</span>, lastLimit = <span class="number">0</span>;</div><div class="line">    <span class="keyword">char</span>[] temp = <span class="keyword">new</span> <span class="keyword">char</span>[N];</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">read</span><span class="params">(<span class="keyword">char</span>[] buf, <span class="keyword">int</span> n)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (n &lt; <span class="number">1</span>) &#123;</div><div class="line">            <span class="keyword">return</span> n;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> index = <span class="number">0</span>;</div><div class="line">        <span class="keyword">if</span> (tempIndex == lastLimit) &#123;</div><div class="line">            lastLimit = read4(temp);</div><div class="line">            tempIndex = <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">while</span> (lastLimit &gt; <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">while</span> (n &gt; <span class="number">0</span> &amp;&amp; tempIndex &lt; lastLimit &amp;&amp; index &lt; buf.length) &#123;</div><div class="line">                buf[index++] = temp[tempIndex++];</div><div class="line">                n--;</div><div class="line">            &#125;</div><div class="line">            <span class="comment">// 如果n读够了，直接返回</span></div><div class="line">            <span class="keyword">if</span> (n == <span class="number">0</span>) &#123;</div><div class="line">                <span class="keyword">return</span> index;</div><div class="line">            &#125;</div><div class="line">            <span class="comment">// 如果tempIndex到头了，可以继续读</span></div><div class="line">            lastLimit = read4(temp);</div><div class="line">            tempIndex = <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> index;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2015-10-电面"><a href="#2015-10-电面" class="headerlink" title="2015.10 电面"></a><a href="http://www.1point3acres.com/bbs/thread-145763-1-1.html" target="_blank" rel="external">2015.10 电面</a></h4><h5 id="785-is-graph-bipartite-x3"><a href="#785-is-graph-bipartite-x3" class="headerlink" title="785. is-graph-bipartite x3"></a><a href="https://leetcode.com/problems/is-graph-bipartite/description/" target="_blank" rel="external">785. is-graph-bipartite</a> x3</h5><ul>
<li>给一个数组，每个index对应着该node的所有邻接点。问这个graph能否只用两个颜色给node上色使得相邻两个点的颜色都不一样。</li>
<li><p>方法一：DFS。对于每一个点都一波直接深度搜索上色，用一个数组存储上色状态，0表示未访问过，-1和1分别表示两个颜色，在dfs时对于当前的点若已经访问过就判断是否符合当前给定的颜色，若未访问则直接上色并DFS到它所有邻接点。需要注意可能有若干独立的cluster，因此不能一次DFS搜索就结束了，而是需要一个循环保证对所有未访问过的点都进行一次DFS。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isBipartite</span><span class="params">(<span class="keyword">int</span>[][] graph)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (graph == <span class="keyword">null</span> || graph.length == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span>[] colors = <span class="keyword">new</span> <span class="keyword">int</span>[graph.length];</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; graph.length; i++) &#123;</div><div class="line">            <span class="keyword">if</span> (colors[i] == <span class="number">0</span> &amp;&amp; !checkColor(graph, colors, -<span class="number">1</span>, i)) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">checkColor</span><span class="params">(<span class="keyword">int</span>[][] graph, <span class="keyword">int</span>[] colors, <span class="keyword">int</span> currColor, <span class="keyword">int</span> currNode)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (colors[currNode] != <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> colors[currNode] == currColor;</div><div class="line">        &#125;</div><div class="line">        colors[currNode] = currColor;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> neighbor : graph[currNode]) &#123;</div><div class="line">            <span class="keyword">if</span> (!checkColor(graph, colors, -currColor, neighbor)) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>方法二：BFS，还是用queue存放所有邻接点然后逐一上色。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isBipartite</span><span class="params">(<span class="keyword">int</span>[][] graph)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (graph == <span class="keyword">null</span> || graph.length == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span>[] colors = <span class="keyword">new</span> <span class="keyword">int</span>[graph.length];</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; graph.length; i++) &#123;    <span class="comment">// 只check没有访问过的点，即各个独立的cluster</span></div><div class="line">            <span class="keyword">if</span> (colors[i] == <span class="number">0</span> &amp;&amp; !checkColor(graph, colors, -<span class="number">1</span>, i)) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">boolean</span> <span class="title">checkColor</span><span class="params">(<span class="keyword">int</span>[][] graph, <span class="keyword">int</span>[] colors, <span class="keyword">int</span> currColor, <span class="keyword">int</span> currNode)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (colors[currNode] != <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> colors[currNode] == currColor;</div><div class="line">        &#125;</div><div class="line">        Queue&lt;Integer&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">        <span class="keyword">int</span> color = currColor;</div><div class="line">        q.offer(currNode);</div><div class="line">        <span class="keyword">while</span> (!q.isEmpty()) &#123;</div><div class="line">            <span class="keyword">int</span> size = q.size();</div><div class="line">            <span class="keyword">while</span> (size-- &gt; <span class="number">0</span>) &#123;</div><div class="line">                <span class="keyword">int</span> node = q.poll();</div><div class="line">                <span class="keyword">if</span> (colors[node] != <span class="number">0</span>) &#123;</div><div class="line">                    <span class="keyword">if</span> (colors[node] != color) <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    colors[node] = color;</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">for</span> (<span class="keyword">int</span> neighbor : graph[node]) &#123;</div><div class="line">                    <span class="keyword">if</span> (colors[neighbor] == <span class="number">0</span>) q.offer(neighbor);   <span class="comment">// 避免回头路</span></div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            color = -color;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2017-10-电面"><a href="#2017-10-电面" class="headerlink" title="2017.10 电面"></a><a href="http://www.1point3acres.com/bbs/thread-298386-1-1.html" target="_blank" rel="external">2017.10 电面</a></h4><h5 id="720-longest-word-in-dictionary"><a href="#720-longest-word-in-dictionary" class="headerlink" title="720. longest-word-in-dictionary"></a><a href="https://leetcode.com/problems/longest-word-in-dictionary/description/" target="_blank" rel="external">720. longest-word-in-dictionary</a></h5><ul>
<li>给一个string数组，只含有小写字母，这些word可能形成链式如<code>a, ap, app, appl, apple</code>，求能形成链式的最长的单词，若有多个则取lexicographical最小的。</li>
<li>用sort + Set的方式比较trivial，排序后就可以逐个取word判断prefix是否在Set中。</li>
<li>想考的方法其实是Trie。根据所给的word构建Trie，每个节点直接存储word而不是boolean isWord，因为最后要求的是最长的String，直接存String方便返回。构建完Trie之后就从root开始找最长的连续的到达leaf的路径，要求路径上每一个word都长度更长（increasing）。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span> </span>&#123;</div><div class="line">        TrieNode[] nexts = <span class="keyword">new</span> TrieNode[<span class="number">26</span>];</div><div class="line">        String word = <span class="string">""</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Trie</span> </span>&#123;</div><div class="line">        TrieNode root;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Trie</span><span class="params">()</span> </span>&#123;</div><div class="line">            root = <span class="keyword">new</span> TrieNode();</div><div class="line">        &#125;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">insert</span><span class="params">(String word)</span> </span>&#123;</div><div class="line">            TrieNode curr = root;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; word.length(); i++) &#123;</div><div class="line">                <span class="keyword">char</span> c = word.charAt(i);</div><div class="line">                <span class="keyword">int</span> index = c - <span class="string">'a'</span>;</div><div class="line">                <span class="keyword">if</span> (curr.nexts[index] == <span class="keyword">null</span>) &#123;</div><div class="line">                    curr.nexts[index] = <span class="keyword">new</span> TrieNode();</div><div class="line">                &#125;</div><div class="line">                curr = curr.nexts[index];</div><div class="line">            &#125;</div><div class="line">            curr.word = word;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> String <span class="title">dfs</span><span class="params">(TrieNode node)</span> </span>&#123;</div><div class="line">        String ret = node.word;</div><div class="line">        <span class="keyword">for</span> (TrieNode next : node.nexts) &#123;</div><div class="line">            <span class="keyword">if</span> (next != <span class="keyword">null</span> &amp;&amp; next.word.length() &gt; <span class="number">0</span>) &#123;</div><div class="line">                String childWord = dfs(next);</div><div class="line">                <span class="keyword">if</span> (childWord.length() &gt; ret.length()) &#123;</div><div class="line">                    ret = childWord;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> ret;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> String <span class="title">longestWord</span><span class="params">(String[] words)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (words == <span class="keyword">null</span> || words.length == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="string">""</span>;</div><div class="line">        &#125;</div><div class="line">        Trie trie = <span class="keyword">new</span> Trie();</div><div class="line">        <span class="keyword">for</span> (String word : words) &#123;</div><div class="line">            trie.insert(word);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> dfs(trie.root);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2018-3-电面"><a href="#2018-3-电面" class="headerlink" title="2018.3 电面"></a><a href="http://www.1point3acres.com/bbs/thread-346340-1-1.html" target="_blank" rel="external">2018.3 电面</a></h4><ul>
<li>将二叉树转换成双向链表。应该是类似<a href="https://leetcode.com/problems/convert-binary-search-tree-to-sorted-doubly-linked-list/description/" target="_blank" rel="external">lc 426</a>的。<h5 id="426-convert-binary-search-tree-to-sorted-doubly-linked-list"><a href="#426-convert-binary-search-tree-to-sorted-doubly-linked-list" class="headerlink" title="426. convert-binary-search-tree-to-sorted-doubly-linked-list"></a><a href="https://leetcode.com/problems/convert-binary-search-tree-to-sorted-doubly-linked-list/description/" target="_blank" rel="external">426. convert-binary-search-tree-to-sorted-doubly-linked-list</a></h5></li>
<li>给一个BST，将它转换成排好序的循环双向链表（头尾相接），返回头部。可以把左右孩子就看作是当前节点的前后链表节点，不需要额外搞ListNode类。</li>
<li><p>BST要维持顺序，那就是用中序遍历。利用全局变量prev来记录每一个子树的结尾节点，先build左子树，然后把当前节点拼到prev的后面，再去继续build右子树即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">private</span> Node prev = <span class="keyword">null</span>;</div><div class="line"><span class="function"><span class="keyword">public</span> Node <span class="title">treeToDoublyList</span><span class="params">(Node root)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line">    Node dummy = <span class="keyword">new</span> Node();    <span class="comment">// 伪头部的next就是head</span></div><div class="line">    prev = dummy;   </div><div class="line">    buildDoublyList(root);</div><div class="line">    prev.right = dummy.right;</div><div class="line">    dummy.right.left = prev;</div><div class="line">    dummy.left = dummy.right = <span class="keyword">null</span>;    <span class="comment">// 清理dummy</span></div><div class="line">    <span class="keyword">return</span> prev.right;</div><div class="line">&#125;</div><div class="line"><span class="comment">// 执行buildDoublyList后会将node下面的部分都形成双向链表</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">buildDoublyList</span><span class="params">(Node node)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (node == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    buildDoublyList(node.left); <span class="comment">// 先对左子树build一下，prev会指向最后一个节点</span></div><div class="line">    prev.right = node;          <span class="comment">// 将node拼进去</span></div><div class="line">    node.left = prev;</div><div class="line">    prev = node;                <span class="comment">// 左半部分+当前节点的结尾就是node</span></div><div class="line">    buildDoublyList(node.right);<span class="comment">// 继续build右子树</span></div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>方法二：分治法。先把左右子树的循环双向链表build好，再把当前节点塞到中间，同时把新的前后循环连接一下。注意在分别build的时候，需要把root本身设一个自循环，这样就可以重复使用connect方法了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> Node <span class="title">treeToDoublyList</span><span class="params">(Node root)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line">    Node leftHead = treeToDoublyList(root.left);</div><div class="line">    Node rightHead = treeToDoublyList(root.right);</div><div class="line">    root.left = root;</div><div class="line">    root.right = root;</div><div class="line">    <span class="keyword">return</span> connect(connect(leftHead, root), rightHead);</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> Node <span class="title">connect</span><span class="params">(Node leftHead, Node rightHead)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (leftHead == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span> rightHead;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (rightHead == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span> leftHead;</div><div class="line">    &#125;</div><div class="line">    Node leftTail = leftHead.left;</div><div class="line">    Node rightTail = rightHead.left;</div><div class="line">    leftTail.right = rightHead;</div><div class="line">    rightHead.left = leftTail;</div><div class="line">    leftHead.left = rightTail;</div><div class="line">    rightTail.right = leftHead;</div><div class="line">    <span class="keyword">return</span> leftHead;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2017-12-电面"><a href="#2017-12-电面" class="headerlink" title="2017.12 电面"></a><a href="http://www.1point3acres.com/bbs/thread-310576-1-1.html" target="_blank" rel="external">2017.12 电面</a></h4><h5 id="127-word-ladder"><a href="#127-word-ladder" class="headerlink" title="127. word-ladder"></a><a href="https://leetcode.com/problems/word-ladder/#/description" target="_blank" rel="external">127. word-ladder</a></h5><ul>
<li>给一个List的String，然后一个初始String一个目标String，要求每次变动一个字母且变动后的词语来自该List的情况下，最短需要变几次得到目标String。</li>
<li><p>可以看作BFS问题，每个word就是一个node，neighbor就是换掉一个字母后且在wordList中存在的词。这样BFS最快到达dest的就是最短了。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">ladderLength</span><span class="params">(String beginWord, String endWord, List&lt;String&gt; wordList)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (beginWord == <span class="keyword">null</span> || endWord == <span class="keyword">null</span> || beginWord.length() == <span class="number">0</span> || endWord.length() == <span class="number">0</span></div><div class="line">        || beginWord.length() != endWord.length() || wordList == <span class="keyword">null</span> || wordList.size() == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    Set&lt;String&gt; wordSet = <span class="keyword">new</span> HashSet&lt;&gt;(wordList);</div><div class="line">    Queue&lt;String&gt; toVisit = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">    bfs(beginWord, wordSet, toVisit);</div><div class="line">    <span class="keyword">int</span> dist = <span class="number">2</span>;</div><div class="line">    <span class="keyword">while</span> (!toVisit.isEmpty()) &#123;</div><div class="line">        <span class="keyword">int</span> size = toVisit.size();</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</div><div class="line">            String curr = toVisit.poll();</div><div class="line">            <span class="keyword">if</span> (curr.equals(endWord)) &#123;</div><div class="line">                <span class="keyword">return</span> dist;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                bfs(curr, wordSet, toVisit);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        dist++;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">bfs</span><span class="params">(String beginWord, Set&lt;String&gt; wordSet, Queue&lt;String&gt; toVisit)</span> </span>&#123;</div><div class="line">    wordSet.remove(beginWord);</div><div class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder(beginWord);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; sb.length(); i++) &#123;</div><div class="line">        <span class="keyword">char</span> origin = sb.charAt(i);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="number">26</span>; k++) &#123;</div><div class="line">            <span class="keyword">char</span> c = (<span class="keyword">char</span>)(<span class="string">'a'</span> + k);</div><div class="line">            sb.setCharAt(i, c);</div><div class="line">            String curr = sb.toString();</div><div class="line">            <span class="keyword">if</span> (wordSet.contains(curr)) &#123;</div><div class="line">                toVisit.add(curr);</div><div class="line">                wordSet.remove(curr);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        sb.setCharAt(i, origin);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>follow-up：如何记录最短路径？其实就是<a href="https://leetcode.com/problems/word-ladder-ii/description/" target="_blank" rel="external">126</a>。还是用BFS找最短路径，维护一个distMap记录每个节点到达时所经过的步数，到达终点后再从头开始DFS，每次只去步数增长1的邻居点。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> List&lt;List&lt;String&gt;&gt; findLadders(String beginWord, String endWord, List&lt;String&gt; wordList) &#123;</div><div class="line">    List&lt;List&lt;String&gt;&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">    <span class="keyword">if</span> (beginWord == <span class="keyword">null</span> || endWord == <span class="keyword">null</span> || beginWord.length() == <span class="number">0</span> || endWord.length() == <span class="number">0</span></div><div class="line">        || beginWord.length() != endWord.length() || wordList == <span class="keyword">null</span> || wordList.size() == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line">    Map&lt;String, Integer&gt; distMap = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">    <span class="keyword">for</span> (String word : wordList) &#123;</div><div class="line">        distMap.put(word, Integer.MAX_VALUE);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (!distMap.containsKey(endWord)) &#123;</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line">    distMap.put(beginWord, <span class="number">0</span>);</div><div class="line">    </div><div class="line">    Map&lt;String, Set&lt;String&gt;&gt; neighborMap = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">    Queue&lt;String&gt; toVisit = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">    toVisit.offer(beginWord);</div><div class="line">    <span class="keyword">boolean</span> found = <span class="keyword">false</span>;</div><div class="line">    <span class="keyword">while</span> (!toVisit.isEmpty() &amp;&amp; !found) &#123;</div><div class="line">        <span class="keyword">int</span> size = toVisit.size();</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; size; i++) &#123;</div><div class="line">            String currWord = toVisit.poll();</div><div class="line">            <span class="keyword">if</span> (currWord.equals(endWord)) &#123;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                bfs(currWord, distMap, neighborMap, toVisit);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    dfs(beginWord, endWord, distMap, neighborMap, ans, <span class="keyword">new</span> ArrayList&lt;&gt;());</div><div class="line">    <span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">bfs</span><span class="params">(String fromWord, Map&lt;String, Integer&gt; distMap, </span></span></div><div class="line"><span class="function"><span class="params">                Map&lt;String, Set&lt;String&gt;&gt; neighborMap, Queue&lt;String&gt; q)</span> </span>&#123;</div><div class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder(fromWord);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; sb.length(); i++) &#123;</div><div class="line">        <span class="keyword">char</span> origin = sb.charAt(i);</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> k = <span class="number">0</span>; k &lt; <span class="number">26</span>; k++) &#123;</div><div class="line">            <span class="keyword">char</span> c = (<span class="keyword">char</span>)(<span class="string">'a'</span> + k);</div><div class="line">            sb.setCharAt(i, c);</div><div class="line">            String curr = sb.toString();</div><div class="line">            <span class="keyword">if</span> (distMap.containsKey(curr) &amp;&amp; distMap.get(fromWord) + <span class="number">1</span> &lt;= distMap.get(curr)) &#123;</div><div class="line">                q.add(curr);</div><div class="line">                distMap.put(curr, distMap.get(fromWord) + <span class="number">1</span>);</div><div class="line">                neighborMap.putIfAbsent(fromWord, <span class="keyword">new</span> HashSet&lt;&gt;());</div><div class="line">                neighborMap.get(fromWord).add(curr);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        sb.setCharAt(i, origin);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(String fromWord, String toWord, Map&lt;String, Integer&gt; distMap, </span></span></div><div class="line"><span class="function"><span class="params">                Map&lt;String, Set&lt;String&gt;&gt; neighborMap, List&lt;List&lt;String&gt;&gt; ans, List&lt;String&gt; path)</span> </span>&#123;</div><div class="line">    path.add(fromWord);</div><div class="line">    <span class="keyword">if</span> (fromWord.equals(toWord)) &#123;</div><div class="line">        ans.add(<span class="keyword">new</span> ArrayList&lt;&gt;(path));</div><div class="line">        path.remove(path.size() - <span class="number">1</span>);</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    Set&lt;String&gt; neighbors = neighborMap.get(fromWord);</div><div class="line">    <span class="keyword">if</span> (neighbors != <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">for</span> (String neighbor : neighbors) &#123;</div><div class="line">            <span class="keyword">if</span> (distMap.get(neighbor) == distMap.get(fromWord) + <span class="number">1</span>) &#123;</div><div class="line">                dfs(neighbor, toWord, distMap, neighborMap, ans, path);</div><div class="line">            &#125;</div><div class="line">        &#125; </div><div class="line">    &#125;</div><div class="line">    path.remove(path.size() - <span class="number">1</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2017-10-电面-x4"><a href="#2017-10-电面-x4" class="headerlink" title="2017.10 电面 x4"></a><a href="http://www.1point3acres.com/bbs/thread-296325-1-1.html" target="_blank" rel="external">2017.10 电面</a> x4</h4><ul>
<li><a href="https://www.pinterest.com/categories/everything/" target="_blank" rel="external">pinterest页面例子</a>，每个图片都等宽但不等高，给一堆pin的id、高度，求放置pin的策略，让每个col的pin都比较好看，即按顺序拼pin，每次选最短的column append到底部。例如输入<code>pins = [{&#39;id&#39;:1, &#39;height&#39;: 100}, {&#39;id&#39;:2, &#39;height&#39;:300}, {&#39;id&#39;:3, &#39;height&#39;:150}.....]</code>，以及<code>col = 3</code>。返回List of List<code>[[1,.....],[2,...],[3,...]]</code>，每一个List表示该column存放的图片的id。</li>
<li><p>如何保证每次都取最短的col去append？联想到了PriorityQueue，可以logK插入，每次都直接取到最短的进行append。时间复杂度O(NlogK)，其中K是col数量。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;List&lt;Integer&gt;&gt; getColumnPinIds(Map&lt;Integer, Integer&gt; heightMap, <span class="keyword">int</span> colTotal) &#123;</div><div class="line">    <span class="keyword">int</span>[] colHeights = <span class="keyword">new</span> <span class="keyword">int</span>[colTotal];</div><div class="line">    PriorityQueue&lt;Integer&gt; pq = <span class="keyword">new</span> PriorityQueue&lt;&gt;((i, j) -&gt; colHeights[i] != colHeights[j] ? </div><div class="line">                        colHeights[i] - colHeights[j] : i - j);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; colTotal; i++) &#123;</div><div class="line">        pq.offer(i);</div><div class="line">    &#125;</div><div class="line">    List&lt;List&lt;Integer&gt;&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; colTotal; i++) &#123;</div><div class="line">        ans.add(<span class="keyword">new</span> ArrayList&lt;&gt;());</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> pinId : heightMap.keySet()) &#123;</div><div class="line">        <span class="keyword">int</span> colIndex = pq.poll();</div><div class="line">        colHeights[colIndex] += heightMap.get(pinId);</div><div class="line">        ans.get(colIndex).add(pinId);</div><div class="line">        pq.offer(colIndex);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ans;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>如果不让用heap？那就直接O(NK)，每次都遍历k个col看看谁最小即可。</p>
</li>
<li>follow-up: resize一下窗口，如何快速rearrange这些pin？</li>
</ul>
<h4 id="2017-10-电面-1"><a href="#2017-10-电面-1" class="headerlink" title="2017.10 电面"></a><a href="http://www.1point3acres.com/bbs/thread-300818-1-1.html" target="_blank" rel="external">2017.10 电面</a></h4><ul>
<li><p>behavior tree. 给一对用户的action如</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">user_id, timestamp, action</div><div class="line">100, 1000, A</div><div class="line">200, 1003, A</div><div class="line">300, 1009, B</div><div class="line">100, 1026, B</div><div class="line">100, 1030, C</div><div class="line">200, 1109, B</div><div class="line">200, 1503, A</div></pre></td></tr></table></figure>
<p>  如何从上面的log file构造成一个system log的graph如</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">|---A (2)</div><div class="line">|    |---B (2)</div><div class="line">|    |    |---C (1)</div><div class="line">|    |    |---A (1)</div><div class="line">|---B (1)</div></pre></td></tr></table></figure>
</li>
<li><p>这个和Trie很类似。可以考虑对于序列中每一个动作，维护一个TrieNode，其中包含action, count, 和后续操作节点nexts.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">LogParser</span> </span>&#123;</div><div class="line">        <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">TrieNode</span> </span>&#123;</div><div class="line">        String action;</div><div class="line">        <span class="keyword">int</span> count;</div><div class="line">        Map&lt;String, TrieNode&gt; nexts;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">TrieNode</span><span class="params">()</span> </span>&#123;</div><div class="line">            count = <span class="number">0</span>;</div><div class="line">            nexts = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">insertActions</span><span class="params">(TrieNode root, List&lt;String&gt; actions)</span> </span>&#123;</div><div class="line">        TrieNode curr = root;</div><div class="line">        <span class="keyword">for</span> (String action : actions) &#123;</div><div class="line">            curr.nexts.putIfAbsent(action, <span class="keyword">new</span> TrieNode());</div><div class="line">            curr.nexts.get(action).count++;</div><div class="line">            curr = curr.nexts.get(action);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">static</span>  <span class="class"><span class="keyword">class</span> <span class="title">Record</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> userId;</div><div class="line">        <span class="keyword">int</span> timestamp;</div><div class="line">        String action;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Record</span><span class="params">(<span class="keyword">int</span> userId, <span class="keyword">int</span> timestamp, String action)</span> </span>&#123;</div><div class="line">            <span class="keyword">this</span>.userId = userId;</div><div class="line">            <span class="keyword">this</span>.timestamp = timestamp;</div><div class="line">            <span class="keyword">this</span>.action = action;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> TrieNode <span class="title">getGraph</span><span class="params">(String[] logs)</span> </span>&#123;</div><div class="line">        Record[] records = <span class="keyword">new</span> Record[logs.length];</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; logs.length; i++) &#123;</div><div class="line">            String[] splitted = logs[i].split(<span class="string">","</span>);</div><div class="line">            <span class="keyword">int</span> userId = Integer.parseInt(splitted[<span class="number">0</span>].trim());</div><div class="line">            <span class="keyword">int</span> timestamp = Integer.parseInt(splitted[<span class="number">1</span>].trim());</div><div class="line">            String action = splitted[<span class="number">2</span>].trim();</div><div class="line">            records[i] = <span class="keyword">new</span> Record(userId, timestamp, action);</div><div class="line">        &#125;</div><div class="line">        Arrays.sort(records, (a, b) -&gt; a.timestamp - b.timestamp);</div><div class="line">        Map&lt;Integer, List&lt;String&gt;&gt; userActionMap = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">        <span class="keyword">for</span> (Record record : records) &#123;</div><div class="line">            userActionMap.putIfAbsent(record.userId, <span class="keyword">new</span> ArrayList&lt;&gt;());</div><div class="line">            userActionMap.get(record.userId).add(record.action);</div><div class="line">        &#125;</div><div class="line">        TrieNode root = <span class="keyword">new</span> TrieNode();</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> userId : userActionMap.keySet()) &#123;</div><div class="line">            insertActions(root, userActionMap.get(userId));</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> root;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> String PADDING_STRING = <span class="string">"|   "</span>;</div><div class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> String LEADING_STRING = <span class="string">"|---"</span>;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printGraph</span><span class="params">(TrieNode node, StringBuilder sb)</span> </span>&#123;</div><div class="line">        <span class="keyword">for</span> (String nextAction : node.nexts.keySet()) &#123;</div><div class="line">            System.out.print(sb);</div><div class="line">            System.out.print(LEADING_STRING);</div><div class="line">            System.out.print(nextAction);</div><div class="line">            System.out.println(<span class="string">"("</span> + node.nexts.get(nextAction).count + <span class="string">")"</span>);</div><div class="line">            sb.append(PADDING_STRING);</div><div class="line">            printGraph(node.nexts.get(nextAction), sb);</div><div class="line">            sb.delete(sb.length() - PADDING_STRING.length(), sb.length());</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2018-3-Onsite-1"><a href="#2018-3-Onsite-1" class="headerlink" title="2018.3 Onsite"></a><a href="http://www.1point3acres.com/bbs/thread-345908-1-1.html" target="_blank" rel="external">2018.3 Onsite</a></h4><h5 id="LC-146-LRU"><a href="#LC-146-LRU" class="headerlink" title="LC 146 LRU"></a><a href="https://leetcode.com/problems/lru-cache/description/" target="_blank" rel="external">LC 146 LRU</a></h5><ul>
<li>说是设计Gmail界面，说是类似实现LRU。实现Cache就是用Map，但是least recent特性就需要额外的数据结构来提升效率：双向链表。Map中存放key - Node映射，所有的cache都放在一个双向链表上，每次get的时候就将get到的node挪到第一位。put时若capacity超了就将链表最后一个节点删除即可。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">LRUCache</span> </span>&#123;</div><div class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Node</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> key;</div><div class="line">        <span class="keyword">int</span> val;</div><div class="line">        Node prev;</div><div class="line">        Node next;</div><div class="line">        <span class="function"><span class="keyword">public</span> <span class="title">Node</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> val)</span> </span>&#123;</div><div class="line">            <span class="keyword">this</span>.key = key;</div><div class="line">            <span class="keyword">this</span>.val = val;</div><div class="line">            prev = <span class="keyword">null</span>;</div><div class="line">            next = <span class="keyword">null</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    Map&lt;Integer, Node&gt; map;</div><div class="line">    Node fakeHead, fakeTail;</div><div class="line">    <span class="keyword">int</span> capacity;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">LRUCache</span><span class="params">(<span class="keyword">int</span> capacity)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.capacity = capacity;</div><div class="line">        map = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">        fakeHead = <span class="keyword">new</span> Node(-<span class="number">1</span>, -<span class="number">1</span>);</div><div class="line">        fakeTail = <span class="keyword">new</span> Node(-<span class="number">1</span>, -<span class="number">1</span>);</div><div class="line">        fakeHead.next = fakeTail;</div><div class="line">        fakeTail.prev = fakeHead;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">get</span><span class="params">(<span class="keyword">int</span> key)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (map.containsKey(key)) &#123;</div><div class="line">            Node ret = map.get(key);</div><div class="line">            moveToFirst(ret);</div><div class="line">            <span class="keyword">return</span> ret.val;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">put</span><span class="params">(<span class="keyword">int</span> key, <span class="keyword">int</span> value)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (capacity == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (map.containsKey(key)) &#123;</div><div class="line">            Node oldNode = map.get(key);</div><div class="line">            oldNode.val = value;</div><div class="line">            moveToFirst(oldNode);</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (map.size() == capacity) &#123;</div><div class="line">            map.remove(fakeTail.prev.key);</div><div class="line">            remove(fakeTail.prev);</div><div class="line">        &#125;</div><div class="line">        Node newNode = <span class="keyword">new</span> Node(key, value);</div><div class="line">        insertToFirst(newNode);</div><div class="line">        map.put(key, newNode);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">moveToFirst</span><span class="params">(Node node)</span> </span>&#123;</div><div class="line">        remove(node);</div><div class="line">        insertToFirst(node);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">insertToFirst</span><span class="params">(Node node)</span> </span>&#123;</div><div class="line">        node.next = fakeHead.next;</div><div class="line">        fakeHead.next = node;</div><div class="line">        node.prev = fakeHead;</div><div class="line">        node.next.prev = node;</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">remove</span><span class="params">(Node node)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (node.prev == <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">return</span>;</div><div class="line">        &#125;</div><div class="line">        node.prev.next = node.next;</div><div class="line">        node.next.prev = node.prev;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2018-1-Onsite"><a href="#2018-1-Onsite" class="headerlink" title="2018.1 Onsite"></a><a href="http://www.1point3acres.com/bbs/thread-317124-1-1.html" target="_blank" rel="external">2018.1 Onsite</a></h4><h5 id="437-path-sum-iii"><a href="#437-path-sum-iii" class="headerlink" title="437. path-sum-iii"></a><a href="https://leetcode.com/problems/path-sum-iii/description/" target="_blank" rel="external">437. path-sum-iii</a></h5><ul>
<li>给一个二叉树，给一个目标值sum，求有几条从上往下累加的路径之和等于sum。</li>
<li>除了O(N^2)的笨方法，考虑使用cache保存已有结果，这里用到的是prefixSum的思路。在深入下层节点的时候直接累计currSum，同时在cache中找是否存在若干段path是<code>currSum - target</code>，这样就可以把这些prefix从path中给去掉就可以得到target了。在深入更下层节点之前，需要更新currSum的计数，这样在更深层的时候就知道最新的currSum作为prefixSum的计数。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">pathSum</span><span class="params">(TreeNode root, <span class="keyword">int</span> sum)</span> </span>&#123;</div><div class="line">    Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">    map.put(<span class="number">0</span>, <span class="number">1</span>);</div><div class="line">    dfs(root, <span class="number">0</span>, sum, map);</div><div class="line">    <span class="keyword">return</span> count;</div><div class="line">&#125;</div><div class="line"><span class="keyword">int</span> count;</div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">dfs</span><span class="params">(TreeNode root, <span class="keyword">int</span> currSum, <span class="keyword">int</span> target, Map&lt;Integer, Integer&gt; map)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    currSum += root.val;</div><div class="line">    count += map.getOrDefault(currSum - target, <span class="number">0</span>);</div><div class="line">    map.put(currSum, map.getOrDefault(currSum, <span class="number">0</span>) + <span class="number">1</span>);</div><div class="line">    </div><div class="line">    dfs(root.left, currSum, target, map);</div><div class="line">    dfs(root.right, currSum, target, map);</div><div class="line">    </div><div class="line">    map.put(currSum, map.get(currSum) - <span class="number">1</span>);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="362-design-hit-counter"><a href="#362-design-hit-counter" class="headerlink" title="362. design-hit-counter"></a><a href="https://leetcode.com/problems/design-hit-counter/description/" target="_blank" rel="external">362. design-hit-counter</a></h5><ul>
<li>实现一个hitCount类，通过hit(timestamp)表示在什么时候出现了hit（可能同一时刻有多次hit），然后通过getHits得到最近300s内hit了多少次。</li>
<li>利用循环数组记录hits即可，容量可以直接设为300，这样最多就可以同时记录300s中每一秒的hit数量，在getHis的时候直接遍历一边如何保证每个bucket都是valid的count呢，就需要记录每一个bucket对应的hit的时刻是几时，因此需要另一个time数组来记录。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">HitCounter</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] hits;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span>[] time;</div><div class="line">    <span class="keyword">final</span> <span class="keyword">private</span> <span class="keyword">int</span> TIMEWINDOW = <span class="number">300</span>;</div><div class="line">    <span class="comment">/** Initialize your data structure here. */</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">HitCounter</span><span class="params">()</span> </span>&#123;</div><div class="line">        hits = <span class="keyword">new</span> <span class="keyword">int</span> [TIMEWINDOW];</div><div class="line">        time = <span class="keyword">new</span> <span class="keyword">int</span> [TIMEWINDOW];</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">/** Record a hit.</span></div><div class="line"><span class="comment">        <span class="doctag">@param</span> timestamp - The current timestamp (in seconds granularity). */</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">hit</span><span class="params">(<span class="keyword">int</span> timestamp)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> index = timestamp % TIMEWINDOW;</div><div class="line">        <span class="keyword">if</span> (time[index] != timestamp) &#123;</div><div class="line">            time[index] = timestamp;</div><div class="line">            hits[index] = <span class="number">1</span>;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            hits[index]++;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="comment">/** Return the number of hits in the past 5 minutes.</span></div><div class="line"><span class="comment">        <span class="doctag">@param</span> timestamp - The current timestamp (in seconds granularity). */</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">getHits</span><span class="params">(<span class="keyword">int</span> timestamp)</span> </span>&#123;</div><div class="line">        <span class="keyword">int</span> count = <span class="number">0</span>;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; TIMEWINDOW; i++) &#123;</div><div class="line">            <span class="keyword">if</span> (timestamp - time[i] &lt; TIMEWINDOW) &#123;</div><div class="line">                count += hits[i];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> count;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2017-12-Onsite"><a href="#2017-12-Onsite" class="headerlink" title="2017.12 Onsite"></a><a href="http://www.1point3acres.com/bbs/thread-307205-1-1.html" target="_blank" rel="external">2017.12 Onsite</a></h4><h5 id="392-is-subsequence"><a href="#392-is-subsequence" class="headerlink" title="392. is-subsequence"></a><a href="https://leetcode.com/problems/is-subsequence/description/" target="_blank" rel="external">392. is-subsequence</a></h5><ul>
<li>给两个字符串，判断其中一个字符串s是否是另一个字符串t的子序列串，这个字串不要求字符连续出现，只要求出现顺序一致且全部出现即可。</li>
<li>trivail的方法是直接两个指针扫，只有当s的字符和t匹配了才挪动s的指针。</li>
<li>如果t很大，而s是很多个小字符串需要连续调用这个函数呢？这就可以考虑使用记录索引+二分查找了。首先对t中每个字符记录出现的索引并存入List，这个是不会变的。然后对于输入s，每个字符都对该字符的List用二分查找找索引的「第一次出现/插入位置」，找到后就作为后一次搜索的索引。如果插入位置是在最后，说明t无法满足s的对应位置；<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isSubsequence</span><span class="params">(String s, String t)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (s == <span class="keyword">null</span> || s.length() == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">    &#125;</div><div class="line">    List&lt;Integer&gt;[] indexCache = <span class="keyword">new</span> List [<span class="number">26</span>];</div><div class="line">    <span class="keyword">char</span>[] tChar = t.toCharArray();</div><div class="line">    </div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tChar.length; i++) &#123;</div><div class="line">        <span class="keyword">int</span> index = tChar[i] - <span class="string">'a'</span>;</div><div class="line">        <span class="keyword">if</span> (indexCache[index] == <span class="keyword">null</span>) &#123;</div><div class="line">            indexCache[index] = <span class="keyword">new</span> ArrayList&lt;Integer&gt;();</div><div class="line">        &#125;</div><div class="line">        indexCache[index].add(i);</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="keyword">char</span>[] sChar = s.toCharArray();</div><div class="line">    <span class="keyword">int</span> pos = <span class="number">0</span>;    <span class="comment">// 在t中出现的最小索引</span></div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; sChar.length; i++) &#123;</div><div class="line">        <span class="keyword">int</span> index = sChar[i] - <span class="string">'a'</span>;</div><div class="line">        <span class="keyword">if</span> (indexCache[index] == <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">        </div><div class="line">        <span class="keyword">int</span> insertPos = Collections.binarySearch(indexCache[index], pos);</div><div class="line">        <span class="keyword">if</span> (insertPos &lt; <span class="number">0</span>) &#123;</div><div class="line">            insertPos = -insertPos - <span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (insertPos == indexCache[index].size()) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">        pos = indexCache[index].get(insertPos) + <span class="number">1</span>; <span class="comment">// 下一步所需最小索引更新为已有索引的下一位</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2018-5-电面"><a href="#2018-5-电面" class="headerlink" title="2018.5 电面"></a><a href="http://www.1point3acres.com/bbs/thread-421707-1-1.html" target="_blank" rel="external">2018.5 电面</a></h4><h5 id="67-add-binary"><a href="#67-add-binary" class="headerlink" title="67. add-binary"></a><a href="https://leetcode.com/problems/add-binary/#/description" target="_blank" rel="external">67. add-binary</a></h5><ul>
<li>给两个String表示的二进制数，返回二者相加后的二进制字符串。</li>
<li>模拟加法，可以从两个数的最后一位开始加，最后reverse一下即可，注意最后需要确认首位是否需要加上carry。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> String <span class="title">addBinary</span><span class="params">(String a, String b)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (a == <span class="keyword">null</span> || a.length() == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> b;</div><div class="line">    &#125; <span class="keyword">else</span> &#123;</div><div class="line">        <span class="keyword">if</span> (b == <span class="keyword">null</span> || b.length() == <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> a;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</div><div class="line">    <span class="keyword">char</span>[] aChar = a.toCharArray(), bChar = b.toCharArray();</div><div class="line">    <span class="keyword">int</span> i = aChar.length - <span class="number">1</span>, j = bChar.length - <span class="number">1</span>, carry = <span class="number">0</span>;</div><div class="line">    <span class="keyword">while</span> (i &gt;= <span class="number">0</span> || j &gt;= <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">int</span> sum = carry;    <span class="comment">// from prev result</span></div><div class="line">        <span class="keyword">if</span> (i &gt;= <span class="number">0</span>) &#123;</div><div class="line">            sum += aChar[i--] - <span class="string">'0'</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (j &gt;= <span class="number">0</span>) &#123;</div><div class="line">            sum += bChar[j--] - <span class="string">'0'</span>;</div><div class="line">        &#125;</div><div class="line">        sb.append(sum % <span class="number">2</span>); <span class="comment">// what's left after taking out carry</span></div><div class="line">        carry = sum / <span class="number">2</span>;    <span class="comment">// 3,2 -&gt; 1; 1,0 -&gt; 0</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (carry != <span class="number">0</span>) &#123;</div><div class="line">        sb.append(carry);   <span class="comment">// warning! the most significant position</span></div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> sb.reverse().toString();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2017-11-Onsite"><a href="#2017-11-Onsite" class="headerlink" title="2017.11 Onsite"></a><a href="http://www.1point3acres.com/bbs/thread-302734-1-1.html" target="_blank" rel="external">2017.11 Onsite</a></h4><h5 id="14-longest-common-prefix"><a href="#14-longest-common-prefix" class="headerlink" title="14. longest-common-prefix"></a><a href="https://leetcode.com/problems/longest-common-prefix/#/description" target="_blank" rel="external">14. longest-common-prefix</a></h5><ul>
<li>给一串字符串数组，求这些字符串开头的公共部分。</li>
<li>直接按照字典序排序，找首位和末尾的字符串比较看看有多少公共部分即可。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> String <span class="title">longestCommonPrefix</span><span class="params">(String[] strs)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (strs == <span class="keyword">null</span> || strs.length == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="string">""</span>;</div><div class="line">    &#125;</div><div class="line">    Arrays.sort(strs);</div><div class="line">    String s1 = strs[<span class="number">0</span>];</div><div class="line">    String s2 = strs[strs.length - <span class="number">1</span>];</div><div class="line">    StringBuilder sb = <span class="keyword">new</span> StringBuilder();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s1.length(); i++) &#123;</div><div class="line">        <span class="keyword">if</span> (s1.charAt(i) != s2.charAt(i)) &#123;</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">        sb.append(s1.charAt(i));</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> sb.toString();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2018-8-Onsite"><a href="#2018-8-Onsite" class="headerlink" title="2018.8 Onsite"></a><a href="http://www.1point3acres.com/bbs/thread-436530-1-1.html" target="_blank" rel="external">2018.8 Onsite</a></h4><h5 id="560-subarray-sum-equals-k"><a href="#560-subarray-sum-equals-k" class="headerlink" title="560. subarray-sum-equals-k"></a><a href="https://leetcode.com/problems/subarray-sum-equals-k/description/" target="_blank" rel="external">560. subarray-sum-equals-k</a></h5><ul>
<li>给一个int数组和一个k，问有多少连续的subarray之和等于k。这些int都在<code>[-1000, 1000]</code>，数组长度最多20000。</li>
<li>一开始想用双指针，但有正有负，更新条件不好搞。正解是使用Map，在计算sum的时候顺便看看之前是否出现过sum - k。这其实和path sum III 很像，都是利用prefix sum.<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">subarraySum</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    Map&lt;Integer, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">    map.put(<span class="number">0</span>, <span class="number">1</span>);</div><div class="line">    <span class="keyword">int</span> count = <span class="number">0</span>, sum = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; nums.length; i++) &#123;</div><div class="line">        sum += nums[i];</div><div class="line">        <span class="keyword">if</span> (map.containsKey(sum - k)) &#123;     <span class="comment">// 看之前是否已经出现了这一段prefix</span></div><div class="line">            count += map.get(sum - k);      <span class="comment">// 这样sum - prefix就等于k了</span></div><div class="line">        &#125;</div><div class="line">        map.put(sum, map.getOrDefault(sum, <span class="number">0</span>) + <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> count;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2018-5-Onsite-1"><a href="#2018-5-Onsite-1" class="headerlink" title="2018.5 Onsite"></a><a href="http://www.1point3acres.com/bbs/thread-426865-1-1.html" target="_blank" rel="external">2018.5 Onsite</a></h4><h5 id="698-partition-to-k-equal-sum-subsets"><a href="#698-partition-to-k-equal-sum-subsets" class="headerlink" title="698. partition-to-k-equal-sum-subsets"></a><a href="https://leetcode.com/problems/partition-to-k-equal-sum-subsets/description/" target="_blank" rel="external">698. partition-to-k-equal-sum-subsets</a></h5><ul>
<li>给一个只含有(0, 10000)的int数组和一个k，判断是否可以将该数组划分为k个相等sum的partition。</li>
<li><p>似乎是个NP-hard的问题。只能用暴力办法，DFS+标记数组，每次累加过后进入下一层看看是否达到了targetSum，达到了就清空继续往后找新的一组subset.最后如果只剩下一组了，直接返回true，因为此时其他k - 1个组都已经达到targetSum了，当前的<code>sum = k * targetSum - (k - 1) * targetSum = targetSum</code>.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canPartitionKSubsets</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span> || k &gt; nums.length || k &lt; <span class="number">1</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (k == <span class="number">1</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> sum = IntStream.of(nums).sum();  <span class="comment">// Java8的stream!</span></div><div class="line">        <span class="keyword">if</span> (sum % k != <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> targetSum = sum / k;</div><div class="line">        <span class="keyword">boolean</span>[] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[nums.length];</div><div class="line">        <span class="keyword">return</span> checkPartition(nums, visited, <span class="number">0</span>, targetSum, <span class="number">0</span>, k);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkPartition</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">boolean</span>[] visited, <span class="keyword">int</span> startIndex, <span class="keyword">int</span> targetSum, <span class="keyword">int</span> currSum, <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (k == <span class="number">1</span>) &#123;    <span class="comment">// 提前break</span></div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (currSum == targetSum) &#123;</div><div class="line">            <span class="keyword">return</span> checkPartition(nums, visited, <span class="number">0</span>, targetSum, <span class="number">0</span>, k - <span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = startIndex; i &lt; nums.length; i++) &#123;</div><div class="line">            <span class="keyword">if</span> (!visited[i]) &#123;</div><div class="line">                visited[i] = <span class="keyword">true</span>;</div><div class="line">                <span class="keyword">if</span> (checkPartition(nums, visited, i + <span class="number">1</span>, targetSum, currSum + nums[i], k)) &#123;</div><div class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">                &#125;</div><div class="line">                visited[i] = <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>方法二：更快的做法是先对数组排序，然后存k个bucket，每个bucket从后往前取元素不断累加.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canPartitionKSubsets</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span> || k &gt; nums.length || k &lt; <span class="number">1</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (k == <span class="number">1</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> sum = IntStream.of(nums).sum();  <span class="comment">// Java8的stream!</span></div><div class="line">        <span class="keyword">if</span> (sum % k != <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> targetSum = sum / k;</div><div class="line">        Arrays.sort(nums);</div><div class="line">        <span class="keyword">return</span> checkPartition(nums, targetSum, <span class="keyword">new</span> <span class="keyword">int</span>[k], nums.length - <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkPartition</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> targetSum, <span class="keyword">int</span>[] buckets, <span class="keyword">int</span> numsIndex)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (numsIndex &lt; <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> bucket : buckets) &#123;</div><div class="line">                <span class="keyword">if</span> (bucket != targetSum) &#123;</div><div class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; buckets.length; i++) &#123;</div><div class="line">            <span class="keyword">if</span> (buckets[i] + nums[numsIndex] &lt;= targetSum) &#123;</div><div class="line">                buckets[i] += nums[numsIndex];</div><div class="line">                <span class="keyword">if</span> (checkPartition(nums, targetSum, buckets, numsIndex - <span class="number">1</span>)) &#123;</div><div class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">                &#125;</div><div class="line">                buckets[i] -= nums[numsIndex];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>follow-up: 如果去掉正数的限制，允许出现负数和0？</p>
</li>
<li><p>上面的方法只考虑了直接累积叠加，无法解决负数问题。因此需要引入一个elementCount来统计当前这一波存入了多少element，当达到targetSum的时候需要判断当前这一波是否真的存入了元素。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">canPartitionKSubsets</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">int</span> k)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span> || k &gt; nums.length || k &lt; <span class="number">1</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (k == <span class="number">1</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> sum = IntStream.of(nums).sum();</div><div class="line">        <span class="keyword">if</span> (sum % k != <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> targetSum = sum / k;</div><div class="line">        <span class="keyword">boolean</span>[] visited = <span class="keyword">new</span> <span class="keyword">boolean</span>[nums.length];</div><div class="line">        <span class="keyword">return</span> checkPartition(nums, visited, <span class="number">0</span>, targetSum, <span class="number">0</span>, k, <span class="number">0</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">checkPartition</span><span class="params">(<span class="keyword">int</span>[] nums, <span class="keyword">boolean</span>[] visited, <span class="keyword">int</span> startIndex, <span class="keyword">int</span> targetSum, <span class="keyword">int</span> currSum, <span class="keyword">int</span> k, <span class="keyword">int</span> elementCount)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (k == <span class="number">0</span>) &#123;      <span class="comment">// 必须算完才行</span></div><div class="line">            <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">if</span> (currSum == targetSum &amp;&amp; elementCount &gt; <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">return</span> checkPartition(nums, visited, <span class="number">0</span>, targetSum, <span class="number">0</span>, k - <span class="number">1</span>, <span class="number">0</span>);</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = startIndex; i &lt; nums.length; i++) &#123;</div><div class="line">            <span class="keyword">if</span> (!visited[i]) &#123;</div><div class="line">                visited[i] = <span class="keyword">true</span>;</div><div class="line">                <span class="keyword">if</span> (checkPartition(nums, visited, i + <span class="number">1</span>, targetSum, currSum + nums[i], k, elementCount + <span class="number">1</span>)) &#123;</div><div class="line">                    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">                &#125;</div><div class="line">                visited[i] = <span class="keyword">false</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>follow-up: 如何记录路径？也就是在dfs的时候多用一个List记录存入的数字即可。</p>
</li>
</ul>
<h5 id="数组与query-x2"><a href="#数组与query-x2" class="headerlink" title="数组与query x2"></a>数组与query x2</h5><ul>
<li>给一个长度为N的数组，其中每一个数字都是8bit的正整数（0～255）。给一个二维数组M，类似于<code>[[1,100],[5,1000],etc]</code>，求所给range的mean。</li>
<li><p>naive方法是对于每一个query，都求一个sum / size，复杂度O(M*N)。可以用lc 303 rangeSum的思路，先求一波和，然后求sum的时候直接用两个位置的相减即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">int</span>[] getMeans(<span class="keyword">int</span>[] nums, <span class="keyword">int</span>[][] queries) &#123;</div><div class="line">    <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span></div><div class="line">    || queries == <span class="keyword">null</span> || queries.length == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> N = nums.length, M = queries.length;</div><div class="line">    <span class="keyword">int</span>[] sums = <span class="keyword">new</span> <span class="keyword">int</span>[N];</div><div class="line">    sums[<span class="number">0</span>] = nums[<span class="number">0</span>];</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; N; i++) &#123;</div><div class="line">        sums[i] = sums[i - <span class="number">1</span>] + nums[i];</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">double</span>[] means = <span class="keyword">new</span> <span class="keyword">double</span>[M];</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; M; i++) &#123;</div><div class="line">        <span class="keyword">int</span> start = quries[i][<span class="number">0</span>];</div><div class="line">        <span class="keyword">int</span> end = quries[i][<span class="number">1</span>];</div><div class="line">        means[i] = (sum[end] - (start &gt; <span class="number">0</span> ? sums[start - <span class="number">1</span>] : <span class="number">0</span>)) </div><div class="line">                    / (<span class="keyword">double</span>)(end - start + <span class="number">1</span>);</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>follow-up: 还是这些input，但query内容变为「求每个range的median」。median自然想到排序，而这个0～255的限制范围就容易想到木桶排序，然后根据个数就可以找到median了。在预处理的时候直接给每一个元素维护一个长度为256的bucket，</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">static</span> <span class="keyword">public</span> <span class="keyword">double</span>[] getMedians(<span class="keyword">int</span>[] nums, <span class="keyword">int</span>[][] queries) &#123;</div><div class="line">    <span class="keyword">if</span> (nums == <span class="keyword">null</span> || nums.length == <span class="number">0</span></div><div class="line">    || queries == <span class="keyword">null</span> || queries.length == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> N = nums.length, M = queries.length;</div><div class="line">    <span class="keyword">int</span>[][] buckets = <span class="keyword">new</span> <span class="keyword">int</span>[N][<span class="number">256</span>];</div><div class="line">    buckets[<span class="number">0</span>][nums[<span class="number">0</span>]]++;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; N; i++) &#123;</div><div class="line">        buckets[i] = Arrays.copyOf(buckets[i - <span class="number">1</span>], <span class="number">256</span>);</div><div class="line">        buckets[i][nums[i]]++;</div><div class="line">    &#125;</div><div class="line"></div><div class="line">    <span class="keyword">double</span>[] medians = <span class="keyword">new</span> <span class="keyword">double</span>[M];</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; M; i++) &#123;</div><div class="line">        <span class="keyword">int</span> start = queries[i][<span class="number">0</span>];</div><div class="line">        <span class="keyword">int</span> end = queries[i][<span class="number">1</span>];</div><div class="line">        <span class="keyword">int</span>[] tempBucket = Arrays.copyOf(buckets[end], <span class="number">256</span>);</div><div class="line">        <span class="keyword">if</span> (start &gt; <span class="number">0</span>) &#123;</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">256</span>; j++) &#123;</div><div class="line">                tempBucket[j] -= buckets[start - <span class="number">1</span>][j];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        medians[i] = getMedian(tempBucket, (end - start) / <span class="number">2</span>, ((end - start + <span class="number">1</span>) &amp; <span class="number">1</span>) == <span class="number">0</span>);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> medians;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">static</span> <span class="keyword">private</span> <span class="keyword">double</span> <span class="title">getMedian</span><span class="params">(<span class="keyword">int</span>[] bucket, <span class="keyword">int</span> pos, <span class="keyword">boolean</span> isEven)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> i = <span class="number">0</span>, index = -<span class="number">1</span>;</div><div class="line">    <span class="keyword">while</span> (i &lt; <span class="number">256</span>) &#123;</div><div class="line">        index += bucket[i++];</div><div class="line">        <span class="keyword">if</span> (index &gt;= pos) &#123;</div><div class="line">            <span class="keyword">break</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (!isEven || index &gt; pos) &#123;</div><div class="line">        <span class="keyword">return</span> i - <span class="number">1</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> first = i - <span class="number">1</span>;</div><div class="line">    <span class="keyword">while</span> (i &lt; <span class="number">256</span>) &#123;</div><div class="line">        index += bucket[i++];</div><div class="line">        <span class="keyword">if</span> (index &gt; pos) &#123;</div><div class="line">            <span class="keyword">return</span> (first + i - <span class="number">1</span>) / <span class="number">2.0</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> first;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>再follow-up: 当N特别大的时候，无法全部放入内存，如何在预处理的时候进行压缩。(给定一个压缩指标K, K&lt;&lt;N， 问怎么在预处理的时候进行压缩，同时效率还是O(M+N). 答案是每次隔K个进行存储，这样在查找的时候每次需要K次，但是K是常数，所以效率还是O(M+N).????)</p>
</li>
</ul>
<h4 id="2017-11-Onsite-1"><a href="#2017-11-Onsite-1" class="headerlink" title="2017.11 Onsite"></a><a href="http://www.1point3acres.com/bbs/thread-301853-1-1.html" target="_blank" rel="external">2017.11 Onsite</a></h4><h5 id="139-word-break"><a href="#139-word-break" class="headerlink" title="139. word-break"></a><a href="https://leetcode.com/problems/word-break/#/description" target="_blank" rel="external">139. word-break</a></h5><ul>
<li>给一个List表示词典，给一个String，求能否把该String按照某种方式以空格分割，使得每个单词都来自于字典。</li>
<li><p>利用DP状态转换，若当前子字符串在dict中且子字符串之前的部分也符合要求，则当前这一段都true。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">wordBreak</span><span class="params">(String s, List&lt;String&gt; wordDict)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (s == <span class="keyword">null</span> || s.length() == <span class="number">0</span> || wordDict == <span class="keyword">null</span> || wordDict.size() == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">    Set&lt;String&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</div><div class="line">    <span class="keyword">int</span> maxLen = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (String word : wordDict) &#123;</div><div class="line">        maxLen = Math.max(word.length(), maxLen);</div><div class="line">        set.add(word);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">boolean</span>[] dp = <span class="keyword">new</span> <span class="keyword">boolean</span>[s.length() + <span class="number">1</span>];</div><div class="line">    dp[<span class="number">0</span>] = <span class="keyword">true</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> end = <span class="number">1</span>; end &lt;= s.length(); end++) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> start = end - <span class="number">1</span>; end - start &lt;= maxLen &amp;&amp; start &gt;= <span class="number">0</span>; start--) &#123;</div><div class="line">            <span class="keyword">if</span> (set.contains(s.substring(start, end)) &amp;&amp; dp[start]) &#123;</div><div class="line">                dp[end] = <span class="keyword">true</span>;</div><div class="line">                <span class="keyword">break</span>;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> dp[s.length()];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>follow-up: 如果wordDict很大怎么存？用Trie。用Trie也存不下呢？？？</p>
</li>
<li><code>theyearofdragon</code>可以分成<code>the year of dragon</code>或者<code>they ear of dragon</code>，显然第一种分法好些，问怎么去判断分成不同语句哪种最好。？？？</li>
</ul>
<h5 id="column放pin"><a href="#column放pin" class="headerlink" title="column放pin"></a>column放pin</h5><ul>
<li><p>Pinterest主页上有N个column，给一个set of pins，pins有score和length，每次把score最高的pin贴到最短的column上，<code>return List&lt;List&lt;Pin&gt;&gt;</code>表示每个column里的pins。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Pin</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Pin</span>&gt; </span>&#123;</div><div class="line">    <span class="keyword">double</span> score;</div><div class="line">    <span class="keyword">double</span> height;</div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Pin</span><span class="params">(<span class="keyword">double</span> score, <span class="keyword">double</span> height)</span> </span>&#123;</div><div class="line">        <span class="keyword">this</span>.score = score;</div><div class="line">        <span class="keyword">this</span>.height = height;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    <span class="meta">@Override</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Pin that)</span> </span>&#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.score == that.score ? </div><div class="line">            (<span class="keyword">int</span>)(<span class="keyword">this</span>.height - that.height)</div><div class="line">            : (<span class="keyword">int</span>)(that.score - <span class="keyword">this</span>.score);</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;List&lt;Pin&gt;&gt; getPinPos(List&lt;Pin&gt; pinList, <span class="keyword">int</span> col) &#123;</div><div class="line">    Collections.sort(pinList);</div><div class="line">    List&lt;List&lt;Pin&gt;&gt; ret = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">    <span class="keyword">double</span>[] heights = <span class="keyword">new</span> <span class="keyword">double</span>[col];</div><div class="line">    PriorityQueue&lt;Integer&gt; pq = <span class="keyword">new</span> PriorityQueue&lt;&gt;((i, j) -&gt; heights[i] != heights[j] ? (<span class="keyword">int</span>)(heights[i] - heights[j]) : i - j);</div><div class="line">    </div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; col; i++) &#123;</div><div class="line">        ret.add(<span class="keyword">new</span> ArrayList&lt;&gt;());</div><div class="line">        pq.offer(i);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span> (Pin pin : pinList) &#123;</div><div class="line">        <span class="keyword">int</span> index = pq.poll();</div><div class="line">        heights[index] += pin.height;</div><div class="line">        ret.get(index).add(pin);</div><div class="line">        pq.offer(index);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ret;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>follow up: 用户的手机屏幕只有M长，如果屏幕的顶点距离主页顶点距离为K(???)，求出能显示出的pins。</p>
</li>
</ul>
<h5 id="Merge-interval"><a href="#Merge-interval" class="headerlink" title="Merge interval"></a>Merge interval</h5><ul>
<li>给List of Interval，含有start, end, weight属性。如果两个interval overlap了，overlap部分的weight相加变成新的interval，返回merge之后的interval list。但是如果有多个overlap怎么办？比如<code>[0,1], [0,4], [0,5], [3,6]</code>这种，merge多次吗？</li>
</ul>
<h4 id="2018-7-Onsite-1"><a href="#2018-7-Onsite-1" class="headerlink" title="2018.7 Onsite"></a><a href="https://www.1point3acres.com/bbs/thread-432512-1-1.html" target="_blank" rel="external">2018.7 Onsite</a></h4><h5 id="相似Set"><a href="#相似Set" class="headerlink" title="相似Set"></a>相似Set</h5><ul>
<li>输入一个data stream，比如：<code>a -&gt; [b]; b -&gt; [a, d, f]; c -&gt; [b, j]; ...</code>，表示这些元素是相似的，且相似具有传递性，最后输出所有相似的set。</li>
<li><p>可以考虑用并查集，每一个起始点作为root，其余点就是它的children。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// TODO</span></div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">printGroup</span><span class="params">(Map&lt;String, List&lt;String&gt;&gt; map)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (map == <span class="keyword">null</span> || map.size() == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span>;</div><div class="line">    &#125;</div><div class="line">    Map&lt;String, String&gt; parentMap = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">    Set&lt;String&gt; nodeSet = <span class="keyword">new</span> HashSet&lt;&gt;();</div><div class="line">    <span class="keyword">for</span> (String key : map.keySet()) &#123;</div><div class="line">        map.putIfAbsent(key, key);</div><div class="line">        nodeSet.add(key);</div><div class="line">        String parent = findParent(key);</div><div class="line">        List&lt;String&gt; equivalents = map.get(key);</div><div class="line">        <span class="keyword">for</span> (String equivalent : equivalent) &#123;</div><div class="line">            nodeSet.add(equivalent);</div><div class="line">            String currParent = findParent(equivalent);</div><div class="line">            <span class="keyword">if</span> (!currParent.equals(parent)) &#123;</div><div class="line">                map.put(currParent, parent);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="comment">// ....</span></div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">findParent</span><span class="params">(String str, Map&lt;String, String&gt; parentMap)</span> </span>&#123;</div><div class="line">    <span class="keyword">while</span> (!parentMap.getOrDefault(str, str).equals(str)) &#123;</div><div class="line">        String parent = parentMap.get(str);</div><div class="line">        parentMap.put(str, parentMap.getOrDefault(parent, parent));</div><div class="line">        str = parent;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> str;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>或者直接建graph之后，找connected component来搞，似乎实现起来更不容易出错？</p>
</li>
</ul>
<h4 id="2016-5-Onsite"><a href="#2016-5-Onsite" class="headerlink" title="[2016.5 Onsite]"></a>[2016.5 Onsite]</h4><h5 id="124-binary-tree-maximum-path-sum"><a href="#124-binary-tree-maximum-path-sum" class="headerlink" title="124. binary-tree-maximum-path-sum"></a><a href="https://leetcode.com/problems/binary-tree-maximum-path-sum/#/description" target="_blank" rel="external">124. binary-tree-maximum-path-sum</a></h5><ul>
<li>给一个二叉树，求其中的任意一条路径使得经过所有节点的值最大，不一定要经过root。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span> </span>&#123;</div><div class="line">    <span class="keyword">private</span> <span class="keyword">int</span> max;        <span class="comment">// store the value of taking current root as swag point "^"</span></div><div class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">maxPathSum</span><span class="params">(TreeNode root)</span> </span>&#123;</div><div class="line">        max = Integer.MIN_VALUE;</div><div class="line">        <span class="keyword">return</span> Math.max(dfs(root), max);</div><div class="line">    &#125;</div><div class="line">    <span class="function"><span class="keyword">private</span> <span class="keyword">int</span> <span class="title">dfs</span><span class="params">(TreeNode root)</span> </span>&#123;</div><div class="line">        <span class="keyword">if</span> (root == <span class="keyword">null</span>) &#123;</div><div class="line">            <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> left = Math.max(<span class="number">0</span>, dfs(root.left));</div><div class="line">        <span class="keyword">int</span> right = Math.max(<span class="number">0</span>, dfs(root.right));</div><div class="line">        max = Math.max(max, left + right + root.val);   <span class="comment">// take both of the branches</span></div><div class="line">        <span class="keyword">return</span> root.val + Math.max(left, right);    <span class="comment">// means only take one of the branches</span></div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="meeting-rooms-ii变种"><a href="#meeting-rooms-ii变种" class="headerlink" title="meeting-rooms-ii变种"></a><a href="https://leetcode.com/problems/meeting-rooms-ii/description/" target="_blank" rel="external">meeting-rooms-ii变种</a></h5><ul>
<li>给一堆task的开始和结束时间和每个task所需的cpu数量，求完成所有task的最小cpu数。</li>
<li>先根据开始时间排序，然后往PriorityQueue中逐个加入task，若当前开始时间比队首的结束时间大，说明可以复用前面的cpu了，每次注意要更新cpu数量保证是最大值即可。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">minCPU</span><span class="params">(Task[] tasks)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (tasks == <span class="keyword">null</span> || tasks.length == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    Arrays.sort(tasks, (a, b) -&gt; a.start - b.start);</div><div class="line">    PriorityQueue&lt;Task&gt; pq = <span class="keyword">new</span> PriorityQueue&lt;&gt;(); <span class="comment">// 同时执行的task</span></div><div class="line">    <span class="keyword">int</span> max = <span class="number">0</span>, curr = <span class="number">0</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; tasks.length; i++) &#123;</div><div class="line">        <span class="comment">// 若当前task比最先结束的task晚开始，就可以用之前释放的cpu了</span></div><div class="line">        <span class="keyword">while</span> (!pq.isEmpty() &amp;&amp; tasks[i].start &gt;= pq.peek().end) &#123;</div><div class="line">            curr -= pq.poll().cpu;  <span class="comment">// 更新当前pq中所有任务所需cpu</span></div><div class="line">        &#125;</div><div class="line">        curr += tasks[i].cpu;</div><div class="line">        max = Math.max(curr, max);</div><div class="line">        pq.offer(tasks[i]);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> max;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="判断相同文件"><a href="#判断相同文件" class="headerlink" title="判断相同文件"></a>判断相同文件</h5><ul>
<li>给定两个函数，<code>get_files(dir)</code>, <code>get_dir(dir)</code> 返回所有内容相同的file. 问怎么定义内容相同，用文件名还是binary， 小哥说要内容相同，那我就用recursion遍历所有file， 然后用hashing把文件的内容hash成key放在dictionary，最后返回这个dictionary。</li>
<li>follow up说， 如果hashing非常expensive怎么办? hashing前先check file size，如果文件大小一样，再用hashing判断是不是一样。 </li>
<li>2nd follow up说<code>get_files</code>, <code>get_dir</code>如果expensive怎么办，答曰用parrallel programming （gpu or multi core） 可以优化。</li>
</ul>
<h4 id="2018-5-Onsite-2"><a href="#2018-5-Onsite-2" class="headerlink" title="2018.5 Onsite"></a><a href="https://www.1point3acres.com/bbs/thread-427590-1-1.html" target="_blank" rel="external">2018.5 Onsite</a></h4><h5 id="read-n-characters-given-read4变种"><a href="#read-n-characters-given-read4变种" class="headerlink" title="read-n-characters-given-read4变种"></a><a href="https://leetcode.com/problems/read-n-characters-given-read4/description/" target="_blank" rel="external">read-n-characters-given-read4变种</a></h5><ul>
<li>给一堆有序号的无限block，给你一个读给定index的单个block的API，每个block 64MB，然后给你一个开始的byte位置(例如：3MB，就是从index = 0 开始)，和要读的byte长度(例如：67MB)，返回读的结果。就分情况，慢慢写，先是第一个block(可能，只是读部分)，然后中间连续读几个block(计算一下就好)，最后一个block可能只读部分。 感觉整体就是玩index。</li>
</ul>
<h5 id="见上面的word-ladder"><a href="#见上面的word-ladder" class="headerlink" title="见上面的word-ladder"></a>见上面的word-ladder</h5><h5 id="36-valid-sudoku"><a href="#36-valid-sudoku" class="headerlink" title="36. valid-sudoku"></a><a href="https://leetcode.com/problems/valid-sudoku/#/description" target="_blank" rel="external">36. valid-sudoku</a></h5><ul>
<li>给一个二维char数组，里面是一个未完成的数独9x9棋盘，要求每一行、每一列、每个3x3方块中数字1-9有且仅有出现一次。判断这个棋盘是否符合数独规则，返回布尔值。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isValidSudoku</span><span class="params">(<span class="keyword">char</span>[][] board)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (board == <span class="keyword">null</span> || board.length == <span class="number">0</span> || board[<span class="number">0</span>].length == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">    &#125;</div><div class="line">    Set&lt;String&gt; set = <span class="keyword">new</span> HashSet&lt;&gt;();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; board.length; i++) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; board[<span class="number">0</span>].length; j++) &#123;</div><div class="line">            <span class="keyword">if</span> (board[i][j] != <span class="string">'.'</span>) &#123;</div><div class="line">                <span class="keyword">if</span> (!set.add(board[i][j] + <span class="string">" in row "</span> + i) </div><div class="line">                    || !set.add(board[i][j] + <span class="string">" in col "</span> + j) </div><div class="line">                    || !set.add(board[i][j] + <span class="string">" in block "</span> + (i / <span class="number">3</span>) + <span class="string">'-'</span> + (j / <span class="number">3</span>))) &#123;</div><div class="line">                    <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h5 id="类似362-design-hit-counter详情母鸡"><a href="#类似362-design-hit-counter详情母鸡" class="headerlink" title="类似362. design-hit-counter详情母鸡"></a>类似<a href="https://leetcode.com/problems/design-hit-counter/description/" target="_blank" rel="external">362. design-hit-counter</a>详情母鸡</h5><ul>
<li>定义 <code>eventOccur()</code>，<code>numEvent()</code> 方法，有个sliding window size N。然后扩展，减少空间，Map，加一个功能，返回当前时间<code>eventOccur()</code> call次数最多的时间，要求 amortized O(1), 楼主一时想不到，最后只想到类似 LFU 的那种 2 map + DLL，1 个 map key 是 count，DLL 存 Cell(time, count)，一个就是整个cell。这个能保证O(logN), 面试官表示满意，方法不错，但是他后来是说，既然之前用了 queue 存所有 time + count，直接maintain 一个 max variable，每次 max variable 超过了 sliding window，则遍历 剩下的queue里的 count 就好，对于无限流，这个就是 amortized O(1), 但是楼主想不通，就举了个，每次 时间下 call evenOccur() 次数是递减的，那么就是每次都是O(n); 面试官表示是的，这个特殊的例子是O(n), generally 还是每 N 次才更新。</li>
</ul>
<p><img src="https://ww1.sinaimg.cn/large/9b3a5c2fly1fw447d2fm2j20q20q0tbb.jpg" alt=""></p>
<hr>
<h3 id="以下是卡拉特面经"><a href="#以下是卡拉特面经" class="headerlink" title="以下是卡拉特面经"></a>以下是卡拉特面经</h3><h4 id="统计点击率"><a href="#统计点击率" class="headerlink" title="统计点击率"></a><a href="http://www.1point3acres.com/bbs/thread-381271-1-1.html" target="_blank" rel="external">统计点击率</a></h4><ul>
<li>给一堆网址和点击率，求不同部分域名的点击率。如<code>mobile.sports.yahoo.com</code>就需要统计四个部分。<a href="https://leetcode.com/problems/subdomain-visit-count/description/" target="_blank" rel="external">lc 811</a></li>
<li>split之后搞就行了。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> List&lt;String&gt; <span class="title">subdomainVisits</span><span class="params">(String[] cpdomains)</span> </span>&#123;</div><div class="line">    List&lt;String&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">    <span class="keyword">if</span> (cpdomains == <span class="keyword">null</span> || cpdomains.length == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> ans;</div><div class="line">    &#125;</div><div class="line">    Map&lt;String, Integer&gt; map = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">    <span class="keyword">for</span> (String cpdomain : cpdomains) &#123;</div><div class="line">        String[] data = cpdomain.split(<span class="string">" "</span>);</div><div class="line">        <span class="keyword">int</span> count = Integer.parseInt(data[<span class="number">0</span>]);</div><div class="line">        <span class="keyword">int</span> index = <span class="number">0</span>;</div><div class="line">        <span class="keyword">while</span> (index &gt;= <span class="number">0</span>) &#123;</div><div class="line">            String key = data[<span class="number">1</span>].substring(index == <span class="number">0</span> ? index : index + <span class="number">1</span>);</div><div class="line">            map.put(key, map.getOrDefault(key, <span class="number">0</span>) + count);</div><div class="line">            index = data[<span class="number">1</span>].indexOf(<span class="string">"."</span>, index + <span class="number">1</span>);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span> (String key : map.keySet()) &#123;</div><div class="line">        ans.add(map.get(key) + <span class="string">" "</span> + key);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ans;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="求最长公共子数组"><a href="#求最长公共子数组" class="headerlink" title="求最长公共子数组"></a><a href="http://www.1point3acres.com/bbs/thread-381271-1-1.html" target="_blank" rel="external">求最长公共子数组</a></h4><ul>
<li>实现一个函数取两个数组作为input，求这两个数组的最长公共元素。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">public</span> <span class="keyword">static</span> String[] longestCommonSubarray(String[] log1, String[] log2) &#123;</div><div class="line">    <span class="keyword">if</span> (log1 == <span class="keyword">null</span> || log2 == <span class="keyword">null</span> || log1.length == <span class="number">0</span> || log2.length == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> maxLen = <span class="number">0</span>, end = -<span class="number">1</span>;</div><div class="line">    <span class="keyword">int</span>[][] dp = <span class="keyword">new</span> <span class="keyword">int</span>[log1.length + <span class="number">1</span>][log2.length + <span class="number">1</span>];</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= log1.length; i++) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt;= log2.length; j++) &#123;</div><div class="line">            <span class="keyword">if</span> (i == <span class="number">0</span> || j == <span class="number">0</span>) &#123;</div><div class="line">                dp[i][j] = <span class="number">0</span>;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                <span class="keyword">if</span> (log1[i - <span class="number">1</span>].equals(log2[j - <span class="number">1</span>])) &#123;</div><div class="line">                    dp[i][j] = <span class="number">1</span> + dp[i - <span class="number">1</span>][j - <span class="number">1</span>];</div><div class="line">                    <span class="keyword">if</span> (dp[i][j] &gt; maxLen) &#123;</div><div class="line">                        maxLen = dp[i][j];</div><div class="line">                        end = i;</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (maxLen == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">new</span> String[] &#123;<span class="string">"None"</span>&#125;;</div><div class="line">    &#125;</div><div class="line">    String[] ret = <span class="keyword">new</span> String[maxLen];</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; ret.length; i++) &#123;</div><div class="line">        ret[i] = log1[end - maxLen + i];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ret;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="矩阵中最长上升序列"><a href="#矩阵中最长上升序列" class="headerlink" title="矩阵中最长上升序列"></a><a href="http://www.1point3acres.com/bbs/thread-446040-1-1.html" target="_blank" rel="external">矩阵中最长上升序列</a></h4><ul>
<li>给一个矩阵，求最长上升序列的长度。<a href="https://leetcode.com/problems/longest-increasing-path-in-a-matrix/description/" target="_blank" rel="external">lc 329</a>.<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">longestIncreasingPath</span><span class="params">(<span class="keyword">int</span>[][] matrix)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (matrix == <span class="keyword">null</span> || matrix.length == <span class="number">0</span> || matrix[<span class="number">0</span>].length == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> rowTotal = matrix.length, colTotal = matrix[<span class="number">0</span>].length, len = <span class="number">0</span>;</div><div class="line">    <span class="keyword">int</span>[][] cache = <span class="keyword">new</span> <span class="keyword">int</span>[rowTotal][colTotal];</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; rowTotal; i++) &#123;</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; colTotal; j++) &#123;</div><div class="line">            len = Math.max(len, getLen(matrix, cache, i, j));</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> len;</div><div class="line">&#125;</div><div class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span>[][] dirs = &#123;&#123;<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;-<span class="number">1</span>, <span class="number">0</span>&#125;, &#123;<span class="number">0</span>, <span class="number">1</span>&#125;, &#123;<span class="number">0</span>, -<span class="number">1</span>&#125;&#125;;</div><div class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getLen</span><span class="params">(<span class="keyword">int</span>[][] matrix, <span class="keyword">int</span>[][] cache, <span class="keyword">int</span> i, <span class="keyword">int</span> j)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (i &lt; <span class="number">0</span> || i &gt; matrix.length || j &lt; <span class="number">0</span> || j &gt; matrix[i].length) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (cache[i][j] &gt; <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> cache[i][j];</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> len = <span class="number">1</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span>[] dir : dirs) &#123;</div><div class="line">        <span class="keyword">int</span> rowNext = i + dir[<span class="number">0</span>];</div><div class="line">        <span class="keyword">int</span> colNext = j + dir[<span class="number">1</span>];</div><div class="line">        <span class="keyword">if</span> (rowNext &lt; <span class="number">0</span> || rowNext &gt;= matrix.length</div><div class="line">            || colNext &lt; <span class="number">0</span> || colNext &gt;= matrix[rowNext].length</div><div class="line">            || matrix[rowNext][colNext] &lt;= matrix[i][j]) &#123;</div><div class="line">            <span class="keyword">continue</span>;</div><div class="line">        &#125;</div><div class="line">        <span class="keyword">int</span> nextLen = getLen(matrix, cache, rowNext, colNext);</div><div class="line">        len = Math.max(nextLen + <span class="number">1</span>, len);</div><div class="line">    &#125;</div><div class="line">    cache[i][j] = len;</div><div class="line">    <span class="keyword">return</span> len;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2018-9-20-电面"><a href="#2018-9-20-电面" class="headerlink" title="2018.9.20 电面"></a><a href="http://www.1point3acres.com/bbs/thread-444076-1-1.html" target="_blank" rel="external">2018.9.20 电面</a></h4><ul>
<li>给一个String，只含有数字和加、减。实现eval返回算式的结果。</li>
<li><p>遇到符号就把前面的数字累加/减即可。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">calculate</span><span class="params">(String s)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (s == <span class="keyword">null</span> || s.length() == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> val = <span class="number">0</span>, num = <span class="number">0</span>, sign = <span class="number">1</span>;</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">char</span> c : s.toCharArray()) &#123;</div><div class="line">        <span class="keyword">if</span> (Character.isDigit(c)) &#123;</div><div class="line">            num = num * <span class="number">10</span> + (<span class="keyword">int</span>)(c - <span class="string">'0'</span>);</div><div class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (c == <span class="string">'+'</span> || c == <span class="string">'-'</span>) &#123;</div><div class="line">            val = val + sign * num;</div><div class="line">            num = <span class="number">0</span>;</div><div class="line">            sign = c == <span class="string">'+'</span> ? <span class="number">1</span> : -<span class="number">1</span>;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    val = val + sign * num;</div><div class="line">    <span class="keyword">return</span> val;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>follow-up: 除了上面这些，还含有括号。<a href="https://leetcode.com/problems/basic-calculator/description/" target="_blank" rel="external">lc 224</a>。利用Stack，遇到加减还是直接算个num出来，遇到左括号说明前面的计算告一段落，将前面的数字和符号都push进stack，遇到右括号时就说明当前括号以内的结果出来了，就从栈顶取数值和符号，合并出整体num之后再继续往后。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">calculate</span><span class="params">(String s)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (s == <span class="keyword">null</span> || s.length() == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="number">0</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">int</span> val = <span class="number">0</span>, sign = <span class="number">1</span>;</div><div class="line">    Stack&lt;Integer&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</div><div class="line">        <span class="keyword">if</span> (Character.isDigit(s.charAt(i))) &#123;</div><div class="line">            <span class="keyword">int</span> num = s.charAt(i) - <span class="string">'0'</span>;</div><div class="line">            <span class="keyword">while</span> (i + <span class="number">1</span> &lt; s.length() &amp;&amp; Character.isDigit(s.charAt(i + <span class="number">1</span>))) &#123;</div><div class="line">                num = num * <span class="number">10</span> + (<span class="keyword">int</span>)(s.charAt(++i) - <span class="string">'0'</span>);</div><div class="line">            &#125;</div><div class="line">            val += sign * num;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">if</span> (s.charAt(i) == <span class="string">'+'</span>) &#123;</div><div class="line">                sign = <span class="number">1</span>;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s.charAt(i) == <span class="string">'-'</span>) &#123;</div><div class="line">                sign = -<span class="number">1</span>;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s.charAt(i) == <span class="string">'('</span>) &#123;</div><div class="line">                stack.push(val);</div><div class="line">                stack.push(sign);</div><div class="line">                val = <span class="number">0</span>;</div><div class="line">                sign = <span class="number">1</span>;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s.charAt(i) == <span class="string">')'</span>) &#123;</div><div class="line">                val = stack.pop() * val + stack.pop();</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> val;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>follow-up2: 如果再输入一个map包含一些<code>exp: val</code>对，但是算式中并不是所有的变量都能找到对应的val。可以考虑用replaceAll+正则表达式将输入字符串中的部分换成有效数字。然后还是用stack，只不过现在需要一个类来把数字、字符串、符号wrap起来。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">calculate</span><span class="params">(String s, Map&lt;String, Integer&gt; map)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (s == <span class="keyword">null</span> || s.length() == <span class="number">0</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">for</span> (String key : map.keySet()) &#123;</div><div class="line">        String regStr = String.format(<span class="string">"(?&lt;!\\w)%s(?!\\w)"</span>, key);</div><div class="line">        s = s.replaceAll(regStr, Integer.toString(map.get(key)));</div><div class="line">    &#125;</div><div class="line">    System.out.println(s);</div><div class="line">    Stack&lt;Part&gt; stack = <span class="keyword">new</span> Stack&lt;&gt;();</div><div class="line">    Part curr = <span class="keyword">new</span> Part(<span class="number">0</span>, <span class="keyword">null</span>, <span class="number">1</span>);</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; s.length(); i++) &#123;</div><div class="line">        <span class="keyword">if</span> (Character.isDigit(s.charAt(i))) &#123;</div><div class="line">            <span class="keyword">int</span> num = s.charAt(i) - <span class="string">'0'</span>;</div><div class="line">            <span class="keyword">while</span> (i + <span class="number">1</span> &lt; s.length() &amp;&amp; Character.isDigit(s.charAt(i + <span class="number">1</span>))) &#123;</div><div class="line">                num = num * <span class="number">10</span> + (<span class="keyword">int</span>)(s.charAt(++i) - <span class="string">'0'</span>);</div><div class="line">            &#125;</div><div class="line">            curr.num += curr.sign * num;</div><div class="line">        &#125; <span class="keyword">else</span> &#123;</div><div class="line">            <span class="keyword">if</span> (s.charAt(i) == <span class="string">'+'</span>) &#123;</div><div class="line">                curr.sign = <span class="number">1</span>;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s.charAt(i) == <span class="string">'-'</span>) &#123;</div><div class="line">                curr.sign = -<span class="number">1</span>;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s.charAt(i) == <span class="string">'('</span>) &#123;</div><div class="line">                stack.push(curr);</div><div class="line">                curr = <span class="keyword">new</span> Part(<span class="number">0</span>, <span class="keyword">null</span>, <span class="number">1</span>);</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s.charAt(i) == <span class="string">')'</span>) &#123;</div><div class="line">                Part prev = stack.pop();</div><div class="line">                curr.num = prev.sign * curr.num + prev.num;</div><div class="line">                <span class="keyword">if</span> (curr.var != <span class="keyword">null</span> &amp;&amp; prev.sign &lt; <span class="number">0</span>) &#123;</div><div class="line">                    curr.var.setCharAt(<span class="number">0</span>, curr.var.charAt(<span class="number">0</span>) == <span class="string">'+'</span> ? <span class="string">'-'</span> : <span class="string">'+'</span>);</div><div class="line">                    <span class="keyword">if</span> (prev.var != <span class="keyword">null</span>) &#123;</div><div class="line">                        curr.var.insert(<span class="number">0</span>, prev.var);</div><div class="line">                    &#125;</div><div class="line">                &#125;</div><div class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (s.charAt(i) == <span class="string">' '</span>) &#123;</div><div class="line">                <span class="keyword">continue</span>;</div><div class="line">            &#125; <span class="keyword">else</span> &#123;</div><div class="line">                StringBuilder sb = <span class="keyword">new</span> StringBuilder().append(s.charAt(i));</div><div class="line">                <span class="keyword">while</span> (i + <span class="number">1</span> &lt; s.length() &amp;&amp; s.charAt(i + <span class="number">1</span>) != <span class="string">' '</span></div><div class="line">                        &amp;&amp; s.charAt(i + <span class="number">1</span>) != <span class="string">'+'</span> &amp;&amp; s.charAt(i + <span class="number">1</span>) != <span class="string">'-'</span></div><div class="line">                        &amp;&amp; s.charAt(i + <span class="number">1</span>) != <span class="string">'('</span> &amp;&amp; s.charAt(i + <span class="number">1</span>) != <span class="string">')'</span>) &#123;</div><div class="line">                    sb.append(s.charAt(++i));</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span> (curr.sign &gt; <span class="number">0</span>) &#123;</div><div class="line">                    sb.insert(<span class="number">0</span>, <span class="string">'+'</span>);</div><div class="line">                &#125; <span class="keyword">else</span> &#123;</div><div class="line">                    sb.insert(<span class="number">0</span>, <span class="string">'-'</span>);</div><div class="line">                &#125;</div><div class="line">                <span class="keyword">if</span> (curr.var != <span class="keyword">null</span>) &#123;</div><div class="line">                    sb.insert(<span class="number">0</span>, curr.var);</div><div class="line">                &#125;</div><div class="line">                curr.var = sb;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> curr.toString();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2018-3-14电面"><a href="#2018-3-14电面" class="headerlink" title="2018.3.14电面"></a><a href="http://www.1point3acres.com/bbs/thread-353741-1-1.html" target="_blank" rel="external">2018.3.14电面</a></h4><ul>
<li>给一个二维String数组，每一行存放每个点赞记录<code>url, user, timestamp</code>。1.求每个网站的最早点赞记录。2.给一个user，求与他点赞过的url重复最多的用户。</li>
<li>第一问略。第二问，将数据存入<code>user -&gt; set(url)</code>，和<code>url -&gt; set(user)</code>，根据给定user找到他点赞过的url集合，然后对于里面的每个url找点赞过的用户集合，统计每个用户出现的次数即可。注意这个不是最省memory的方法，可以只维护url2User，同时把这个user访问过的url存入Set，这样就可以只遍历这个set了而不用额外维护每个user访问过那些网站。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> String <span class="title">getCommonUser</span><span class="params">(String[][] logs, String user)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (logs == <span class="keyword">null</span> || logs.length == <span class="number">0</span> || user == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line">    Map&lt;String, Set&lt;String&gt;&gt; user2Url = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">    Map&lt;String, Set&lt;String&gt;&gt; url2User = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">    <span class="keyword">for</span> (String[] log : logs) &#123;</div><div class="line">        user2Url.putIfAbsent(log[<span class="number">0</span>], <span class="keyword">new</span> HashSet&lt;String&gt;());</div><div class="line">        user2Url.get(log[<span class="number">0</span>]).add(log[<span class="number">1</span>]);</div><div class="line">        url2User.putIfAbsent(log[<span class="number">1</span>], <span class="keyword">new</span> HashSet&lt;String&gt;());</div><div class="line">        url2User.get(log[<span class="number">1</span>]).add(log[<span class="number">0</span>]);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">if</span> (!user2Url.containsKey(user)) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125; </div><div class="line">    Set&lt;String&gt; urls = user2Url.get(user);</div><div class="line">    <span class="keyword">int</span> max = <span class="number">0</span>;</div><div class="line">    String ret = <span class="keyword">null</span>;</div><div class="line">    Map&lt;String, Integer&gt; overlapCount = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">    <span class="keyword">for</span> (String url : urls) &#123;</div><div class="line">        Set&lt;String&gt; users = url2User.get(url);</div><div class="line">        <span class="keyword">for</span> (String curr : users) &#123;</div><div class="line">            <span class="keyword">if</span> (curr.equals(user)) &#123;</div><div class="line">                <span class="keyword">continue</span>;</div><div class="line">            &#125;</div><div class="line">            overlapCount.put(curr, overlapCount.getOrDefault(curr, <span class="number">0</span>) + <span class="number">1</span>);</div><div class="line">            <span class="keyword">if</span> (overlapCount.get(curr) &gt; max) &#123;</div><div class="line">                max = overlapCount.get(curr);</div><div class="line">                ret = curr;</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ret;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="2018-9-15-电面"><a href="#2018-9-15-电面" class="headerlink" title="2018.9.15 电面"></a><a href="http://www.1point3acres.com/bbs/thread-443143-1-1.html" target="_blank" rel="external">2018.9.15 电面</a></h4><ul>
<li>给一堆edges。1. 找nodes that have no parents, and nodes that have 1 parent； 2. 找graph中两个node有无common ancestor（直接相连的不算共同祖先）；3. 找furthest ancestor from node。<figure class="highlight java"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> List&lt;Integer&gt; <span class="title">getIndependentNode</span><span class="params">(<span class="keyword">int</span>[][] edges)</span> </span>&#123;</div><div class="line">    <span class="keyword">if</span> (edges == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line">    Map&lt;Integer, Set&lt;Integer&gt;&gt; parentMap = getParentMap(edges);</div><div class="line">    List&lt;Integer&gt; ans = <span class="keyword">new</span> ArrayList&lt;&gt;();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span> key : parentMap.keySet()) &#123;</div><div class="line">        <span class="keyword">if</span> (parentMap.get(key).size() &lt;= <span class="number">1</span>) &#123;</div><div class="line">            ans.add(key);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ans;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">hasCommonAncestor</span><span class="params">(<span class="keyword">int</span>[][] edges, <span class="keyword">int</span> node1, <span class="keyword">int</span> node2)</span> </span>&#123;</div><div class="line">    Map&lt;Integer, Set&lt;Integer&gt;&gt; parentMap = getParentMap(edges);</div><div class="line">    Set&lt;Integer&gt; ancestorSet = <span class="keyword">new</span> HashSet&lt;&gt;();</div><div class="line">    Queue&lt;Integer&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">    q.offer(node1);</div><div class="line">    <span class="keyword">while</span> (!q.isEmpty()) &#123;</div><div class="line">        Set&lt;Integer&gt; parentSet = parentMap.get(q.poll());</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> parent : parentSet) &#123;</div><div class="line">            q.offer(parent);</div><div class="line">            ancestorSet.add(parent);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    </div><div class="line">    q.offer(node2);</div><div class="line">    <span class="keyword">while</span> (!q.isEmpty()) &#123;</div><div class="line">        Set&lt;Integer&gt; parentSet = parentMap.get(q.poll());</div><div class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> parent : parentSet) &#123;</div><div class="line">            <span class="keyword">if</span> (ancestorSet.contains(parent)) &#123;</div><div class="line">                <span class="keyword">return</span> <span class="keyword">true</span>;</div><div class="line">            &#125;</div><div class="line">            q.offer(parent);</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">false</span>;</div><div class="line">&#125;</div><div class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">int</span> <span class="title">getFurthestAncestor</span><span class="params">(<span class="keyword">int</span>[][] edges, <span class="keyword">int</span> node)</span> </span>&#123;</div><div class="line">    <span class="keyword">int</span> ret = -<span class="number">1</span>;</div><div class="line">    <span class="keyword">if</span> (edges == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span> ret;</div><div class="line">    &#125;</div><div class="line">    Map&lt;Integer, Set&lt;Integer&gt;&gt; parentMap = getParentMap(edges);</div><div class="line">    <span class="keyword">if</span> (parentMap.get(node).isEmpty()) &#123;</div><div class="line">        <span class="keyword">return</span> ret;</div><div class="line">    &#125;</div><div class="line">    Queue&lt;Integer&gt; q = <span class="keyword">new</span> LinkedList&lt;&gt;();</div><div class="line">    q.offer(node);</div><div class="line">    <span class="keyword">while</span> (!q.isEmpty()) &#123;</div><div class="line">        ret = q.peek();</div><div class="line">        <span class="keyword">int</span> size = q.size();</div><div class="line">        <span class="keyword">while</span> (size-- &gt; <span class="number">0</span>) &#123;</div><div class="line">            Set&lt;Integer&gt; parentSet = parentMap.get(q.poll());</div><div class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> parent : parentSet) &#123;</div><div class="line">                q.offer(parent);</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> ret;</div><div class="line">&#125;</div><div class="line"><span class="keyword">private</span> <span class="keyword">static</span> Map&lt;Integer, Set&lt;Integer&gt;&gt; getParentMap(<span class="keyword">int</span>[][] edges) &#123;</div><div class="line">    <span class="keyword">if</span> (edges == <span class="keyword">null</span>) &#123;</div><div class="line">        <span class="keyword">return</span> <span class="keyword">null</span>;</div><div class="line">    &#125;</div><div class="line">    Map&lt;Integer, Set&lt;Integer&gt;&gt; parentMap = <span class="keyword">new</span> HashMap&lt;&gt;();</div><div class="line">    <span class="keyword">for</span> (<span class="keyword">int</span>[] edge : edges) &#123;</div><div class="line">        parentMap.putIfAbsent(edge[<span class="number">0</span>], <span class="keyword">new</span> HashSet&lt;&gt;());</div><div class="line">        parentMap.putIfAbsent(edge[<span class="number">1</span>], <span class="keyword">new</span> HashSet&lt;&gt;());</div><div class="line">        parentMap.get(edge[<span class="number">1</span>]).add(edge[<span class="number">0</span>]);</div><div class="line">    &#125;</div><div class="line">    <span class="keyword">return</span> parentMap;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>

      
    </div>

    

    
    
    

    

    
      
    
    
      <div>
        <div style="padding: 10px 0; margin: 20px auto; width: 90%; text-align: center;">
  <div>└(^o^)┘</div>
  <button id="rewardButton" disable="enable" onclick="var qr = document.getElementById('QR'); if (qr.style.display === 'none') {qr.style.display='block';} else {qr.style.display='none'}">
    <span>Donate</span>
  </button>
  <div id="QR" style="display: none;">

    
      <div id="wechat" style="display: inline-block">
        <img id="wechat_qr" src="/images/wechat.png" alt="Bob_波波 WeChat Pay"/>
        <p>WeChat Pay</p>
      </div>
    

    
      <div id="alipay" style="display: inline-block">
        <img id="alipay_qr" src="/images/alipay.png" alt="Bob_波波 Alipay"/>
        <p>Alipay</p>
      </div>
    

    
    <br>
    <div id="paypal-button">
      <form action="https://www.paypal.com/cgi-bin/webscr" method="post" target="_top">
        <input type="hidden" name="cmd" value="_donations" />
        <input type="hidden" name="business" value="XPMQMQD8XQUPL" />
        <input type="hidden" name="currency_code" value="USD" />
        <input type="image" src="https://www.paypalobjects.com/en_US/i/btn/btn_donateCC_LG.gif" border="0" name="submit" title="PayPal - The safer, easier way to pay online!" alt="Donate with PayPal button" />
      </form>
    </div>

  </div>
</div>

      </div>
    

    

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/algorithm/" rel="tag"><i class="fa fa-tag"></i> algorithm</a>
          
            <a href="/tags/interview/" rel="tag"><i class="fa fa-tag"></i> interview</a>
          
            <a href="/tags/java/" rel="tag"><i class="fa fa-tag"></i> java</a>
          
        </div>
      

      
      
        <div class="post-widgets">
        

        

        
          
          <div class="social_share">
            
            
               <div id="needsharebutton-postbottom">
                 <span class="btn">
                    <i class="fa fa-share-alt" aria-hidden="true"></i>
                 </span>
               </div>
            
          </div>
        
        </div>
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2018/09/20/twitter/" rel="next" title="推特">
                <i class="fa fa-chevron-left"></i> 推特
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2019/01/06/gcp_ssr/" rel="prev" title="使用Google Cloud Platform运行SSR实现FQ">
                使用Google Cloud Platform运行SSR实现FQ <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </div>
  
  
  
  </article>


  </div>


          </div>
          

  
    <div class="comments" id="comments">
      <div id="disqus_thread">
        <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
      </div>
    </div>

  



        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    
    <div class="sidebar-inner">

      

      
        <ul class="sidebar-nav motion-element">
          <li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">
            Table of Contents
          </li>
          <li class="sidebar-nav-overview" data-target="site-overview-wrap">
            Overview
          </li>
        </ul>
      

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-overview">
          <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
            
              <img class="site-author-image" itemprop="image"
                src="/images/avatar.jpg"
                alt="Bob_波波"/>
            
              <p class="site-author-name" itemprop="name">Bob_波波</p>
              <p class="site-description motion-element" itemprop="description">I'm a Software Engineer!</p>
          </div>

          
            <nav class="site-state motion-element">
              
                <div class="site-state-item site-state-posts">
                
                  <a href="/archives/">
                
                    <span class="site-state-item-count">46</span>
                    <span class="site-state-item-name">posts</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-categories">
                  <a href="/categories/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">4</span>
                    <span class="site-state-item-name">categories</span>
                  </a>
                </div>
              

              
                
                
                <div class="site-state-item site-state-tags">
                  <a href="/tags/index.html">
                    
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                      
                    
                    <span class="site-state-item-count">46</span>
                    <span class="site-state-item-name">tags</span>
                  </a>
                </div>
              
            </nav>
          

          

          

          

          
          

          
            
          
          

        </div>
      </div>

      
      <!--noindex-->
        <div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active">
          <div class="post-toc">

            
            
            
            

            
              <div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-4"><a class="nav-link" href="#2018-8-9"><span class="nav-text">2018.8.9</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#269-alien-dictionary-x3"><span class="nav-text">269. alien-dictionary x3</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#271-encode-and-decode-strings"><span class="nav-text">271. encode-and-decode-strings</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2018-8-4-电面"><span class="nav-text">2018.8.4 电面</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2018-9-14-Onsite"><span class="nav-text">2018.9.14 Onsite</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#425-word-squares-x2"><span class="nav-text">425. word-squares x2</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2018-4-Onsite"><span class="nav-text">2018.4 Onsite</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#index-sum"><span class="nav-text">index sum</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#463-island-perimeter-x2"><span class="nav-text">463. island-perimeter x2</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2018-9-Onsite"><span class="nav-text">2018.9 Onsite</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#permutation系列"><span class="nav-text">permutation系列</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2016-8-onsite"><span class="nav-text">2016.8 onsite</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Letter-Combinations-of-a-Phone-Number-with-isWord-API"><span class="nav-text">Letter Combinations of a Phone Number with isWord() API</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Duplicate-Files-in-directory"><span class="nav-text">Duplicate Files in directory</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#走到0"><span class="nav-text">走到0</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#merge-K-sorted-list"><span class="nav-text">merge K sorted list</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2018-4-Onsite-x2"><span class="nav-text">2018.4 Onsite x2</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#battle-ship游戏"><span class="nav-text">battle ship游戏</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#277-find-the-celebrity-x2"><span class="nav-text">277. find-the-celebrity x2</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#759-employee-free-time"><span class="nav-text">759. employee-free-time</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#求出现次数多于n-4的元素"><span class="nav-text">求出现次数多于n/4的元素</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2018-5-Oniste"><span class="nav-text">2018.5 Oniste</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#blacklist-of-words"><span class="nav-text">blacklist of words</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2018-3-Onsite-x2"><span class="nav-text">2018.3 Onsite x2</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#Longest-increasing-path-in-the-binary-tree"><span class="nav-text">Longest increasing path in the binary tree</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2018-6-Onsite"><span class="nav-text">2018.6 Onsite</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2018-2-电面"><span class="nav-text">2018.2 电面</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2018-3-Onsite"><span class="nav-text">2018.3 Onsite</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#31-next-permutation"><span class="nav-text">31. next-permutation</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2018-7-Onsite"><span class="nav-text">2018.7 Onsite</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#133-clone-graph"><span class="nav-text">133. clone-graph</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#20-valid-parentheses"><span class="nav-text">20. valid-parentheses</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2018-5-Onsite"><span class="nav-text">2018.5 Onsite</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#29-divide-two-integers"><span class="nav-text">29. divide-two-integers</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2018-5-21-电面"><span class="nav-text">2018.5.21 电面</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2018-7-1-电面-x2"><span class="nav-text">2018.7.1 电面 x2</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2018-2-13-电面-x3"><span class="nav-text">2018.2.13 电面 x3</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2017-11-电面"><span class="nav-text">2017.11 电面</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2015-10-电面"><span class="nav-text">2015.10 电面</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#785-is-graph-bipartite-x3"><span class="nav-text">785. is-graph-bipartite x3</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2017-10-电面"><span class="nav-text">2017.10 电面</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#720-longest-word-in-dictionary"><span class="nav-text">720. longest-word-in-dictionary</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2018-3-电面"><span class="nav-text">2018.3 电面</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#426-convert-binary-search-tree-to-sorted-doubly-linked-list"><span class="nav-text">426. convert-binary-search-tree-to-sorted-doubly-linked-list</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2017-12-电面"><span class="nav-text">2017.12 电面</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#127-word-ladder"><span class="nav-text">127. word-ladder</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2017-10-电面-x4"><span class="nav-text">2017.10 电面 x4</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2017-10-电面-1"><span class="nav-text">2017.10 电面</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2018-3-Onsite-1"><span class="nav-text">2018.3 Onsite</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#LC-146-LRU"><span class="nav-text">LC 146 LRU</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2018-1-Onsite"><span class="nav-text">2018.1 Onsite</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#437-path-sum-iii"><span class="nav-text">437. path-sum-iii</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#362-design-hit-counter"><span class="nav-text">362. design-hit-counter</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2017-12-Onsite"><span class="nav-text">2017.12 Onsite</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#392-is-subsequence"><span class="nav-text">392. is-subsequence</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2018-5-电面"><span class="nav-text">2018.5 电面</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#67-add-binary"><span class="nav-text">67. add-binary</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2017-11-Onsite"><span class="nav-text">2017.11 Onsite</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#14-longest-common-prefix"><span class="nav-text">14. longest-common-prefix</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2018-8-Onsite"><span class="nav-text">2018.8 Onsite</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#560-subarray-sum-equals-k"><span class="nav-text">560. subarray-sum-equals-k</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2018-5-Onsite-1"><span class="nav-text">2018.5 Onsite</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#698-partition-to-k-equal-sum-subsets"><span class="nav-text">698. partition-to-k-equal-sum-subsets</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#数组与query-x2"><span class="nav-text">数组与query x2</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2017-11-Onsite-1"><span class="nav-text">2017.11 Onsite</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#139-word-break"><span class="nav-text">139. word-break</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#column放pin"><span class="nav-text">column放pin</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#Merge-interval"><span class="nav-text">Merge interval</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2018-7-Onsite-1"><span class="nav-text">2018.7 Onsite</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#相似Set"><span class="nav-text">相似Set</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2016-5-Onsite"><span class="nav-text">[2016.5 Onsite]</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#124-binary-tree-maximum-path-sum"><span class="nav-text">124. binary-tree-maximum-path-sum</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#meeting-rooms-ii变种"><span class="nav-text">meeting-rooms-ii变种</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#判断相同文件"><span class="nav-text">判断相同文件</span></a></li></ol></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2018-5-Onsite-2"><span class="nav-text">2018.5 Onsite</span></a><ol class="nav-child"><li class="nav-item nav-level-5"><a class="nav-link" href="#read-n-characters-given-read4变种"><span class="nav-text">read-n-characters-given-read4变种</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#见上面的word-ladder"><span class="nav-text">见上面的word-ladder</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#36-valid-sudoku"><span class="nav-text">36. valid-sudoku</span></a></li><li class="nav-item nav-level-5"><a class="nav-link" href="#类似362-design-hit-counter详情母鸡"><span class="nav-text">类似362. design-hit-counter详情母鸡</span></a></li></ol></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#以下是卡拉特面经"><span class="nav-text">以下是卡拉特面经</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#统计点击率"><span class="nav-text">统计点击率</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#求最长公共子数组"><span class="nav-text">求最长公共子数组</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#矩阵中最长上升序列"><span class="nav-text">矩阵中最长上升序列</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2018-9-20-电面"><span class="nav-text">2018.9.20 电面</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2018-3-14电面"><span class="nav-text">2018.3.14电面</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2018-9-15-电面"><span class="nav-text">2018.9.15 电面</span></a></li></ol></div>
            

          </div>
        </div>
      <!--/noindex-->
      

      
        <div class="back-to-top">
          <i class="fa fa-arrow-up"></i>
          
        </div>
      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright">&copy; 2016 – <span itemprop="copyrightYear">2020</span>
  <span class="with-love" id="animate">
    <i class="fa fa-futbol-o"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Bob_波波</span>

  

  
</div>


  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a></div>



  <span class="post-meta-divider">|</span>



  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a></div>




        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>

  
    <span class="site-uv" title="Total Visitors">
      <i class="fa fa-user"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_uv"></span>
    </span>
  

  
    <span class="post-meta-divider">|</span>
  

  
    <span class="site-pv" title="Total Views">
      <i class="fa fa-history"></i>
      <span class="busuanzi-value" id="busuanzi_value_site_pv"></span>
    </span>
  
</div>









        
      </div>
    </footer>

    

    

    

    
      <div>
        <!-- Go to www.addthis.com/dashboard to customize your tools -->
<div class="addthis_inline_share_toolbox">
  <script type = "text/javascript" src = "//s7.addthis.com/js/300/addthis_widget.js#pubid=ra-593135f4e114024c" async = "async" ></script>
</div>

      </div>
    
  </div>

  

<script>
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>


























  
  <script src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>


  


  <script src="/js/src/utils.js?v=6.7.0"></script>

  <script src="/js/src/motion.js?v=6.7.0"></script>



  
  


  <script src="/js/src/affix.js?v=6.7.0"></script>

  <script src="/js/src/schemes/pisces.js?v=6.7.0"></script>



  
  <script src="/js/src/scrollspy.js?v=6.7.0"></script>
<script src="/js/src/post-details.js?v=6.7.0"></script>



  


  <script src="/js/src/bootstrap.js?v=6.7.0"></script>



  

  
    <script id="dsq-count-scr" src="https://bobbyliujb.disqus.com/count.js" async></script>
  

  
    <script>
      var disqus_config = function () {
        this.page.url = "https://bobbyliujb.github.io/2018/09/30/pinterest/";
        this.page.identifier = "2018/09/30/pinterest/";
        this.page.title = '拼扯惹斯特';
        };
      function loadComments () {
        var d = document, s = d.createElement('script');
        s.src = 'https://bobbyliujb.disqus.com/embed.js';
        s.setAttribute('data-timestamp', '' + +new Date());
        (d.head || d.body).appendChild(s);
      }
      
        loadComments();
      
    </script>
  













  

  <script>
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-circle-o-notch fa-spin fa-3x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url).replace(/\/{2,}/g, '/');
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('10');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x"></i></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  
  <script>
    
    function addCount(Counter) {
      var $visitors = $(".leancloud_visitors");
      var url = $visitors.attr('id').trim();
      var title = $visitors.attr('data-flag-title').trim();

      Counter('get', '/classes/Counter', { where: JSON.stringify({ url }) })
        .done(function ({ results }) {
          if (results.length > 0) {
            var counter = results[0];
            
            Counter('put', `/classes/Counter/${counter.objectId}`, JSON.stringify({ time: { "__op":"Increment", "amount":1 } }))
            
            .done(function () {
                  var $element = $(document.getElementById(url));
                  $element.find('.leancloud-visitors-count').text(counter.time + 1);
            })
            
            .fail(function ({ responseJSON }) {
                console.log('Failed to save Visitor num, with error message: ' + responseJSON.error);
            })
          } else {
            
              Counter('post', '/classes/Counter', JSON.stringify({ title: title, url: url, time: 1}))
                .done(function () {
                  var $element = $(document.getElementById(url));
                  $element.find('.leancloud-visitors-count').text(1);
                })
                .fail(function () {
                  console.log('Failed to create');
                });
            
          }
        })
      .fail(function ({ responseJSON }) {
        console.log('LeanCloud Counter Error:' + responseJSON.code + " " + responseJSON.error);
      });
    }
    

    $(function() {
      $.get('https://app-router.leancloud.cn/2/route?appId=' + "jT7i5auNazMHRONSPUHmcoko-gzGzoHsz")
        .done(function ({ api_server }) {
          var Counter = function (method, url, data) {
            return $.ajax({
              method: method,
              url: `https://${api_server}/1.1${url}`,
              headers: {
                'X-LC-Id': "jT7i5auNazMHRONSPUHmcoko-gzGzoHsz",
                'X-LC-Key': "dEWwuVre5Svmwvjw2DmcIbLy",
                'Content-Type': 'application/json',
              },
              data: data,
            });
          };
          
          addCount(Counter);
          
        })
    });
  </script>



  

  

  

  

  
  
  
  <script src="/lib/needsharebutton/needsharebutton.js"></script>
  <script>
    
      pbOptions = {};
      
        pbOptions.iconStyle = "box";
      
        pbOptions.boxForm = "horizontal";
      
        pbOptions.position = "topCenter";
      
        pbOptions.networks = "Linkedin,Weibo,Wechat,Twitter,Facebook,Pinterest,GooglePlus,Evernote,Reddit,Douban,QQZone,Mailto";
      
      new needShareButton('#needsharebutton-postbottom', pbOptions);
    
    
  </script>


  

  

  

  

  

  

  

</body>
</html>
