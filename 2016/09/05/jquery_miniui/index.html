<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico">
  <link rel="mask-icon" href="/images/favicon.ico" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"bobbyliujb.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.23.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"hide","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="那本厚厚的JavaScript高级程序设计还没看完，先开动jQuery。早就听说jQuery的强大，这个jQuery MiniUI是基于它的，强于处理表格数据，提供了方便的API，可以研究一波。">
<meta property="og:type" content="article">
<meta property="og:title" content="Note for Ducumentation of jQuery MiniUI">
<meta property="og:url" content="https://bobbyliujb.github.io/2016/09/05/jquery_miniui/index.html">
<meta property="og:site_name" content="Bob&#39;s Blog">
<meta property="og:description" content="那本厚厚的JavaScript高级程序设计还没看完，先开动jQuery。早就听说jQuery的强大，这个jQuery MiniUI是基于它的，强于处理表格数据，提供了方便的API，可以研究一波。">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2016-09-05T17:10:45.000Z">
<meta property="article:modified_time" content="2016-09-08T14:40:28.000Z">
<meta property="article:author" content="Bob">
<meta property="article:tag" content="frontend">
<meta property="article:tag" content="js">
<meta property="article:tag" content="jQuery">
<meta name="twitter:card" content="summary">


<link rel="canonical" href="https://bobbyliujb.github.io/2016/09/05/jquery_miniui/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://bobbyliujb.github.io/2016/09/05/jquery_miniui/","path":"2016/09/05/jquery_miniui/","title":"Note for Ducumentation of jQuery MiniUI"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Note for Ducumentation of jQuery MiniUI | Bob's Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-118868735-1"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-118868735-1","only_pageview":false,"measure_protocol_api_secret":null}</script>
  <script src="/js/third-party/analytics/google-analytics.js" defer></script>








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  






  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Bob's Blog</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="home fa-fw"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="archive fa-fw"></i>Archives</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A6%82%E8%BF%B0"><span class="nav-number">1.</span> <span class="nav-text">概述</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#MiniUI"><span class="nav-number">1.0.1.</span> <span class="nav-text">MiniUI</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%85%B6%E4%BB%96%E5%BC%80%E5%8F%91%E7%8E%AF%E5%A2%83%E9%85%8D%E7%BD%AE"><span class="nav-number">1.0.2.</span> <span class="nav-text">其他开发环境配置</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%A1%A8%E6%A0%BC-CRUD"><span class="nav-number">2.</span> <span class="nav-text">表格(CRUD)</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#CRUD%E5%A2%9E%E6%9F%A5%E6%94%B9%E5%88%A0"><span class="nav-number">2.0.1.</span> <span class="nav-text">CRUD增查改删</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%8D%95%E5%85%83%E6%A0%BC%E7%BC%96%E8%BE%91"><span class="nav-number">2.0.2.</span> <span class="nav-text">单元格编辑</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%8C%E7%BC%96%E8%BE%91"><span class="nav-number">2.0.3.</span> <span class="nav-text">行编辑</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A8%E5%8D%95%E6%8F%90%E4%BA%A4-%E5%BC%B9%E5%87%BA%E9%9D%A2%E6%9D%BF%E6%8F%90%E4%BA%A4"><span class="nav-number">2.0.4.</span> <span class="nav-text">表单提交&#x2F;弹出面板提交</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E8%A1%A8%E5%8D%95%E6%8E%A7%E4%BB%B6"><span class="nav-number">3.</span> <span class="nav-text">表单控件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A"><span class="nav-number">3.0.1.</span> <span class="nav-text">数据绑定</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%A1%A8%E5%8D%95"><span class="nav-number">3.0.2.</span> <span class="nav-text">表单</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%BC%B9%E5%87%BA%E9%80%89%E6%8B%A9%E8%A1%A8%E6%A0%BC"><span class="nav-number">3.0.3.</span> <span class="nav-text">弹出选择表格</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%B0%8F%E9%83%A8%E4%BB%B6"><span class="nav-number">3.0.4.</span> <span class="nav-text">小部件</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E6%A0%91%E5%BD%A2%E6%8E%A7%E4%BB%B6"><span class="nav-number">4.</span> <span class="nav-text">树形控件</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#%E5%88%9B%E5%BB%BA%E6%A0%91"><span class="nav-number">4.0.1.</span> <span class="nav-text">创建树</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%91%E7%9A%84%E6%87%92%E5%8A%A0%E8%BD%BD"><span class="nav-number">4.0.2.</span> <span class="nav-text">树的懒加载</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E6%A0%91%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="nav-number">4.0.3.</span> <span class="nav-text">树的操作</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E4%B8%BA%E6%A0%91%E5%88%9B%E5%BB%BA%E5%8F%B3%E9%94%AE%E8%8F%9C%E5%8D%95"><span class="nav-number">4.0.4.</span> <span class="nav-text">为树创建右键菜单</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#%E5%AF%BC%E8%88%AA"><span class="nav-number">5.</span> <span class="nav-text">导航</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Toolbar%E5%B7%A5%E5%85%B7%E6%A0%8F"><span class="nav-number">5.0.1.</span> <span class="nav-text">Toolbar工具栏</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#%E8%8F%9C%E5%8D%95"><span class="nav-number">5.0.2.</span> <span class="nav-text">菜单</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ContextMenu"><span class="nav-number">5.0.3.</span> <span class="nav-text">ContextMenu</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Tabs%E9%80%89%E9%A1%B9%E5%8D%A1"><span class="nav-number">5.0.4.</span> <span class="nav-text">Tabs选项卡</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Outlook%E9%9D%A2%E6%9D%BF%E7%B3%BB%E5%88%97"><span class="nav-number">5.0.5.</span> <span class="nav-text">Outlook面板系列</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Pager%E5%88%86%E9%A1%B5"><span class="nav-number">5.0.6.</span> <span class="nav-text">Pager分页</span></a></li></ol></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Bob"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Bob</p>
  <div class="site-description" itemprop="description">I'm a Software Engineer!</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">48</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">49</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://bobbyliujb.github.io/2016/09/05/jquery_miniui/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Bob">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bob's Blog">
      <meta itemprop="description" content="I'm a Software Engineer!">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Note for Ducumentation of jQuery MiniUI | Bob's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Note for Ducumentation of jQuery MiniUI
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2016-09-05 10:10:45" itemprop="dateCreated datePublished" datetime="2016-09-05T10:10:45-07:00">2016-09-05</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2016-09-08 07:40:28" itemprop="dateModified" datetime="2016-09-08T07:40:28-07:00">2016-09-08</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Tech/" itemprop="url" rel="index"><span itemprop="name">Tech</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2016/09/05/jquery_miniui/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/09/05/jquery_miniui/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><p>那本厚厚的JavaScript高级程序设计还没看完，先开动jQuery。早就听说jQuery的强大，这个jQuery MiniUI是基于它的，强于处理表格数据，提供了方便的API，可以研究一波。</p>
<span id="more"></span>


<h1 id="概述"><a href="#概述" class="headerlink" title="概述"></a>概述</h1><hr>
<h3 id="MiniUI"><a href="#MiniUI" class="headerlink" title="MiniUI"></a>MiniUI</h3><p> 在<a target="_blank" rel="noopener" href="http://www.miniui.com/download">MiniUI</a>官网下载对应版本的MiniUI。不过其实开发前端只用到里面的几个js文件和miniui文件夹而已。对于我下载的这个mini_java版本而言，就是<code>WebContent\scripts</code>中的miniui文件夹、boot.js、jquery-1.6.2.min.js、tongji.js。这里的tongji其实是个空文件，暂时不知用途。</p>
<h3 id="其他开发环境配置"><a href="#其他开发环境配置" class="headerlink" title="其他开发环境配置"></a>其他开发环境配置</h3><p> 除了前端的MiniUI，事实上这边还需要用Java的maven来构建ssh框架。为此安装了jdk-6u20-windows-i86, mysql-5.0.22-win32, Eclipse Java EE Indigo。暂时还没有学这些。</p>
<h1 id="表格-CRUD"><a href="#表格-CRUD" class="headerlink" title="表格(CRUD)"></a>表格(CRUD)</h1><hr>
<h3 id="CRUD增查改删"><a href="#CRUD增查改删" class="headerlink" title="CRUD增查改删"></a>CRUD增查改删</h3><p> C-create, R-retrieve, U-update, D-delete，对应到数据库中最常用的四个操作“增查改删”。在MiniUI中，主要是以表格的形式呈现数据的，MiniUI提供了对这些数据的可视化CRUD操作。在MiniUI文档中，主要介绍了4种方式来update数据。</p>
<h3 id="单元格编辑"><a href="#单元格编辑" class="headerlink" title="单元格编辑"></a>单元格编辑</h3><p> 直接在数据列表中，点击每个单元格直接进行修改，不需要二级界面。在MiniUI中为div添加<code>class=&quot;mini-datagrid&quot;</code>属性即可使用内置的数据表格样式。而设置单元格点击编辑其实十分简单，首先为mini-datagrid的div添加<code>allowCellEdit=&quot;true&quot;</code>和<code>allowCellSelect=&quot;true&quot;</code>，然后在对应的div列的单元格添加input标签并添加<code>property=&quot;editor&quot;</code>属性。具体如下:</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;datagrid&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mini-datagrid&quot;</span> <span class="attr">allowCellEdit</span>=<span class="string">&quot;true&quot;</span> <span class="attr">allowCellSelect</span>=<span class="string">&quot;true&quot;</span> <span class="attr">multiSelect</span>=<span class="string">&quot;true&quot;</span> <span class="attr">allowResize</span>=<span class="string">&quot;true&quot;</span> <span class="attr">pageSize</span>=<span class="string">&quot;20&quot;</span> <span class="attr">url</span>=<span class="string">&quot;../data/AjaxService.aspx?method=SearchEmployees&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">div</span> <span class="attr">property</span>=<span class="string">&quot;columns&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">type</span>=<span class="string">&quot;checkcolumn&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">field</span>=<span class="string">&quot;loginname&quot;</span> <span class="attr">width</span>=<span class="string">&quot;120&quot;</span> <span class="attr">headerAlign</span>=<span class="string">&quot;center&quot;</span> <span class="attr">allowSort</span>=<span class="string">&quot;true&quot;</span>&gt;</span>员工帐号</span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">property</span>=<span class="string">&quot;editor&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mini-textbox&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:100%;&quot;</span>/&gt;</span></span><br><span class="line">      <span class="comment">&lt;!--此外class还有mini-combobox, mini-spinner, mini-datepicker, mini-textarea等选择，对应不同的输入内容--&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">field</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> <span class="attr">headerAlign</span>=<span class="string">&quot;center&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span>&gt;</span>性别</span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">property</span>=<span class="string">&quot;editor&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mini-combobox&quot;</span> <span class="attr">data</span>=<span class="string">&quot;Genders&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">field</span>=<span class="string">&quot;age&quot;</span> <span class="attr">allowSort</span>=<span class="string">&quot;true&quot;</span>&gt;</span>年龄</span><br><span class="line">      <span class="tag">&lt;<span class="name">input</span> <span class="attr">property</span>=<span class="string">&quot;editor&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mini-spinner&quot;</span> <span class="attr">minValue</span>=<span class="string">&quot;0&quot;</span> <span class="attr">maxValue</span>=<span class="string">&quot;200&quot;</span> <span class="attr">value</span>=<span class="string">&quot;25&quot;</span> /&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    ......</span><br><span class="line">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p> 在<a target="_blank" rel="noopener" href="http://www.miniui.com/demo/datagrid/celledit.html">demo</a>中顶部有三个按钮控制数据操作，对应的JavaScript也需要在前端进行处理，不过有现成的grid的<a target="_blank" rel="noopener" href="http://www.miniui.com/docs/api/index.html#ui=datagrid">API方法</a>可以直接调用。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 增加行</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">addRow</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="keyword">var</span> newRow = &#123;</span><br><span class="line">		<span class="attr">name</span>: <span class="string">&quot;New Row&quot;</span></span><br><span class="line">	&#125;</span><br><span class="line">	grid.<span class="title function_">addRow</span>(newRow, <span class="number">0</span>);  <span class="comment">//addRow ( row, index )</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除行</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">removeRow</span>(<span class="params"></span>) &#123;	<span class="comment">// 不需要传入参数，只需要在后面调用API获得勾选项目即可</span></span><br><span class="line">	<span class="keyword">var</span> rows = grid.<span class="title function_">getSelecteds</span>();</span><br><span class="line">	<span class="keyword">if</span> (rows.<span class="property">length</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">		grid.<span class="title function_">removeRows</span>(rows, <span class="literal">true</span>); </span><br><span class="line">		<span class="comment">// removeRows ( rows, autoSelect )，表示是否自动勾选下一项</span></span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 保存</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">saveData</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="keyword">var</span> data = grid.<span class="title function_">getChanges</span>();</span><br><span class="line">	<span class="keyword">var</span> json = mini.<span class="title function_">encode</span>(data);</span><br><span class="line">	grid.<span class="title function_">loading</span>(<span class="string">&quot;这是弹窗显示的内容...&quot;</span>);</span><br><span class="line">	$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">		<span class="attr">url</span>: <span class="string">&quot;../data/AjaxService.aspx?method=SaveChangedEmployees&quot;</span>,</span><br><span class="line">		<span class="attr">data</span>: &#123;<span class="attr">data</span>: json&#125;,</span><br><span class="line">		<span class="attr">type</span>: <span class="string">&quot;post&quot;</span>,</span><br><span class="line">		<span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">text</span>) &#123;</span><br><span class="line">			grid.<span class="title function_">reload</span>();</span><br><span class="line">		&#125;,</span><br><span class="line">		<span class="attr">error</span>: <span class="keyword">function</span>(<span class="params">jqXHR, textStatus, errorThrown</span>) &#123;</span><br><span class="line">			<span class="title function_">alert</span>(jqXHR.<span class="property">responseText</span>);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> 注意上面的post方法就是指明了要修改服务端的数据。在前面用到的SaveChangedEmployees方法如下，不过我暂时不太明白这个看着像是Java的程序怎么在aspx文件中工作。其中用到的TestDB是Java定义的一个类。</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">SaveChangedEmployees</span><span class="params">()</span> &#123;</span><br><span class="line">	<span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> Request[<span class="string">&quot;data&quot;</span>];</span><br><span class="line">	<span class="type">ArrayList</span> <span class="variable">rows</span> <span class="operator">=</span> (ArrayList)PluSoft.Utils.JSON.Decode(json);</span><br><span class="line">	</span><br><span class="line">	foreach(Hashtable row in rows) &#123;</span><br><span class="line">		<span class="type">String</span> <span class="variable">state</span> <span class="operator">=</span> row[<span class="string">&quot;_state&quot;</span>] == <span class="literal">null</span>? <span class="string">&quot;&quot;</span>: row[<span class="string">&quot;_state&quot;</span>].toString();</span><br><span class="line">		<span class="keyword">if</span>  (state == <span class="string">&quot;added&quot;</span>) &#123;</span><br><span class="line">			row[<span class="string">&quot;createTime&quot;</span>] = DateTime.Now;</span><br><span class="line">			<span class="keyword">new</span> <span class="title class_">TestDB</span>().InsertEmployee(row);</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (state == <span class="string">&quot;removed&quot;</span> || state == <span class="string">&quot;deleted&quot;</span>) &#123;</span><br><span class="line">			<span class="type">String</span> <span class="variable">id</span> <span class="operator">=</span> row[<span class="string">&quot;id&quot;</span>].ToString();</span><br><span class="line">			<span class="keyword">new</span> <span class="title class_">TestDB</span>().DeleteEmployee(id);</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (state == <span class="string">&quot;modified&quot;</span>) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">TestDB</span>().UpdateEmployee(row);</span><br><span class="line">        &#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="行编辑"><a href="#行编辑" class="headerlink" title="行编辑"></a>行编辑</h3><p> 在每一行的最前面有三个控制按钮，New, Edit, Delete.增和删与前面一个例子相同，而改则不是通过点击各个单元格修改，而是点击Edit后整行都变为可编辑的input输入框（需设置<code>property=&quot;editor&quot;</code>）。行编辑器html定义如下：</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;datagrid1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mini-datagrid&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">url</span>=<span class="string">&quot;../data/DataService.aspx?method=SearchEmployees&quot;</span> </span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">property</span>=<span class="string">&quot;columns&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">name</span>=<span class="string">&quot;action&quot;</span> <span class="attr">width</span>=<span class="string">&quot;120&quot;</span> <span class="attr">headerAlign</span>=<span class="string">&quot;center&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span> <span class="attr">renderer</span>=<span class="string">&quot;onActionRenderer&quot;</span> <span class="attr">cellStyle</span>=<span class="string">&quot;padding:0;&quot;</span>&gt;</span>#<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">field</span>=<span class="string">&quot;loginname&quot;</span> <span class="attr">width</span>=<span class="string">&quot;120&quot;</span> <span class="attr">headerAlign</span>=<span class="string">&quot;center&quot;</span> <span class="attr">allowSort</span>=<span class="string">&quot;true&quot;</span>&gt;</span>员工帐号</span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">property</span>=<span class="string">&quot;editor&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mini-textbox&quot;</span> /&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span>                </span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">field</span>=<span class="string">&quot;gender&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> <span class="attr">allowSort</span>=<span class="string">&quot;true&quot;</span> <span class="attr">renderer</span>=<span class="string">&quot;onGenderRenderer&quot;</span> <span class="attr">align</span>=<span class="string">&quot;center&quot;</span> <span class="attr">headerAlign</span>=<span class="string">&quot;center&quot;</span>&gt;</span>性别</span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">property</span>=<span class="string">&quot;editor&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mini-combobox&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:100%;&quot;</span> <span class="attr">data</span>=<span class="string">&quot;[&#123;id:1, text:&#x27;男&#x27;&#125;, &#123;id:2, text: &#x27;女&#x27;&#125;]&quot;</span>/&gt;</span>                </span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span>            </span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">field</span>=<span class="string">&quot;age&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> <span class="attr">allowSort</span>=<span class="string">&quot;true&quot;</span>&gt;</span>年龄</span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">property</span>=<span class="string">&quot;editor&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mini-spinner&quot;</span> <span class="attr">minValue</span>=<span class="string">&quot;0&quot;</span> <span class="attr">maxValue</span>=<span class="string">&quot;200&quot;</span> <span class="attr">value</span>=<span class="string">&quot;25&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:100%;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">field</span>=<span class="string">&quot;birthday&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> <span class="attr">allowSort</span>=<span class="string">&quot;true&quot;</span> <span class="attr">dateFormat</span>=<span class="string">&quot;yyyy-MM-dd&quot;</span>&gt;</span>出生日期</span><br><span class="line">            <span class="tag">&lt;<span class="name">input</span> <span class="attr">property</span>=<span class="string">&quot;editor&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mini-datepicker&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:100%;&quot;</span>/&gt;</span></span><br><span class="line">        <span class="tag">&lt;/<span class="name">div</span>&gt;</span>                                    </span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">field</span>=<span class="string">&quot;createtime&quot;</span> <span class="attr">width</span>=<span class="string">&quot;100&quot;</span> <span class="attr">headerAlign</span>=<span class="string">&quot;center&quot;</span> <span class="attr">dateFormat</span>=<span class="string">&quot;yyyy-MM-dd&quot;</span> <span class="attr">allowSort</span>=<span class="string">&quot;true&quot;</span>&gt;</span>创建日期<span class="tag">&lt;/<span class="name">div</span>&gt;</span>                </span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p> 而开始编辑的JavaScript代码也是用到grid对象的API方法，非常方便:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 触发编辑</span></span><br><span class="line">grid.<span class="title function_">beginEditRow</span>(row);	<span class="comment">// row通过grid.getSelected()获得</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 取消编辑</span></span><br><span class="line">grid.<span class="title function_">cancelEdit</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 提交数据</span></span><br><span class="line"><span class="keyword">var</span> rowData = grid.<span class="title function_">getEditRowData</span>(row);</span><br><span class="line">grid.<span class="title function_">loading</span>(<span class="string">&quot;保存中，请稍后......&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> json = mini.<span class="title function_">encode</span>([rowData]);</span><br><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;../data/DataService.aspx?method=SaveEmployees&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123; <span class="attr">employees</span>: json &#125;,</span><br><span class="line">    <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">text</span>) &#123;</span><br><span class="line">        grid.<span class="title function_">reload</span>();</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">error</span>: <span class="keyword">function</span> (<span class="params">jqXHR, textStatus, errorThrown</span>) &#123;</span><br><span class="line">        <span class="title function_">alert</span>(jqXHR.<span class="property">responseText</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="表单提交-弹出面板提交"><a href="#表单提交-弹出面板提交" class="headerlink" title="表单提交&#x2F;弹出面板提交"></a>表单提交&#x2F;弹出面板提交</h3><p> 反正基本套路就是这样，CRUD还有两种内置提供方式可以编辑数据。<br> <a target="_blank" rel="noopener" href="http://www.miniui.com/docs/tutorial/crud_formedit.html">表单编辑</a>的html是使用一个隐藏的table表格作为编辑面板，然后利用grid的方法获取原数据，生成表单并嵌入原详细行下方。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">grid.<span class="title function_">hideAllRowDetail</span>();</span><br><span class="line">gird.<span class="title function_">showRowDetail</span>(row);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> td = grid.<span class="title function_">getRowDetailCellEl</span>(row); <span class="comment">// 获取DOM对象</span></span><br><span class="line">td.<span class="title function_">appendChild</span>(editForm);</span><br><span class="line">editForm.<span class="property">style</span>.<span class="property">display</span>=<span class="string">&quot;&quot;</span>;	<span class="comment">// 取消隐藏</span></span><br></pre></td></tr></table></figure>
<p> 需要将原行的数据加载到的动态插入的表单中</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> form = <span class="keyword">new</span> mini.<span class="title class_">Form</span>(<span class="string">&quot;editForm1&quot;</span>);</span><br><span class="line"><span class="keyword">if</span> (grid.<span class="title function_">isNewRow</span>(row)) &#123;                    </span><br><span class="line">    form.<span class="title function_">reset</span>();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    form.<span class="title function_">loading</span>();</span><br><span class="line">    $.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&quot;../data/DataService.aspx?method=GetEmployee&amp;id=&quot;</span> + row.<span class="property">id</span>,</span><br><span class="line">        <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">text</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> o = mini.<span class="title function_">decode</span>(text);</span><br><span class="line">            form.<span class="title function_">setData</span>(o);                            </span><br><span class="line"></span><br><span class="line">            form.<span class="title function_">unmask</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p> <a target="_blank" rel="noopener" href="http://www.miniui.com/docs/tutorial/crud_popupedit.html">弹出窗口</a>的html是用class&#x3D;”mini-window”的div作为弹出面板来编辑，这就不涉及嵌入原数据行下方的操作了，直接获取原数据填入面板即可。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 加载面板数据</span></span><br><span class="line"><span class="keyword">var</span> editWindow = mini.<span class="title function_">get</span>(<span class="string">&quot;editWindow&quot;</span>);	<span class="comment">// get的是id</span></span><br><span class="line">editWindow.<span class="title function_">show</span>();</span><br><span class="line"><span class="keyword">var</span> form = <span class="keyword">new</span> mini.<span class="title class_">Form</span>(<span class="string">&quot;#editform&quot;</span>);</span><br><span class="line">form.<span class="title function_">loading</span>();</span><br><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;../data/DataService.aspx?method=GetEmployee&amp;id=&quot;</span> + row.<span class="property">id</span>,</span><br><span class="line">    <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">text</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> o = mini.<span class="title function_">decode</span>(text);</span><br><span class="line">        form.<span class="title function_">setData</span>(o);</span><br><span class="line">        form.<span class="title function_">unmask</span>();</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">error</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&quot;表单加载错误&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p> 这两个方法实际上都用到了form表单，所以提交数据可用mini内置对form的处理:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 提交数据</span></span><br><span class="line"><span class="keyword">var</span> form = <span class="keyword">new</span> mini.<span class="title class_">Form</span>(<span class="string">&quot;#editform&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> o = form.<span class="title function_">getData</span>();</span><br><span class="line"></span><br><span class="line">grid.<span class="title function_">loading</span>(<span class="string">&quot;some message...&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> json = mini.<span class="title function_">encode</span>([<span class="number">0</span>]);</span><br><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;../data/DataService.aspx?method=SaveEmployees&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123; <span class="attr">employees</span>: json &#125;,</span><br><span class="line">    <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">text</span>) &#123;</span><br><span class="line">                    </span><br><span class="line">        grid.<span class="title function_">reload</span>();</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">error</span>: <span class="keyword">function</span> (<span class="params">jqXHR, textStatus, errorThrown</span>) &#123;</span><br><span class="line">        <span class="title function_">alert</span>(jqXHR.<span class="property">responseText</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">editWindow.<span class="title function_">hide</span>();</span><br></pre></td></tr></table></figure>


<h1 id="表单控件"><a href="#表单控件" class="headerlink" title="表单控件"></a>表单控件</h1><hr>
<h3 id="数据绑定"><a href="#数据绑定" class="headerlink" title="数据绑定"></a>数据绑定</h3><p> 前面CRUD中的update时，要想让更新后的数据实时反映在原数据中（不是真的保存到数据库，只是修改显示的数据），就可以使用databinding将表单&#x2F;控件的数据与原表格绑定。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// API</span></span><br><span class="line"><span class="comment">// 绑定表单：bindForm(formnamestr, grid)</span></span><br><span class="line"><span class="comment">// 绑定控件：bindField(controlname, grid, fieldnamestr)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//绑定表单</span></span><br><span class="line"><span class="keyword">var</span> db = <span class="keyword">new</span> mini.<span class="title class_">DataBinding</span>();</span><br><span class="line">db.<span class="title function_">bindForm</span>(<span class="string">&quot;editForm1&quot;</span>, grid);</span><br><span class="line"></span><br><span class="line"><span class="comment">//绑定控件</span></span><br><span class="line">db.<span class="title function_">bindField</span>(textbox, grid, <span class="string">&quot;username&quot;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="表单"><a href="#表单" class="headerlink" title="表单"></a>表单</h3><ul>
<li>创建表单: 只要你在html中为div设置好了id，就可以利用这个id创建JavaScript中的表单对象。<br> <code>var form = new mini.Form(&quot;#form1&quot;);</code></li>
<li>加载表单: 使用到了jQuery的$.ajax方法。<code>$.ajax(option)</code>是jQuery最底层的Ajax实现。所谓最底层是相对于$.load(), $.get(), $.post(), $.getJSON(), $.getScript()这些方法来说的，用$.ajax可以实现所有方法，较为全能。该方法只有一个对象参数，这个对象包含了$.ajax()方法所需的请求设置和回调函数等信息，以键:值的形式给出url(发送请求过去的地址)、type(GET或POST)、data（要传送的键值对形式数据）、success（请求成功后的回调函数）等等参数。下面这里虽然用到的是POST，不过其实是抓数据的，所以没有要上传的data。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;../data/FormService.aspx?method=LoadData&quot;</span>,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&quot;post&quot;</span>,</span><br><span class="line">    <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">text</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> data = mini.<span class="title function_">decode</span>(text);   <span class="comment">//反序列化成对象</span></span><br><span class="line">        form.<span class="title function_">setData</span>(data);             <span class="comment">//设置多个控件数据</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>提交表单: 必然用到POST，与上面例子相比就需要data来上传了。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//提交表单数据</span></span><br><span class="line"><span class="keyword">var</span> form = <span class="keyword">new</span> mini.<span class="title class_">Form</span>(<span class="string">&quot;#form1&quot;</span>);            </span><br><span class="line"><span class="keyword">var</span> data = form.<span class="title function_">getData</span>();      <span class="comment">//获取表单多个控件的数据</span></span><br><span class="line"><span class="keyword">var</span> json = mini.<span class="title function_">encode</span>(data);   <span class="comment">//序列化成JSON</span></span><br><span class="line">$.<span class="title function_">ajax</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: <span class="string">&quot;../data/FormService.aspx?method=SaveData&quot;</span>,</span><br><span class="line">    <span class="attr">type</span>: <span class="string">&quot;post&quot;</span>,</span><br><span class="line">    <span class="attr">data</span>: &#123; <span class="attr">submitData</span>: json &#125;,</span><br><span class="line">    <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">text</span>) &#123;</span><br><span class="line">        <span class="title function_">alert</span>(<span class="string">&quot;提交成功，返回结果:&quot;</span> + text);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<ul>
<li>清除表单: <code>form.clear();</code></li>
<li>重置表单: <code>form.reset();</code></li>
<li>表单验证: 在input控件中加入<code>onvalidation=&quot;onUserNameValidation&quot;</code>属性，然后手动编写验证函数绑定过去。当然也可以使用mini-textbox内置的<code>vtype=&quot;email&quot;</code>属性来验证，包括了email、url、int、float、maxLength、minLength、rangeLength、rangeChar、range、date等规则。这些都只是基于控件的验证，随后提交表单时还可以进行一波验证。</li>
</ul>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 绑定validation事件</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">onUserNameValidation</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (e.<span class="property">isValid</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title function_">isEmail</span>(e.<span class="property">value</span>) == <span class="literal">false</span>) &#123;</span><br><span class="line">             e.<span class="property">errorText</span> = <span class="string">&quot;必须为合法的邮箱地址&quot;</span>;</span><br><span class="line">             e.<span class="property">isValid</span> = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 验证表单</span></span><br><span class="line"><span class="keyword">var</span> form = <span class="keyword">new</span> mini.<span class="title class_">Form</span>(<span class="string">&quot;#form1&quot;</span>);</span><br><span class="line">form.<span class="title function_">validate</span>();</span><br><span class="line"><span class="keyword">if</span> (!form.<span class="title function_">isValid</span>()) &#123;</span><br><span class="line">    <span class="title function_">alert</span>(<span class="string">&quot;表单验证失败！&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="弹出选择表格"><a href="#弹出选择表格" class="headerlink" title="弹出选择表格"></a>弹出选择表格</h3><p> 使用<a target="_blank" rel="noopener" href="http://www.miniui.com/docs/api/index.html#ui=messagebox">mini.open</a>弹出子页面，这里就用于弹出带有选择按钮的表格，该子页面存放在url指向的html中。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">mini.<span class="title function_">open</span>(&#123;</span><br><span class="line">    <span class="attr">url</span>: bootPATH + <span class="string">&quot;../demo/CommonLibs/SelectGridWindow.html&quot;</span>,           </span><br><span class="line">    <span class="attr">title</span>: <span class="string">&quot;选择列表&quot;</span>,</span><br><span class="line">    <span class="attr">width</span>: <span class="number">650</span>,</span><br><span class="line">    <span class="attr">height</span>: <span class="number">380</span>,</span><br><span class="line">    <span class="attr">onload</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;       <span class="comment">//弹出页面加载完成</span></span><br><span class="line">        <span class="keyword">var</span> iframe = <span class="variable language_">this</span>.<span class="title function_">getIFrameEl</span>(); </span><br><span class="line">        <span class="keyword">var</span> data = &#123;&#125;;       </span><br><span class="line">        <span class="comment">//调用弹出页面方法进行初始化</span></span><br><span class="line">        iframe.<span class="property">contentWindow</span>.<span class="title class_">SetData</span>(data); </span><br><span class="line">                        </span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">ondestroy</span>: <span class="keyword">function</span> (<span class="params">action</span>) &#123;                  </span><br><span class="line">        <span class="keyword">if</span> (action == <span class="string">&quot;ok&quot;</span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> iframe = <span class="variable language_">this</span>.<span class="title function_">getIFrameEl</span>();                        </span><br><span class="line">            <span class="keyword">var</span> data = iframe.<span class="property">contentWindow</span>.<span class="title class_">GetData</span>();</span><br><span class="line">            data = mini.<span class="title function_">clone</span>(data);    <span class="comment">//必须拷贝数据(why???)</span></span><br><span class="line"></span><br><span class="line">            btnEdit.<span class="title function_">setValue</span>(data.<span class="property">id</span>);</span><br><span class="line">            btnEdit.<span class="title function_">setText</span>(data.<span class="property">name</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);  </span><br></pre></td></tr></table></figure>
<h3 id="小部件"><a href="#小部件" class="headerlink" title="小部件"></a>小部件</h3><p> 这一部分包含了很多控件，多数都是细节，直接查看样例就好了，就不做笔记了。</p>
<ul>
<li><a target="_blank" rel="noopener" href="http://www.miniui.com/docs/tutorial/button.html">Button：按钮</a></li>
<li><a target="_blank" rel="noopener" href="http://www.miniui.com/docs/tutorial/buttonedit.html">ButtonEdit：按钮输入框</a></li>
<li><a target="_blank" rel="noopener" href="http://www.miniui.com/docs/tutorial/textbox.html">TextBox：文本输入框</a></li>
<li><a target="_blank" rel="noopener" href="http://www.miniui.com/docs/tutorial/combobox.html">ComboBox：下拉选择框</a></li>
<li><a target="_blank" rel="noopener" href="http://www.miniui.com/docs/tutorial/combobox2.html">ComboBox：联动选择</a></li>
<li><a target="_blank" rel="noopener" href="http://www.miniui.com/docs/tutorial/datepicker.html">DatePicker：日期选择框</a></li>
<li><a target="_blank" rel="noopener" href="http://www.miniui.com/docs/tutorial/spinner.html">Spinner：数字输入框</a></li>
<li><a target="_blank" rel="noopener" href="http://www.miniui.com/docs/tutorial/treeselect.html">TreeSelect：树形选择框</a></li>
<li><a target="_blank" rel="noopener" href="http://www.miniui.com/docs/tutorial/autocomplete.html">AutoComplete：输入智能提示框</a></li>
<li><a target="_blank" rel="noopener" href="http://www.miniui.com/docs/tutorial/textboxlist.html">TextBoxList：多选输入智能提示框</a></li>
<li><a target="_blank" rel="noopener" href="http://www.miniui.com/docs/tutorial/checkbox.html">CheckBox：复选框</a></li>
<li><a target="_blank" rel="noopener" href="http://www.miniui.com/docs/tutorial/listbox.html">ListBox：列表控件</a></li>
<li><a target="_blank" rel="noopener" href="http://www.miniui.com/docs/tutorial/checkboxlist.html">CheckBoxList：复选框组</a></li>
<li><a target="_blank" rel="noopener" href="http://www.miniui.com/docs/tutorial/radiobuttonlist.html">RadioButtonList：单选框组</a></li>
<li><a target="_blank" rel="noopener" href="http://www.miniui.com/docs/tutorial/fileupload.html">FileUpload：文件上传控件</a></li>
</ul>
<h1 id="树形控件"><a href="#树形控件" class="headerlink" title="树形控件"></a>树形控件</h1><hr>
<h3 id="创建树"><a href="#创建树" class="headerlink" title="创建树"></a>创建树</h3><p> 实际上都是使用ul实现的，为ul添加<code>class=&quot;mini-tree&quot;</code>属性就可以使用内置的树形控件了。而根据数据树中显示的数据来源，又分为以下四种实现方式。</p>
<ul>
<li>树形结构: 首先是建立ul控件并添加<code>class=&quot;mini-tree&quot;</code>。设置url指明树显示的内容来源，拿到的数据就是树形结构的数据。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;tree1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mini-tree&quot;</span> <span class="attr">url</span>=<span class="string">&quot;../data/tree.txt&quot;</span> <span class="attr">showTreeIcon</span>=<span class="string">&quot;true&quot;</span> </span></span><br><span class="line"><span class="tag"><span class="attr">textField</span>=<span class="string">&quot;text&quot;</span> <span class="attr">idField</span>=<span class="string">&quot;id&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">抓回来txt中的树形结构大致如下</span><br><span class="line">[</span><br><span class="line">    &#123;id: &quot;base&quot;, text: &quot;Base&quot;, expanded: false,</span><br><span class="line">     children: [</span><br><span class="line">        &#123;id: &quot;ajax&quot;, text: &quot;Ajax&quot;&#125;,</span><br><span class="line">        &#123;id: &quot;json&quot;, text: &quot;JSON&quot;&#125;,</span><br><span class="line">        &#123;id: &quot;date&quot;, text: &quot;Date&quot;&#125;,</span><br><span class="line">        &#123;id: &quot;control&quot;, text: &quot;Control&quot;&#125;,</span><br><span class="line">        &#123;id: &quot;messagebox&quot;, text: &quot;MessageBox&quot;&#125;,</span><br><span class="line">        &#123;id: &quot;window&quot;, text: &quot;Window&quot;&#125;</span><br><span class="line">     ]</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    more nodes...</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<ul>
<li>列表结构: 与上面的树形结构的区别在于数据来源的格式以及ul部分属性的微调。注意下方的拿回的txt数据格式以及ul中到底parentField、resultAsTree属性。id与pid是父子关系，拥有pid的元素是子，对应的id是父元素。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;tree2&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mini-tree&quot;</span> <span class="attr">url</span>=<span class="string">&quot;../data/listTree.txt&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">showTreeIcon</span>=<span class="string">&quot;true&quot;</span> <span class="attr">textField</span>=<span class="string">&quot;text&quot;</span> <span class="attr">idField</span>=<span class="string">&quot;id&quot;</span> <span class="attr">parentField</span>=<span class="string">&quot;pid&quot;</span> <span class="attr">resultAsTree</span>=<span class="string">&quot;false&quot;</span>  </span></span><br><span class="line"><span class="tag">    &gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">抓回来txt中的列表结构大致如下，比前面的树形结构更直观好懂一些</span><br><span class="line">[</span><br><span class="line">    &#123;id: &quot;base&quot;, text: &quot;Base&quot;, expanded: false&#125;,    </span><br><span class="line">    &#123;id: &quot;ajax&quot;, text: &quot;Ajax&quot;, pid: &quot;base&quot;&#125;,</span><br><span class="line">    &#123;id: &quot;json&quot;, text: &quot;JSON&quot;, pid: &quot;base&quot;&#125;,</span><br><span class="line">    ......</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<ul>
<li>本地JSON: 不需要设置url拿数据，而是通过JavaScript以JSON的格式设置树中要显示的数据，这个格式与树形结构的txt是一样的，区别只在于不是url中txt定死的，而是JavaScript来加载。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;tree3&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mini-tree&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:300px;padding:5px;&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">showTreeIcon</span>=<span class="string">&quot;true&quot;</span> <span class="attr">textField</span>=<span class="string">&quot;text&quot;</span> <span class="attr">idField</span>=<span class="string">&quot;id&quot;</span> &gt;</span>        </span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> tree3 = mini.<span class="title function_">get</span>(<span class="string">&quot;tree3&quot;</span>);</span><br><span class="line">tree3.<span class="title function_">loadData</span>([</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="string">&quot;lists&quot;</span>, <span class="attr">text</span>: <span class="string">&quot;Lists&quot;</span>, <span class="attr">expanded</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">children</span>: [</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="string">&quot;datagrid&quot;</span>, <span class="attr">text</span>: <span class="string">&quot;DataGrid&quot;</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="string">&quot;tree&quot;</span>, <span class="attr">text</span>: <span class="string">&quot;Tree&quot;</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="string">&quot;treegrid&quot;</span>, <span class="attr">text</span>: <span class="string">&quot;TreeGrid &quot;</span> &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123; <span class="attr">id</span>: <span class="string">&quot;layouts&quot;</span>, <span class="attr">text</span>: <span class="string">&quot;Layouts&quot;</span>, <span class="attr">expanded</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">children</span>: [</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="string">&quot;panel&quot;</span>, <span class="attr">text</span>: <span class="string">&quot;Panel&quot;</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="string">&quot;splitter&quot;</span>, <span class="attr">text</span>: <span class="string">&quot;Splitter&quot;</span> &#125;,</span><br><span class="line">            &#123; <span class="attr">id</span>: <span class="string">&quot;layout&quot;</span>, <span class="attr">text</span>: <span class="string">&quot;Layout &quot;</span> &#125;</span><br><span class="line">        ]</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">]);</span><br></pre></td></tr></table></figure>
<ul>
<li>HTML创建: 这个方法是最原始最直接的想法，用HTML标签把树拼出来。但从下面可以看出来，这个方式就像是普通的无序列表的HTML了，不够简洁。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;tree4&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mini-tree&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:200px;padding:5px;&quot;</span> <span class="attr">showTreeIcon</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span>&gt;</span>MiniUI<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">expanded</span>=<span class="string">&quot;false&quot;</span>&gt;</span>Form<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ul</span>&gt;</span>                           </span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span>ComboBox<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span>DatePicker<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span>Spinner<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span>TreeSelect<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">expanded</span>=<span class="string">&quot;false&quot;</span>&gt;</span>Lists<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span><span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">&quot;../datagrid/datagrid.html&quot;</span> <span class="attr">target</span>=<span class="string">&quot;_blank&quot;</span> <span class="attr">style</span>=<span class="string">&quot;color:Blue;text-decoration:underline;&quot;</span>&gt;</span>DataGrid<span class="tag">&lt;/<span class="name">a</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span>Tree<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span>    </span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">expanded</span>=<span class="string">&quot;false&quot;</span>&gt;</span>Layouts<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span>Panel<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span>Splitter<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span>Layout<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span>         </span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">span</span> <span class="attr">expanded</span>=<span class="string">&quot;false&quot;</span>&gt;</span>Navigations<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">                <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span>Tabs<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span>NavBar<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span>Menu<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">                    <span class="tag">&lt;<span class="name">li</span>&gt;</span>Pager<span class="tag">&lt;/<span class="name">li</span>&gt;</span>                            </span><br><span class="line">                <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;/<span class="name">li</span>&gt;</span>             </span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span>                       </span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>

<h3 id="树的懒加载"><a href="#树的懒加载" class="headerlink" title="树的懒加载"></a>树的懒加载</h3><p> 只有当用户点击了展开才会加载当前树节点的子孙。点击”+”图标时，当前节点的id就会传到后台，不过可以在前台利用onbeforeload在传递之前做一些额外操作再交给后台去加载子孙。服务端则根据Request获取的节点id来搜索数据库取出子节点</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;tree1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mini-tree&quot;</span> <span class="attr">url</span>=<span class="string">&quot;../data/TreeService.aspx?method=LoadNodes&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:300px;height:200px;padding:5px;&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">showTreeIcon</span>=<span class="string">&quot;true&quot;</span> <span class="attr">textField</span>=<span class="string">&quot;name&quot;</span> <span class="attr">idField</span>=<span class="string">&quot;id&quot;</span> <span class="attr">onbeforeload</span>=<span class="string">&quot;onBeforeTreeLoad&quot;</span> &gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 在加载节点之前，在前端执行的操作</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">onBeforeTreeLoad</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> tree = e.<span class="property">sender</span>;    <span class="comment">//树控件</span></span><br><span class="line">    <span class="keyword">var</span> node = e.<span class="property">node</span>;      <span class="comment">//当前节点</span></span><br><span class="line">    <span class="keyword">var</span> params = e.<span class="property">params</span>;  <span class="comment">//参数对象</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//可以传递自定义的属性</span></span><br><span class="line">    params.<span class="property">myField</span> = <span class="string">&quot;123&quot;</span>; <span class="comment">//后台就可以用request对象获取&quot;myField&quot;字段了</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 服务端程序，根据节点id拿子节点</span></span><br><span class="line"><span class="type">String</span> <span class="variable">id</span> <span class="operator">=</span> Request[<span class="string">&quot;id&quot;</span>];</span><br><span class="line"><span class="keyword">if</span> (String.IsNullOrEmpty(id)) id = <span class="string">&quot;-1&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//获取下一级节点</span></span><br><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select * from plus_file where pid = &#x27;&quot;</span> + id + <span class="string">&quot;&#x27; order by updatedate&quot;</span>;</span><br><span class="line"><span class="type">ArrayList</span> <span class="variable">folders</span> <span class="operator">=</span> DBUtil.Select(sql);</span><br><span class="line"></span><br><span class="line"><span class="comment">//判断节点，是否有子节点。如果有，则处理isLeaf和expanded。</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, l = folders.Count; i &lt; l; i++)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">Hashtable</span> <span class="variable">node</span> <span class="operator">=</span> (Hashtable)folders[i];</span><br><span class="line">    <span class="type">String</span> <span class="variable">nodeId</span> <span class="operator">=</span> node[<span class="string">&quot;id&quot;</span>].ToString();</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">sql2</span> <span class="operator">=</span> <span class="string">&quot;select * from plus_file where pid = &#x27;&quot;</span> + nodeId + <span class="string">&quot;&#x27; order by updatedate&quot;</span>;</span><br><span class="line">    <span class="type">ArrayList</span> <span class="variable">nodes</span> <span class="operator">=</span> DBUtil.Select(sql2);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (nodes.Count &gt; <span class="number">0</span>)</span><br><span class="line">    &#123;</span><br><span class="line">        node[<span class="string">&quot;isLeaf&quot;</span>] = <span class="literal">false</span>;</span><br><span class="line">        node[<span class="string">&quot;expanded&quot;</span>] = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回JSON</span></span><br><span class="line"><span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> PluSoft.Utils.JSON.Encode(folders);</span><br><span class="line">Response.Write(json);</span><br></pre></td></tr></table></figure>

<h3 id="树的操作"><a href="#树的操作" class="headerlink" title="树的操作"></a>树的操作</h3><p> 提供了增删改移的内置操作。</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 增加节点</span></span><br><span class="line"><span class="keyword">var</span> tree = mini.<span class="title function_">get</span>(<span class="string">&quot;tree1&quot;</span>);</span><br><span class="line"><span class="keyword">var</span> node = tree.<span class="title function_">getSelectedNode</span>();</span><br><span class="line"><span class="keyword">var</span> newNode = &#123;&#125;;</span><br><span class="line"><span class="comment">//addNode ( node, index, parentNode )</span></span><br><span class="line">tree.<span class="title function_">addNode</span>(newNode, <span class="string">&quot;before&quot;</span>, node);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 删除节点</span></span><br><span class="line"><span class="keyword">var</span> node = tree.<span class="title function_">getSelectedNode</span>();</span><br><span class="line">tree.<span class="title function_">removeNode</span>(node);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 编辑节点</span></span><br><span class="line"><span class="keyword">var</span> node = tree.<span class="title function_">getSelectedNode</span>();            </span><br><span class="line">tree.<span class="title function_">beginEdit</span>(node);  </span><br><span class="line"></span><br><span class="line"><span class="comment">// 移动节点</span></span><br><span class="line">tree.<span class="title function_">moveNode</span>(node, targetNode, <span class="string">&quot;before&quot;</span>);</span><br></pre></td></tr></table></figure>

<h3 id="为树创建右键菜单"><a href="#为树创建右键菜单" class="headerlink" title="为树创建右键菜单"></a>为树创建右键菜单</h3><p> 除了利用工具栏按钮的形式操作树的节点，还可以直接在节点上<a target="_blank" rel="noopener" href="http://www.miniui.com/docs/tutorial/tree_contextmenu.html">右键弹出菜单</a>进行操作，称之为ContextMenu。ContextMenu的HTML其实就是ul+li的列表，然后要想让右键点击树能够弹出这个ContextMenu，则需要为树的HTML标签添加contextMenu属性。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;treeMenu&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mini-contextmenu&quot;</span> <span class="attr">onbeforeopen</span>=<span class="string">&quot;onBeforeOpen&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">iconCls</span>=<span class="string">&quot;icon-move&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;onMoveNode&quot;</span>&gt;</span>移动节点<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;separator&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> <span class="attr">iconCls</span>=<span class="string">&quot;icon-add&quot;</span>&gt;</span>新增节点<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">onclick</span>=<span class="string">&quot;onAddBefore&quot;</span>&gt;</span>插入节点前<span class="tag">&lt;/<span class="name">li</span>&gt;</span>                </span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">onclick</span>=<span class="string">&quot;onAddAfter&quot;</span>&gt;</span>插入节点后<span class="tag">&lt;/<span class="name">li</span>&gt;</span>    </span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">onclick</span>=<span class="string">&quot;onAddNode&quot;</span>&gt;</span>插入子节点<span class="tag">&lt;/<span class="name">li</span>&gt;</span>                 </span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">name</span>=<span class="string">&quot;edit&quot;</span> <span class="attr">iconCls</span>=<span class="string">&quot;icon-edit&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;onEditNode&quot;</span>&gt;</span>编辑节点<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">name</span>=<span class="string">&quot;remove&quot;</span> <span class="attr">iconCls</span>=<span class="string">&quot;icon-remove&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;onRemoveNode&quot;</span>&gt;</span>删除节点<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line"></span><br><span class="line">而对于树而言只需要把contextMenu属性赋上这个contextMenu的id值即可完成绑定。</span><br><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;tree1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mini-tree&quot;</span> <span class="attr">url</span>=<span class="string">&quot;../data/tree.txt&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:200px;padding:5px;&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">showTreeIcon</span>=<span class="string">&quot;true&quot;</span> <span class="attr">textField</span>=<span class="string">&quot;text&quot;</span> <span class="attr">idField</span>=<span class="string">&quot;id&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">contextMenu</span>=<span class="string">&quot;#treeMenu&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span>        </span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">在contextMenu中的onbeforeopen属性绑定的函数是：</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">onBeforeOpen</span>(<span class="params">e</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> menu = e.<span class="property">sender</span>;</span><br><span class="line">    <span class="keyword">var</span> tree = mini.<span class="title function_">get</span>(<span class="string">&quot;tree1&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> node = tree.<span class="title function_">getSelectedNode</span>();</span><br><span class="line">    <span class="keyword">if</span> (!node) &#123;</span><br><span class="line">        e.<span class="property">cancel</span> = <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 若点击的是Base，不弹出</span></span><br><span class="line">    <span class="keyword">if</span> (node &amp;&amp; node.<span class="property">text</span> == <span class="string">&quot;Base&quot;</span>) &#123;  </span><br><span class="line">        e.<span class="property">cancel</span> = <span class="literal">true</span>;</span><br><span class="line">        <span class="comment">//阻止浏览器默认右键菜单</span></span><br><span class="line">        e.<span class="property">htmlEvent</span>.<span class="title function_">preventDefault</span>();</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">var</span> editItem = mini.<span class="title function_">getbyName</span>(<span class="string">&quot;edit&quot;</span>, menu);</span><br><span class="line">    <span class="keyword">var</span> removeItem = mini.<span class="title function_">getbyName</span>(<span class="string">&quot;remove&quot;</span>, menu);</span><br><span class="line">    editItem.<span class="title function_">show</span>();</span><br><span class="line">    removeItem.<span class="title function_">enable</span>();    <span class="comment">// 防止之前的禁用效果无法恢复</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (node.<span class="property">id</span> == <span class="string">&quot;forms&quot;</span>) &#123;</span><br><span class="line">        editItem.<span class="title function_">hide</span>();    <span class="comment">// 隐藏编辑选项</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (node.<span class="property">id</span> == <span class="string">&quot;lists&quot;</span>) &#123;</span><br><span class="line">        removeItem.<span class="title function_">disable</span>();<span class="comment">// 禁用删除选项</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h1 id="导航"><a href="#导航" class="headerlink" title="导航"></a>导航</h1><hr>
<p> MiniUI提供了很多内置方式实现页面切换，如toolbar、菜单、ContextMenu、Tabs选项卡、OutlookBar折叠面板、OutlookMenu折叠菜单、OutlookTree折叠树、Pager分页。</p>
<h3 id="Toolbar工具栏"><a href="#Toolbar工具栏" class="headerlink" title="Toolbar工具栏"></a><a target="_blank" rel="noopener" href="http://www.miniui.com/docs/tutorial/toolbar.html">Toolbar工具栏</a></h3><p> 其实就是div+a的组合，只不过对应地加上MiniUI的class就可以用内置的CSS显示为导航栏。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mini-toolbar&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;mini-button&quot;</span> <span class="attr">iconCls</span>=<span class="string">&quot;icon-add&quot;</span>&gt;</span>增加<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;mini-button&quot;</span> <span class="attr">iconCls</span>=<span class="string">&quot;icon-edit&quot;</span>&gt;</span>修改<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;mini-button&quot;</span> <span class="attr">iconCls</span>=<span class="string">&quot;icon-remove&quot;</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;separator&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;mini-button&quot;</span> <span class="attr">plain</span>=<span class="string">&quot;true&quot;</span>&gt;</span>增加<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;mini-button&quot;</span> <span class="attr">plain</span>=<span class="string">&quot;true&quot;</span>&gt;</span>修改<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;mini-button&quot;</span> <span class="attr">plain</span>=<span class="string">&quot;true&quot;</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">span</span> <span class="attr">class</span>=<span class="string">&quot;separator&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">class</span>=<span class="string">&quot;mini-textbox&quot;</span> /&gt;</span>   </span><br><span class="line">    <span class="tag">&lt;<span class="name">a</span> <span class="attr">class</span>=<span class="string">&quot;mini-button&quot;</span> <span class="attr">plain</span>=<span class="string">&quot;true&quot;</span>&gt;</span>查询<span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure>
<p> 要复杂点的话可以加入table表格控制内部小按钮靠左靠右(例如用width: 100%)。</p>
<h3 id="菜单"><a href="#菜单" class="headerlink" title="菜单"></a><a target="_blank" rel="noopener" href="http://www.miniui.com/docs/tutorial/menu.html">菜单</a></h3><p> 类似于Windows顶部的菜单栏，直接用ul结合url定出菜单中的内容。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;menu1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mini-menubar&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:100%;&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">url</span>=<span class="string">&quot;../data/listMenu.txt&quot;</span> <span class="attr">idField</span>=<span class="string">&quot;id&quot;</span> <span class="attr">parentField</span>=<span class="string">&quot;pid&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">其中txt文件的格式和之前建树的类似，利用id和pid确定父子关系。既然和建树类似，那必然就有类似的[原始HTML构建菜单方式](http://www.miniui.com/docs/tutorial/menu_html.html)。</span><br><span class="line">[</span><br><span class="line">    &#123; id: &quot;1&quot;, text: &quot;文件(F)&quot;&#125;,        </span><br><span class="line">    &#x27;-&#x27;,</span><br><span class="line">    &#123; id: &quot;2&quot;, text: &quot;新建&quot;, iconCls: &quot;icon-new&quot;, pid: &quot;1&quot;&#125;,    </span><br><span class="line">    &#123; id: &quot;3&quot;, text: &quot;文件&quot;, pid: &quot;2&quot;&#125;,</span><br><span class="line">    &#123; id: &quot;4&quot;, text: &quot;文件夹&quot;, pid: &quot;2&quot;&#125;,        </span><br><span class="line">    &#123; id: &quot;5&quot;, text: &quot;打开&quot;, iconCls: &quot;icon-folderopen&quot;, pid: &quot;1&quot;&#125;,</span><br><span class="line">    &#123; id: &quot;6&quot;, text: &quot;保存&quot;, pid: &quot;1&quot;&#125;,</span><br><span class="line">    &#123; id: &quot;7&quot;, text: &quot;关闭&quot;, pid: &quot;1&quot;&#125;,</span><br><span class="line">        </span><br><span class="line">    &#123; id: &quot;8&quot;, text: &quot;编辑(E)&quot;&#125;,</span><br><span class="line">    &#123; id: &quot;9&quot;, text: &quot;剪切&quot;, iconCls: &quot;icon-cut&quot;, pid: &quot;8&quot;&#125;,</span><br><span class="line">    &#123; id: &quot;10&quot;, text: &quot;复制&quot;, pid: &quot;8&quot;&#125;,</span><br><span class="line">    &#123; id: &quot;11&quot;, text: &quot;粘贴&quot;, pid: &quot;8&quot;&#125;,</span><br><span class="line">        </span><br><span class="line">    &#123; id: &quot;12&quot;, text: &quot;查看(V)&quot;&#125;,</span><br><span class="line">    &#123; id: &quot;13&quot;, text: &quot;帮助(H)&quot;, iconCls: &quot;icon-help&quot;&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h3 id="ContextMenu"><a href="#ContextMenu" class="headerlink" title="ContextMenu"></a><a target="_blank" rel="noopener" href="http://www.miniui.com/docs/tutorial/contextmenu.html">ContextMenu</a></h3><p> 这是右键点击，根据上下文弹出的菜单。前面已经提到了在树的节点上可以实现右键弹出菜单，只需要把contextMenu的id绑定到对应的树就可以了。而这里构建菜单也是类似的，先用ul+li把菜单建起来，然后用JavaScript把菜单绑定到右键点击事件。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">&quot;contextMenu&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mini-contextmenu&quot;</span> &gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">span</span> &gt;</span>操作<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">ul</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">iconCls</span>=<span class="string">&quot;icon-new&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;onItemClick&quot;</span>&gt;</span>新建<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;separator&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">iconCls</span>=<span class="string">&quot;icon-add&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;onItemClick&quot;</span>&gt;</span>增加<span class="tag">&lt;/<span class="name">li</span>&gt;</span>    </span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">iconCls</span>=<span class="string">&quot;icon-edit&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;onItemClick&quot;</span>&gt;</span>修改<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">            <span class="tag">&lt;<span class="name">li</span> <span class="attr">iconCls</span>=<span class="string">&quot;icon-remove&quot;</span> <span class="attr">onclick</span>=<span class="string">&quot;onItemClick&quot;</span>&gt;</span>删除<span class="tag">&lt;/<span class="name">li</span>&gt;</span>                      </span><br><span class="line">        <span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">class</span>=<span class="string">&quot;separator&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">iconCls</span>=<span class="string">&quot;icon-open&quot;</span> &gt;</span>打开<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span> <span class="attr">iconCls</span>=<span class="string">&quot;icon-remove&quot;</span> &gt;</span>关闭<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">onItemClick</span>(<span class="params">e</span>) &#123;   <span class="comment">// 点击某项后的操作</span></span><br><span class="line">    <span class="keyword">var</span> item = e.<span class="property">sender</span>;</span><br><span class="line">    <span class="title function_">alert</span>(item.<span class="title function_">getText</span>());     </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">onload</span> = <span class="keyword">function</span> (<span class="params"></span>) &#123;   <span class="comment">// 将contextMenu绑定到指定元素</span></span><br><span class="line">    $(<span class="string">&quot;#region1&quot;</span>).<span class="title function_">bind</span>(<span class="string">&quot;contextmenu&quot;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> menu = mini.<span class="title function_">get</span>(<span class="string">&quot;contextMenu&quot;</span>);</span><br><span class="line">        menu.<span class="title function_">showAtPos</span>(e.<span class="property">pageX</span>, e.<span class="property">pageY</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Tabs选项卡"><a href="#Tabs选项卡" class="headerlink" title="Tabs选项卡"></a><a target="_blank" rel="noopener" href="http://www.miniui.com/docs/tutorial/tabs.html">Tabs选项卡</a></h3><p> 使用div，然后加入<code>class=&quot;mini-tabs&quot;</code>属性即可。每个tabs里面可以是静态1的div定义，也可以使用外部txt来<a target="_blank" rel="noopener" href="http://www.miniui.com/docs/tutorial/tabs_load.html">懒加载</a>。每个tab都有很多内置属性可以使用。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;tabs1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mini-tabs&quot;</span> <span class="attr">activeIndex</span>=<span class="string">&quot;0&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:350px;height:200px;&quot;</span></span></span><br><span class="line"><span class="tag">     <span class="attr">url</span>=<span class="string">&quot;../data/tabs.txt&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line">txt中保存的格式，每个子页面的内容都由新的url定义。</span><br><span class="line">[</span><br><span class="line">    &#123;title: &quot;Tab1&quot;, url: &quot;../tabs/pages/page1.html&quot;, refreshOnClick: true&#125;,</span><br><span class="line">    &#123;title: &quot;Tab2&quot;, url: &quot;../tabs/pages/page2.html&quot;, showCloseButton: true&#125;,</span><br><span class="line">    &#123;title: &quot;Tab3&quot;, url: &quot;../tabs/pages/page3.html&quot;&#125;,</span><br><span class="line">    &#123;title: &quot;Tab4&quot;, url: &quot;../tabs/pages/page4.html&quot;&#125;,</span><br><span class="line">    &#123;title: &quot;Tab5&quot;, url: &quot;../tabs/pages/page5.html&quot;&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h3 id="Outlook面板系列"><a href="#Outlook面板系列" class="headerlink" title="Outlook面板系列"></a>Outlook面板系列</h3><ul>
<li><a target="_blank" rel="noopener" href="http://www.miniui.com/docs/tutorial/outlookbar.html">OutlookBar折叠面板</a>: 为div加入<code>class=&quot;mini-outlookbar</code>属性即可。面板内部的内容直接通过子div提供。</li>
<li><a target="_blank" rel="noopener" href="http://www.miniui.com/docs/tutorial/outlookmenu.html">OutlookMenu折叠菜单</a>: 为div加入<code>class=&quot;mini-outlookmenu</code>属性，然后提供url导入菜单中要显示的内容即可。</li>
<li><a target="_blank" rel="noopener" href="http://www.miniui.com/docs/tutorial/outlooktree.html">OutlookTree折叠树</a>: 为div加入<code>class=&quot;mini-outlooktree</code>属性，然后提供url导入树中要显示的内容即可。</li>
</ul>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--折叠面板，直接提供内部div的内容--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;outlookbar1&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mini-outlookbar &quot;</span> <span class="attr">activeIndex</span>=<span class="string">&quot;0&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:180px;height:250px;&quot;</span> <span class="attr">autoCollapse</span>=<span class="string">&quot;true&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">title</span>=<span class="string">&quot;权限管理&quot;</span>&gt;</span>            </span><br><span class="line">        1</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">title</span>=<span class="string">&quot;用户管理&quot;</span>&gt;</span></span><br><span class="line">        2</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--折叠面板中的菜单--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mini-outlookmenu&quot;</span> <span class="attr">url</span>=<span class="string">&quot;../data/outlookmenu.txt&quot;</span> <span class="attr">onitemselect</span>=<span class="string">&quot;onItemSelect&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">idField</span>=<span class="string">&quot;id&quot;</span> <span class="attr">parentField</span>=<span class="string">&quot;pid&quot;</span> <span class="attr">textField</span>=<span class="string">&quot;text&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">其中url提供的内容格式和前面通过外部文件定义菜单的方式类似</span><br><span class="line">[</span><br><span class="line">    &#123; id: &quot;user&quot;, text: &quot;用户管理&quot;&#125;,</span><br><span class="line">    &#123; id: &quot;addUser&quot;, pid: &quot;user&quot;, text: &quot;增加用户&quot;, iconCls: &quot;icon-add&quot;, url: &quot;../navbartree/navbartree.html&quot; &#125;,</span><br><span class="line">    &#123; id: &quot;editUser&quot;, pid: &quot;user&quot;, text: &quot;修改用户&quot;, iconCls: &quot;icon-edit&quot;, url: &quot;../buttonedit/openwindow.html&quot; &#125;,</span><br><span class="line">    &#123; id: &quot;removeUser&quot;, pid: &quot;user&quot;, text: &quot;删除用户&quot;, iconCls: &quot;icon-remove&quot;, url: &quot;../datagrid/datagrid.html&quot; &#125;,</span><br><span class="line">        </span><br><span class="line">    &#123; id: &quot;right&quot;, text: &quot;权限管理&quot;&#125;,</span><br><span class="line">    &#123; id: &quot;addRight&quot;, pid: &quot;right&quot;, text: &quot;查询权限&quot;, iconCls: &quot;Note&quot;, url: &quot;../navbartree/navbartree.html&quot;, iconPosition: &quot;top&quot; &#125;,</span><br><span class="line">    &#123; id: &quot;editRight&quot;, pid: &quot;right&quot;, text: &quot;操作权限&quot;, iconCls: &quot;Reports&quot;, url: &quot;../buttonedit/openwindow.html&quot;, iconPosition: &quot;top&quot; &#125;        </span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment">&lt;!--折叠面板中的树--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;leftTree&quot;</span> <span class="attr">class</span>=<span class="string">&quot;mini-outlooktree&quot;</span> <span class="attr">url</span>=<span class="string">&quot;../data/outlooktree.txt&quot;</span> <span class="attr">onnodeselect</span>=<span class="string">&quot;onNodeSelect&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">textField</span>=<span class="string">&quot;text&quot;</span> <span class="attr">idField</span>=<span class="string">&quot;id&quot;</span> <span class="attr">parentField</span>=<span class="string">&quot;pid&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">其中url提供的树的txt内容格式与前面提过的类似，通过id和pid确定父子关系。</span><br><span class="line">[</span><br><span class="line">    &#123;id: &quot;user&quot;, text: &quot;用户管理&quot;&#125;,</span><br><span class="line">        </span><br><span class="line">        &#123;id: &quot;lists&quot;, text: &quot;Lists&quot;, pid: &quot;user&quot; &#125;,</span><br><span class="line">            </span><br><span class="line">            &#123;id: &quot;datagrid&quot;, text: &quot;DataGrid&quot;, pid: &quot;lists&quot;&#125;,            </span><br><span class="line">            &#123;id: &quot;tree&quot;, text: &quot;Tree&quot; , pid: &quot;lists&quot;&#125;,</span><br><span class="line">            &#123;id: &quot;treegrid&quot;, text: &quot;TreeGrid &quot; , pid: &quot;lists&quot;&#125;,</span><br><span class="line">        </span><br><span class="line">        &#123;id: &quot;layouts&quot;, text: &quot;Layouts&quot;, expanded: false, pid: &quot;user&quot;&#125;,</span><br><span class="line">        </span><br><span class="line">            &#123;id: &quot;panel&quot;, text: &quot;Panel&quot;, pid: &quot;layouts&quot;&#125;,</span><br><span class="line">            &#123;id: &quot;splitter&quot;, text: &quot;Splitter&quot;, pid: &quot;layouts&quot;&#125;,  </span><br><span class="line">]</span><br></pre></td></tr></table></figure>
<h3 id="Pager分页"><a href="#Pager分页" class="headerlink" title="Pager分页"></a><a target="_blank" rel="noopener" href="http://www.miniui.com/docs/tutorial/pager.html">Pager分页</a></h3><p> 为div加入<code>class=&quot;mini-pager&quot;</code>属性即可。可以为onpagechanged属性提供JavaScript函数进行额外处理。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;mini-pager&quot;</span> <span class="attr">style</span>=<span class="string">&quot;width:600px;background:#ccc;&quot;</span> </span></span><br><span class="line"><span class="tag">    <span class="attr">totalCount</span>=<span class="string">&quot;123&quot;</span> <span class="attr">onpagechanged</span>=<span class="string">&quot;onPageChanged&quot;</span> <span class="attr">sizeList</span>=<span class="string">&quot;[5,10,20,100]&quot;</span></span></span><br><span class="line"><span class="tag">    <span class="attr">showTotalCount</span>=<span class="string">&quot;true&quot;</span></span></span><br><span class="line"><span class="tag">    &gt;</span>        </span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span> </span><br></pre></td></tr></table></figure>

<p>这篇博客其实可能以后都不会怎么看了，因为人家官网写得也足够详细了，直接参考官方文档就行了。而且大多都是一些控件什么的，用一用就会了，用不着写个博客总结什么思想，弃坑啦。</p>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/frontend/" rel="tag"># frontend</a>
              <a href="/tags/js/" rel="tag"># js</a>
              <a href="/tags/jQuery/" rel="tag"># jQuery</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2016/08/26/javaScript_professional/" rel="prev" title="Note for Professional JavaScript for Web Developers (1/4)">
                  <i class="fa fa-angle-left"></i> Note for Professional JavaScript for Web Developers (1/4)
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2016/09/10/javascript_professional_2/" rel="next" title="Note for Professional JavaScript for Web Developers (2/4)">
                  Note for Professional JavaScript for Web Developers (2/4) <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    
  <div class="comments" id="disqus_thread">
    <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
  </div>
  
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2016 – 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="futbol-o"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Bob</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>
<script class="next-config" data-name="disqus" type="application/json">{"enable":true,"shortname":"bobbyliujb","count":true,"i18n":{"disqus":"disqus"}}</script>
<script src="/js/third-party/comments/disqus.js" defer></script>

</body>
</html>
