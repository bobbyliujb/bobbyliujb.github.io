<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width">
<meta name="theme-color" content="#222"><meta name="generator" content="Hexo 7.3.0">

  <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon.ico">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon.ico">
  <link rel="mask-icon" href="/images/favicon.ico" color="#222">

<link rel="stylesheet" href="/css/main.css">



<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" integrity="sha256-dABdfBfUoC8vJUBOwGVdm8L9qlMWaHTIfXt+7GnZCIo=" crossorigin="anonymous">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/3.1.1/animate.min.css" integrity="sha256-PR7ttpcvz8qrF57fur/yAx1qXMFJeJFiA6pSzWi0OIE=" crossorigin="anonymous">

<script class="next-config" data-name="main" type="application/json">{"hostname":"bobbyliujb.github.io","root":"/","images":"/images","scheme":"Gemini","darkmode":false,"version":"8.23.0","exturl":false,"sidebar":{"position":"left","width_expanded":320,"width_dual_column":240,"display":"hide","padding":18,"offset":12},"hljswrap":true,"copycode":{"enable":false,"style":null},"fold":{"enable":false,"height":500},"bookmark":{"enable":false,"color":"#222","save":"auto"},"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"stickytabs":false,"motion":{"enable":true,"async":false,"duration":200,"transition":{"menu_item":"fadeInDown","post_block":"fadeIn","post_header":"fadeInDown","post_body":"fadeInDown","coll_header":"fadeInLeft","sidebar":"fadeInUp"}},"i18n":{"placeholder":"Searching...","empty":"We didn't find any results for the search: ${query}","hits_time":"${hits} results found in ${time} ms","hits":"${hits} results found"}}</script><script src="/js/config.js" defer></script>

    <meta name="description" content="Introduction to Algorithms I. All meterials credit to Princeton.">
<meta property="og:type" content="article">
<meta property="og:title" content="Note for coursera Princeton Algorithm I">
<meta property="og:url" content="https://bobbyliujb.github.io/2016/11/02/coursera_algorithm1/index.html">
<meta property="og:site_name" content="Bob&#39;s Blog">
<meta property="og:description" content="Introduction to Algorithms I. All meterials credit to Princeton.">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://ww4.sinaimg.cn/large/9b3a5c2fgw1f9dmxo7lmpj20fh0913yx.jpg">
<meta property="og:image" content="https://ww2.sinaimg.cn/large/9b3a5c2fgw1f9ds7dg6qpj20a40anmy1.jpg">
<meta property="og:image" content="https://ww2.sinaimg.cn/large/9b3a5c2fgw1f9ds8jibjrj20mf0egjts.jpg">
<meta property="og:image" content="https://ww3.sinaimg.cn/large/9b3a5c2fgw1f9dwws0wwyj20pf0eita7.jpg">
<meta property="og:image" content="https://ww1.sinaimg.cn/large/9b3a5c2fgy1fejwlq5nvtj20ff09baau.jpg">
<meta property="og:image" content="https://ww1.sinaimg.cn/large/9b3a5c2fgy1fejyqzz1b9j20im0cn0ts.jpg">
<meta property="og:image" content="https://ww1.sinaimg.cn/large/9b3a5c2fgy1fek5wjqbxuj20i10a1gmm.jpg">
<meta property="og:image" content="https://ww1.sinaimg.cn/large/9b3a5c2fgy1fektggt7ruj20g006xmxw.jpg">
<meta property="og:image" content="https://ww1.sinaimg.cn/large/9b3a5c2fgy1fektiv93z6j20gu068js4.jpg">
<meta property="og:image" content="https://ww1.sinaimg.cn/large/9b3a5c2fgy1feku127a8qj20gf09rdhf.jpg">
<meta property="og:image" content="https://ww1.sinaimg.cn/large/9b3a5c2fgy1fel314v2v0j20iq05tjs6.jpg">
<meta property="og:image" content="https://ww1.sinaimg.cn/large/9b3a5c2fgy1fel3v5hx7ij20ez05gjs6.jpg">
<meta property="og:image" content="https://ww1.sinaimg.cn/large/9b3a5c2fgy1fel3zuw9tsj20f305p0tj.jpg">
<meta property="og:image" content="https://ww1.sinaimg.cn/large/9b3a5c2fgy1fel434t00mj20lt058myb.jpg">
<meta property="og:image" content="https://ww1.sinaimg.cn/large/9b3a5c2fgy1fel5gjkyzxj20h8051jrz.jpg">
<meta property="og:image" content="https://ww1.sinaimg.cn/large/9b3a5c2fgy1felgexk0coj20az07ygmb.jpg">
<meta property="og:image" content="https://ww1.sinaimg.cn/large/9b3a5c2fgy1felhpsdl9fj20h009c3z3.jpg">
<meta property="og:image" content="https://ww1.sinaimg.cn/large/9b3a5c2fgy1feli02gn3oj20hh07eglx.jpg">
<meta property="og:image" content="https://ww1.sinaimg.cn/large/9b3a5c2fgy1felwoqf4hrj20hg07dt92.jpg">
<meta property="og:image" content="https://ww1.sinaimg.cn/large/9b3a5c2fgy1felxvsjf1bj20df07mgm1.jpg">
<meta property="og:image" content="https://ww1.sinaimg.cn/large/9b3a5c2fgy1felxzyi9ykj20ff07rwf2.jpg">
<meta property="og:image" content="https://ww1.sinaimg.cn/large/9b3a5c2fgy1fem0raqmocj20g206omx4.jpg">
<meta property="article:published_time" content="2016-11-03T06:43:55.000Z">
<meta property="article:modified_time" content="2017-05-29T19:00:00.000Z">
<meta property="article:author" content="Bob">
<meta property="article:tag" content="java">
<meta property="article:tag" content="algorithm">
<meta property="article:tag" content="coursera">
<meta property="article:tag" content="dataStructure">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://ww4.sinaimg.cn/large/9b3a5c2fgw1f9dmxo7lmpj20fh0913yx.jpg">


<link rel="canonical" href="https://bobbyliujb.github.io/2016/11/02/coursera_algorithm1/">


<script class="next-config" data-name="page" type="application/json">{"sidebar":"","isHome":false,"isPost":true,"lang":"en","comments":true,"permalink":"https://bobbyliujb.github.io/2016/11/02/coursera_algorithm1/","path":"2016/11/02/coursera_algorithm1/","title":"Note for coursera Princeton Algorithm I"}</script>

<script class="next-config" data-name="calendar" type="application/json">""</script>
<title>Note for coursera Princeton Algorithm I | Bob's Blog</title>
  
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-118868735-1"></script>
  <script class="next-config" data-name="google_analytics" type="application/json">{"tracking_id":"UA-118868735-1","only_pageview":false,"measure_protocol_api_secret":null}</script>
  <script src="/js/third-party/analytics/google-analytics.js" defer></script>








  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.min.js" integrity="sha256-XL2inqUJaslATFnHdJOi9GfQ60on8Wx1C2H8DYiN1xY=" crossorigin="anonymous" defer></script>
<script src="/js/utils.js" defer></script><script src="/js/motion.js" defer></script><script src="/js/sidebar.js" defer></script><script src="/js/next-boot.js" defer></script>

  






  





  <noscript>
    <link rel="stylesheet" href="/css/noscript.css">
  </noscript>
</head>

<body itemscope itemtype="http://schema.org/WebPage" class="use-motion">
  <div class="headband"></div>

  <main class="main">
    <div class="column">
      <header class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar" role="button">
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
        <span class="toggle-line"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <i class="logo-line"></i>
      <p class="site-title">Bob's Blog</p>
      <i class="logo-line"></i>
    </a>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger" aria-label="Search" role="button">
    </div>
  </div>
</div>



<nav class="site-nav">
  <ul class="main-menu menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="home fa-fw"></i>Home</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="tags fa-fw"></i>Tags</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="th fa-fw"></i>Categories</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="archive fa-fw"></i>Archives</a></li>
  </ul>
</nav>




</header>
        
  
  <aside class="sidebar">

    <div class="sidebar-inner sidebar-nav-active sidebar-toc-active">
      <ul class="sidebar-nav">
        <li class="sidebar-nav-toc">
          Table of Contents
        </li>
        <li class="sidebar-nav-overview">
          Overview
        </li>
      </ul>

      <div class="sidebar-panel-container">
        <!--noindex-->
        <div class="post-toc-wrap sidebar-panel">
            <div class="post-toc animated"><ol class="nav"><li class="nav-item nav-level-3"><a class="nav-link" href="#Course-Introduction"><span class="nav-number">1.</span> <span class="nav-text">Course Introduction</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Union-Find"><span class="nav-number">2.</span> <span class="nav-text">Union-Find</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Dynamic-Connectivity"><span class="nav-number">2.1.</span> <span class="nav-text">&lt; Dynamic Connectivity</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Quick-Find"><span class="nav-number">2.2.</span> <span class="nav-text">&lt; Quick-Find</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Quick-Union"><span class="nav-number">2.3.</span> <span class="nav-text">&lt; Quick-Union</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Improvements"><span class="nav-number">2.4.</span> <span class="nav-text">&lt; Improvements</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Analysis-of-Algorithms"><span class="nav-number">3.</span> <span class="nav-text">Analysis of Algorithms</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Introduction"><span class="nav-number">3.1.</span> <span class="nav-text">&lt; Introduction</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Observations"><span class="nav-number">3.2.</span> <span class="nav-text">&lt; Observations</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Mathematical-models"><span class="nav-number">3.3.</span> <span class="nav-text">&lt; Mathematical models</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Order-of-growth-classifications"><span class="nav-number">3.4.</span> <span class="nav-text">&lt; Order-of-growth classifications</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Theory-of-algorithms"><span class="nav-number">3.5.</span> <span class="nav-text">&lt; Theory of algorithms</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Bags-Stacks-and-Queues"><span class="nav-number">4.</span> <span class="nav-text">Bags, Stacks and Queues</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Separate-interface-and-implementation"><span class="nav-number">4.1.</span> <span class="nav-text">&lt; Separate interface and implementation</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Stack"><span class="nav-number">4.2.</span> <span class="nav-text">&lt; Stack</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Queue"><span class="nav-number">4.3.</span> <span class="nav-text">&lt; Queue</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Elementery-Sorts"><span class="nav-number">5.</span> <span class="nav-text">Elementery Sorts</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Comparable"><span class="nav-number">5.1.</span> <span class="nav-text">&lt; Comparable</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Selection-Sort"><span class="nav-number">5.2.</span> <span class="nav-text">&lt; Selection Sort</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Insertion-Sort"><span class="nav-number">5.3.</span> <span class="nav-text">&lt; Insertion Sort</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Shell-Sort"><span class="nav-number">5.4.</span> <span class="nav-text">&lt; Shell Sort</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Bubble-Sort"><span class="nav-number">5.5.</span> <span class="nav-text">&lt; Bubble Sort</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Integer-Sort"><span class="nav-number">6.</span> <span class="nav-text">Integer Sort</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Bucket-Sort"><span class="nav-number">6.1.</span> <span class="nav-text">&lt; Bucket Sort</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Radix-Sort"><span class="nav-number">6.2.</span> <span class="nav-text">&lt; Radix Sort</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Merge-Sort"><span class="nav-number">7.</span> <span class="nav-text">Merge Sort</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Basic"><span class="nav-number">7.1.</span> <span class="nav-text">&lt; Basic</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Improvement"><span class="nav-number">7.2.</span> <span class="nav-text">&lt; Improvement</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Comparator"><span class="nav-number">7.3.</span> <span class="nav-text">&lt; Comparator</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Stablity"><span class="nav-number">7.4.</span> <span class="nav-text">&lt; Stablity</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Quick-Sort"><span class="nav-number">8.</span> <span class="nav-text">Quick Sort</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Basic-1"><span class="nav-number">8.1.</span> <span class="nav-text">&lt; Basic</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Improvement-1"><span class="nav-number">8.2.</span> <span class="nav-text">&lt; Improvement</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#3-way-QuickSort"><span class="nav-number">8.3.</span> <span class="nav-text">&lt; 3-way QuickSort</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Usage"><span class="nav-number">8.4.</span> <span class="nav-text">&lt; Usage</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Priority-Queues"><span class="nav-number">9.</span> <span class="nav-text">Priority Queues</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Binary-heaps"><span class="nav-number">9.1.</span> <span class="nav-text">&lt; Binary heaps</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#HeapSort"><span class="nav-number">9.2.</span> <span class="nav-text">&lt; HeapSort</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Binary-Search-Trees-BSTs"><span class="nav-number">10.</span> <span class="nav-text">Binary Search Trees(BSTs)</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Basic-2"><span class="nav-number">10.1.</span> <span class="nav-text">&lt; Basic</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Operations"><span class="nav-number">10.2.</span> <span class="nav-text">&lt; Operations</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Deletion"><span class="nav-number">10.3.</span> <span class="nav-text">&lt; Deletion</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Balanced-Search-Trees"><span class="nav-number">11.</span> <span class="nav-text">Balanced Search Trees</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#2-3-search-trees"><span class="nav-number">11.1.</span> <span class="nav-text">&lt; 2-3 search trees</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#red-black-BSTs"><span class="nav-number">11.2.</span> <span class="nav-text">&lt; red-black BSTs</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Geometric-Search"><span class="nav-number">12.</span> <span class="nav-text">Geometric Search</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#1D-range-search"><span class="nav-number">12.1.</span> <span class="nav-text">&lt; 1D range search</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#2D-orthogonal-range-search"><span class="nav-number">12.2.</span> <span class="nav-text">&lt; 2D orthogonal range search</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Interval-search-trees"><span class="nav-number">12.3.</span> <span class="nav-text">&lt; Interval search trees</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Rectangle-intersection"><span class="nav-number">12.4.</span> <span class="nav-text">&lt; Rectangle intersection</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Hash-Tables"><span class="nav-number">13.</span> <span class="nav-text">Hash Tables</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Hash-function"><span class="nav-number">13.1.</span> <span class="nav-text">&lt; Hash function</span></a></li></ol></li></ol></div>
        </div>
        <!--/noindex-->

        <div class="site-overview-wrap sidebar-panel">
          <div class="site-author animated" itemprop="author" itemscope itemtype="http://schema.org/Person">
    <img class="site-author-image" itemprop="image" alt="Bob"
      src="/images/avatar.jpg">
  <p class="site-author-name" itemprop="name">Bob</p>
  <div class="site-description" itemprop="description">I'm a Software Engineer!</div>
</div>
<div class="site-state-wrap animated">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
        <a href="/archives/">
          <span class="site-state-item-count">48</span>
          <span class="site-state-item-name">posts</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
          <a href="/categories/">
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">categories</span></a>
      </div>
      <div class="site-state-item site-state-tags">
          <a href="/tags/">
        <span class="site-state-item-count">49</span>
        <span class="site-state-item-name">tags</span></a>
      </div>
  </nav>
</div>

        </div>
      </div>
    </div>

    
  </aside>


    </div>

    <div class="main-inner post posts-expand">


  


<div class="post-block">
  
  

  <article itemscope itemtype="http://schema.org/Article" class="post-content" lang="en">
    <link itemprop="mainEntityOfPage" href="https://bobbyliujb.github.io/2016/11/02/coursera_algorithm1/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.jpg">
      <meta itemprop="name" content="Bob">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Bob's Blog">
      <meta itemprop="description" content="I'm a Software Engineer!">
    </span>

    <span hidden itemprop="post" itemscope itemtype="http://schema.org/CreativeWork">
      <meta itemprop="name" content="Note for coursera Princeton Algorithm I | Bob's Blog">
      <meta itemprop="description" content="">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          Note for coursera Princeton Algorithm I
        </h1>

        <div class="post-meta-container">
          <div class="post-meta">
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar"></i>
      </span>
      <span class="post-meta-item-text">Posted on</span>

      <time title="Created: 2016-11-02 23:43:55" itemprop="dateCreated datePublished" datetime="2016-11-02T23:43:55-07:00">2016-11-02</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-calendar-check"></i>
      </span>
      <span class="post-meta-item-text">Edited on</span>
      <time title="Modified: 2017-05-29 12:00:00" itemprop="dateModified" datetime="2017-05-29T12:00:00-07:00">2017-05-29</time>
    </span>
    <span class="post-meta-item">
      <span class="post-meta-item-icon">
        <i class="far fa-folder"></i>
      </span>
      <span class="post-meta-item-text">In</span>
        <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
          <a href="/categories/Course/" itemprop="url" rel="index"><span itemprop="name">Course</span></a>
        </span>
    </span>

  
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="far fa-comment"></i>
      </span>
      <span class="post-meta-item-text">Disqus: </span>
    
    <a title="disqus" href="/2016/11/02/coursera_algorithm1/#disqus_thread" itemprop="discussionUrl">
      <span class="post-comments-count disqus-comment-count" data-disqus-identifier="2016/11/02/coursera_algorithm1/" itemprop="commentCount"></span>
    </a>
  </span>
  
  
</div>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody"><p><a target="_blank" rel="noopener" href="https://coursera.org/learn/introduction-to-algorithms">Introduction to Algorithms I</a>. All meterials credit to Princeton.</p>
<span id="more"></span>

<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=default"></script>


<h3 id="Course-Introduction"><a href="#Course-Introduction" class="headerlink" title="Course Introduction"></a>Course Introduction</h3><p> Algorithms + Data Structures &#x3D; Programs.</p>
<hr>
<h3 id="Union-Find"><a href="#Union-Find" class="headerlink" title="Union-Find"></a>Union-Find</h3><h4 id="Dynamic-Connectivity"><a href="#Dynamic-Connectivity" class="headerlink" title="&lt; Dynamic Connectivity"></a>&lt; Dynamic Connectivity</h4><ul>
<li>Connections are reflexible(p-&gt;p), symmetric(p-&gt;q, q-&gt;p) and transitive.</li>
<li>Connected components: Maximal sets of objects that are matually connected.</li>
</ul>
<h4 id="Quick-Find"><a href="#Quick-Find" class="headerlink" title="&lt; Quick-Find"></a>&lt; Quick-Find</h4><ul>
<li>Data structure: Integer array id[]. p and q are connected iff(if and only if) they have the same id.</li>
<li>Find: check if id[p] &#x3D;&#x3D; id[q].</li>
<li>Union: merge components containing p and q, namely change <strong>all entries</strong> whose id equals id[p] to id[q].</li>
<li>Implementation &amp; Analysis: Quick-Find is a slow one for UF because the Union operation is O(N). Considering another O(N) for initialization, in total it takes \(N^2\)(<strong>quandratic</strong>) array accesses to process a sequence of N union commands on N objects.</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Eager approach for Union-Find</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">QuickFindUF</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] id;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">QuickFindUf</span><span class="params">(<span class="type">int</span> len)</span> &#123;</span><br><span class="line">        id = <span class="keyword">new</span> <span class="title class_">int</span>[len];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            id[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isConnected</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id[p] == id[q];</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">union</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">pid</span> <span class="operator">=</span> id[p];</span><br><span class="line">        <span class="type">int</span> <span class="variable">qid</span> <span class="operator">=</span> id[q];</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> id.length;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (id[i] == pid) &#123;</span><br><span class="line">                id[i] = qid;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Quick-Union"><a href="#Quick-Union" class="headerlink" title="&lt; Quick-Union"></a>&lt; Quick-Union</h4><ul>
<li>Data structure: Integer array id[], but id[i] refers to the parent of i.</li>
<li>Find: check if p and q have the same root.</li>
<li>Union: merge components containing p and q, namely set the id of p’s root to the id of q’s root.</li>
<li>Implementation &amp; Analysis: Quick-Union is still a slow one for UF. Since the tree might get very tall, Find can be really expensive and the Union will reach O(N) in the worst case because it includes Find operation.</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// lazy approach</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">QuickUnionUF</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] id;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">QuickUnionUF</span><span class="params">(<span class="type">int</span> len)</span> &#123;</span><br><span class="line">        id = <span class="keyword">new</span> <span class="title class_">int</span>[len];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            id[i] = i;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">getRoot</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (i != id[i]) &#123;</span><br><span class="line">            i = id[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isConnected</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> getRoot(p) == getRoot(q);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">union</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> root(p);</span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> root(q);</span><br><span class="line">        id[i] = j;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Improvements"><a href="#Improvements" class="headerlink" title="&lt; Improvements"></a>&lt; Improvements</h4><ul>
<li>Weighted Quick-Union: In Quick-Union, to avoid tall trees, we can track the size of each tree and always link the root of the smaller tree to root of the larger one.<br>  -&gt; data structure: Same as Quick-Union, an array storing the parent. Need additional int array sz[] to store the number of objects in each tree.<br>  -&gt; Find: Same as Quick-Union, checking if the two items have the same root.<br>  -&gt; Union: Need to compare the size of the two trees before merging to make sure the smaller one is linked to the larger one. Don’t forget to update the sz[] afterwards.<br>  -&gt; Implementation &amp; Analysis: Tree is balanced by introducing sz[], and the Find takes time proportional to depth (at most \(lgN\) for N objects) of p and q, and Union takes constant time for given roots.</li>
</ul>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WeightedQuickUnionUF</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] id;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span>[] sz;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">WeightedQuickUnionUF</span><span class="params">(<span class="type">int</span> len)</span> &#123;</span><br><span class="line">        id = <span class="keyword">new</span> <span class="title class_">int</span>[len];</span><br><span class="line">        sz = <span class="keyword">new</span> <span class="title class_">int</span>[len];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            id[i] = i;</span><br><span class="line">            sz[i] = <span class="number">1</span>;    <span class="comment">// only itself in its tree</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="title function_">getRoot</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (i != id[i]) &#123;</span><br><span class="line">            i = id[i];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isConnected</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> root(p) == root(q);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">union</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> getRoot(p);</span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> getRoot(q);</span><br><span class="line">        <span class="keyword">if</span> (i == j) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="keyword">if</span> (sz[i] &lt; sz[j]) &#123;</span><br><span class="line">            id[i] = j;</span><br><span class="line">            sz[j] += sz[i];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            id[j] = i;</span><br><span class="line">            sz[i] += sz[j];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  -&gt; Provement for proposition “Depth of any node x is at most lg<em>N</em>“:<br>   The depth of x increases by 1 when its tree T1 is merged to another larger tree T2. Since the size of T2 is larger than T1, the size of T1 at least doubles. The fact is that the tree containing x with size N can double at most \(lgN\) times. We can assume each time the tree containing x is merged, the newly-formed tree gets a doubled size N. So divide the size N by 2 again and again, we can trace back how many times was x added to this tree, which is exactly x’s depth, and obviously it can only be divided at most for \(lgN\) times.</p>
<ul>
<li>Path Compression: Flat the tree simply by adding one line of code to Weighted Quick-Union! Always update the direct parent in the query process.</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WQUPC</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> id[];</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> sz[];</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">WQUPC</span><span class="params">(<span class="type">int</span> len)</span> &#123;</span><br><span class="line">        id = <span class="keyword">new</span> <span class="title class_">int</span>[];</span><br><span class="line">        sz = <span class="keyword">new</span> <span class="title class_">int</span>[];</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">            id[i] = i;</span><br><span class="line">            sz[i] = <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getRoot</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (i != id[i]) &#123;</span><br><span class="line">            id[i] = id[id[i]];    <span class="comment">// assign current node to its parent&#x27;s parent</span></span><br><span class="line">            i = id[i];    <span class="comment">// If i is not updated, it is id[id[i]].</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isConnected</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span> &#123;...&#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">union</span><span class="params">(<span class="type">int</span> p, <span class="type">int</span> q)</span> &#123;...&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="Analysis-of-Algorithms"><a href="#Analysis-of-Algorithms" class="headerlink" title="Analysis of Algorithms"></a>Analysis of Algorithms</h3><h4 id="Introduction"><a href="#Introduction" class="headerlink" title="&lt; Introduction"></a>&lt; Introduction</h4><ul>
<li>Reason to analysis: predict performance, compare algorithms, provide guarantees and understand theoretical basis. More practically, avoid performance bugs.</li>
<li>Intrisic estimate: lg(Thousand) is about 10. lg(Million) is about 20. lg(Billion) is about 30.</li>
</ul>
<h4 id="Observations"><a href="#Observations" class="headerlink" title="&lt; Observations"></a>&lt; Observations</h4><ul>
<li>Timing a program:<br>  -&gt; Measuring the running time: manually or use code to automatically trace the elapsed executing time.<br>  -&gt; Empirical analysis: Use existing data of running time to estimate the unknown timing with different input scale. Usually we use Data analysis to find the regular between running time <em>T(N)</em> and input size N, which is assumed to be linear in the log-log plot. That is, \(lg(T(N)) &#x3D; b*lgN + c\). Particularly, the ratio of \(lg(T(N))\) and \(lgN\)(slope in the log-log plot) can be estimated by take the lg value of the ratio of T(2t) and T(t).<br>  <img src="https://ww4.sinaimg.cn/large/9b3a5c2fgw1f9dmxo7lmpj20fh0913yx.jpg"></li>
</ul>
<h4 id="Mathematical-models"><a href="#Mathematical-models" class="headerlink" title="&lt; Mathematical models"></a>&lt; Mathematical models</h4><p> We can simply list all the operations in the program and their corresponding time as a function of input N in a table. But we have more choices to simplify the calculations. For example, we can only care about the most expensive part.</p>
<ul>
<li>Cost model: Select the most time-consuming operation to estimate. Among the <code>N + 2</code>, <code>N(N - 1)</code>, <code>1/2(N + 1)(N + 2)</code>, the cost model is the largest one <code>N(N - 1)</code>.</li>
<li>Tilde notation: Ignore the lower order terms. <code>N + 2</code>\(\rightarrow\) ~N, <code>N(N - 1)</code>\(\rightarrow\) ~\(N^2\), <code>1/2(N + 1)(N + 2)</code>\(\rightarrow\) ~\(\frac{1}{2}N^2\).</li>
</ul>
<h4 id="Order-of-growth-classifications"><a href="#Order-of-growth-classifications" class="headerlink" title="&lt; Order-of-growth classifications"></a>&lt; Order-of-growth classifications</h4><p> The order-of-growth classifications can be represented by a small set of functions:<br> 1, \(logN\), \(N\), \(NlgN\), \(N^2\), \(N^3\) and \(2^N\), whose log-log plot looks like this:<br> <img src="https://ww2.sinaimg.cn/large/9b3a5c2fgw1f9ds7dg6qpj20a40anmy1.jpg"><br> <img src="https://ww2.sinaimg.cn/large/9b3a5c2fgw1f9ds8jibjrj20mf0egjts.jpg"><br> Take a look at binary search. The Princeton version uses at most \(1 + lgN\) compares to search in a sorted array of size N.<br> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Princeton version</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">binarySearch</span><span class="params">(<span class="type">int</span>[] a, <span class="type">int</span> key)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">lo</span> <span class="operator">=</span> <span class="number">0</span>, hi = a.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (lo &lt;= hi) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> lo + (hi - lo) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (key &lt; a[mid]) &#123;</span><br><span class="line">            hi = mid - <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (key &gt; a[mid]) &#123;</span><br><span class="line">            lo = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// My version</span></span><br><span class="line">pulbic <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">binarySearch2</span><span class="params">(<span class="type">int</span>[] a, <span class="type">int</span> key)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> <span class="number">0</span>, right = a.length - <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (left &lt; right) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> (left + right) / <span class="number">2</span>;</span><br><span class="line">        <span class="keyword">if</span> (key &gt; a[mid]) &#123;</span><br><span class="line">            left = mid + <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            right = mid;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (a[left] == key) &#123;</span><br><span class="line">        <span class="keyword">return</span> left</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="Theory-of-algorithms"><a href="#Theory-of-algorithms" class="headerlink" title="&lt; Theory of algorithms"></a>&lt; Theory of algorithms</h4><ul>
<li>Big Theta: Used to classify algorithms, take the exact order of growth. (term with maximum exponent)</li>
<li>Big Oh: Used to develop the upper bounds, where the actual cost should be smaller or equal to the term.</li>
<li>Big Omega: Used to develop the lower bounds, where the actual cost should be larger or equal to the term.</li>
<li>Tilde: <strong>Provide approximate model</strong>. Many people mistakenly take Big O() as approximate model.<br> <img src="https://ww3.sinaimg.cn/large/9b3a5c2fgw1f9dwws0wwyj20pf0eita7.jpg"></li>
</ul>
<hr>
<h3 id="Bags-Stacks-and-Queues"><a href="#Bags-Stacks-and-Queues" class="headerlink" title="Bags, Stacks and Queues"></a>Bags, Stacks and Queues</h3><h4 id="Separate-interface-and-implementation"><a href="#Separate-interface-and-implementation" class="headerlink" title="&lt; Separate interface and implementation"></a>&lt; Separate interface and implementation</h4><ul>
<li>Client: program using operations defined in interface;</li>
<li>Interface: description of data type, basic operations;</li>
<li>Implementation: actual code making operations happen;</li>
<li>Deciplined design: create modular, reusable libraries.</li>
<li>Performance: try to optimize the implementations.</li>
<li>Prefer compile-time error and avoid run-time error, so that we can have some confidence that it will work for any client.</li>
</ul>
<h4 id="Stack"><a href="#Stack" class="headerlink" title="&lt; Stack"></a>&lt; Stack</h4><ul>
<li>LIFO: Last in first out.</li>
<li>Implementation Detail:<br>  -&gt; Underflow: pop from an empty stack. Throw exception.<br>  -&gt; Overflow: resize array in array version stack.<br>  -&gt; Null items: Insertion of null items allowed?<br>  -&gt; Loitering: Holding a reference to an object when it is no longer needed?</li>
</ul>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> String <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> s[--N];    <span class="comment">// the poped item still exists.</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">pop</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">item</span> <span class="operator">=</span> s[--N];</span><br><span class="line">    s[N] = <span class="literal">null</span>;    <span class="comment">// Avoid Loitering: garbage collector will do the rest</span></span><br><span class="line">    <span class="keyword">return</span> itme;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Resizing array version stack: In array implementation, every grow&#x2F;shrink need to copy some existing items to new places. Too expensive!<br>  -&gt; Grow: Double the size when full.<br>  -&gt; Shrink: halve the size when 1&#x2F;4 full. (1&#x2F;2 would be too frequent when pop-push flipping)</li>
</ul>
<h4 id="Queue"><a href="#Queue" class="headerlink" title="&lt; Queue"></a>&lt; Queue</h4><ul>
<li>FIFO: First in first out.</li>
</ul>
<hr>
<h3 id="Elementery-Sorts"><a href="#Elementery-Sorts" class="headerlink" title="Elementery Sorts"></a>Elementery Sorts</h3><h4 id="Comparable"><a href="#Comparable" class="headerlink" title="&lt; Comparable"></a>&lt; Comparable</h4><ul>
<li>total order<br>  -&gt; Antisymmetry: if \(v \le w\) and \(w \le v\), then \(v &#x3D; w\).<br>  -&gt; Transitivity: if \(v \le w\) and \(w \le x\), then \(v \le x\).<br>  -&gt; Totality: either \(v \le w\) or \(w \le v\) or both.</li>
<li>Callback: reference to executable code.<br>  -&gt; Java: Interfaces;<br>  -&gt; C++:  class-type functors(伪函数，即);<br>  -&gt; C:    function pointers;<br>  -&gt; C#:   delegates;<br>  -&gt; Python, JavaScript: first-class functions.</li>
<li>User-defined comparable types: Implement the Comparable interface for sort</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Date</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Date&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> month, day, year;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Date</span><span class="params">(<span class="type">int</span> m, <span class="type">int</span> d, <span class="type">int</span> y)</span> &#123;    <span class="comment">// Constructor</span></span><br><span class="line">        month = m;</span><br><span class="line">        day = d;</span><br><span class="line">        year = y;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Date that)</span> &#123;    <span class="comment">// return - / 0 / +</span></span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.year &lt; that.year)    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.year &gt; that.year)    <span class="keyword">return</span> +<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.month &lt; that.month)    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.month &gt; that.month)    <span class="keyword">return</span> +<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.day &lt; that.day)    <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">this</span>.day &gt; that.day)    <span class="keyword">return</span> +<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Selection-Sort"><a href="#Selection-Sort" class="headerlink" title="&lt; Selection Sort"></a>&lt; Selection Sort</h4><ul>
<li>Idea: Scan from starting index i to right and select the index j of minimum value. Then swap(a, i, j).</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">selectionSort</span><span class="params">(Comparable[] a)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; a.length; i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> i;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i + <span class="number">1</span>; j &lt; a.length; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (less(a[j], a[index])) &#123;</span><br><span class="line">                index = j;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        swap(a, i, index);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Insertion-Sort"><a href="#Insertion-Sort" class="headerlink" title="&lt; Insertion Sort"></a>&lt; Insertion Sort</h4><ul>
<li>Idea: Swap each larger item to a[i]’s left where a[0 ~ a-1] is already sorted.</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">insertionSort</span><span class="params">(Comparable[] a)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; a.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (j = i; j &gt; <span class="number">0</span> &amp;&amp; less(a[j], a[j - <span class="number">1</span>]); j--) &#123;</span><br><span class="line">            swap(a, j, j - <span class="number">1</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>


<h4 id="Shell-Sort"><a href="#Shell-Sort" class="headerlink" title="&lt; Shell Sort"></a>&lt; Shell Sort</h4><ul>
<li>Idea: insertion sort with decreasing increment.</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">shellSort</span><span class="params">(Comparable[] a)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">h</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">while</span> (h &lt; a.length / <span class="number">3</span>) &#123;</span><br><span class="line">        h = <span class="number">3</span>*h + <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (h &gt;= <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> h; i &lt; a.length; i++) &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i; j &gt;= h &amp;&amp; less(a, j, j - h); j -= h) &#123;</span><br><span class="line">                swap(a, j, j - h);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        h = h / <span class="number">3</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Bubble-Sort"><a href="#Bubble-Sort" class="headerlink" title="&lt; Bubble Sort"></a>&lt; Bubble Sort</h4><ul>
<li>Idea: Swap smaller value from the tail to the front at finished index i.</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">bubbleSort</span><span class="params">(Comparable[] a)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; a.length; i++) &#123;</span><br><span class="line">        <span class="keyword">for</span> (j = a.length - <span class="number">1</span>; j &gt; i; j--) &#123;</span><br><span class="line">            <span class="keyword">if</span> (less(a[j], a[j - <span class="number">1</span>])) &#123;</span><br><span class="line">                swap(a, j, j - <span class="number">1</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="Integer-Sort"><a href="#Integer-Sort" class="headerlink" title="Integer Sort"></a>Integer Sort</h3><p>These methods can only be applied to integer collections or objects that can be mapped to integers.</p>
<h4 id="Bucket-Sort"><a href="#Bucket-Sort" class="headerlink" title="&lt; Bucket Sort"></a>&lt; Bucket Sort</h4><ul>
<li>Idea: Mark the items in original collection in the auxillary bucket. Then output the indices that have marks in order.</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">bucketSort</span><span class="params">(<span class="type">int</span>[] a)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">bucket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">999999</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; a.length; i++) &#123;</span><br><span class="line">        bucket[a[i]] ++;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>, k = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">while</span> (j &lt; a.length &amp;&amp; k &lt; bucket.length) &#123;</span><br><span class="line">        <span class="keyword">while</span> ((bucket[k]--) &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            a[j++] = k;</span><br><span class="line">        &#125;</span><br><span class="line">        k++;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h4 id="Radix-Sort"><a href="#Radix-Sort" class="headerlink" title="&lt; Radix Sort"></a>&lt; Radix Sort</h4><ul>
<li>Idea: Sort with each digit, from unit digit to tens, to hundreds, etc.</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">radixSort</span><span class="params">(<span class="type">int</span>[] A, <span class="type">int</span> radix, <span class="type">int</span> maxLength)</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] temp = <span class="keyword">new</span> <span class="title class_">int</span>[A.length];</span><br><span class="line">    <span class="type">int</span>[] bucket = <span class="keyword">new</span> <span class="title class_">int</span>[radix];</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>, devide = <span class="number">1</span>; i &lt; maxLength; i++) &#123;</span><br><span class="line">        Arrays.fill(bucket, <span class="number">0</span>);</span><br><span class="line">        System.arraycopy(A, <span class="number">0</span>, temp, <span class="number">0</span>, A.length);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; A.length; j++) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">subKey</span> <span class="operator">=</span> (temp[j] / devide) % radix;</span><br><span class="line">            bucket[subKey]++;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">1</span>; j &lt; radix; j++) &#123;</span><br><span class="line">            bucket[j] = bucket[j] + bucket[j - <span class="number">1</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> A.length - <span class="number">1</span>; k &gt;= <span class="number">0</span>; k--) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">subKey</span> <span class="operator">=</span> (temp[k] / devide) % radix;</span><br><span class="line">            bucket[subKey]--;</span><br><span class="line">            A[bucket[subKey]] = temp[k];</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        devide *= radix;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="Merge-Sort"><a href="#Merge-Sort" class="headerlink" title="Merge Sort"></a>Merge Sort</h3><h4 id="Basic"><a href="#Basic" class="headerlink" title="&lt; Basic"></a>&lt; Basic</h4><ul>
<li>Idea: devide and conquer. Let the ordered subsequence merge to the whole ordered sequence</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">mergeSort</span><span class="params">(Comparable[] A, <span class="type">int</span> start, <span class="type">int</span> end)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (start &gt;= end)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> (start + end) / <span class="number">2</span>;</span><br><span class="line">    </span><br><span class="line">    mergeSort(A, start, mid);</span><br><span class="line">    mergeSort(A, mid + <span class="number">1</span>, end);</span><br><span class="line">    merge(A, start, mid, end);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">merge</span><span class="params">(Comparable[] A, <span class="type">int</span> start, <span class="type">int</span> mid, <span class="type">int</span> end)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> start;</span><br><span class="line">    <span class="type">int</span> <span class="variable">right</span> <span class="operator">=</span> mid + <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> start;</span><br><span class="line">    Comparable[] temp = <span class="keyword">new</span> <span class="title class_">Comparable</span> [A.length];</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// the first half of A is in order. So as the second half.</span></span><br><span class="line">    <span class="keyword">while</span> (left &lt;= mid &amp;&amp; right &lt;= end) &#123;</span><br><span class="line">        <span class="keyword">if</span> (less(A[left], A[right])) &#123;</span><br><span class="line">            temp[index++] = A[left++];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            temp[index++] = A[right++];</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// Collect the rest part of A into temp. Only one of the whiles can execute.</span></span><br><span class="line">    <span class="keyword">while</span> (left &lt;= mid) &#123;</span><br><span class="line">        temp[index++] = A[left++];</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">while</span> (right &lt;= end) &#123;</span><br><span class="line">        temp[index++] = A[right++];</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// copy the merged sequence in temp back to A</span></span><br><span class="line">    <span class="keyword">for</span> (index = start; index &lt;= end; index++) &#123;</span><br><span class="line">        A[index] = temp[index];</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Improvement"><a href="#Improvement" class="headerlink" title="&lt; Improvement"></a>&lt; Improvement</h4><ul>
<li>Insertion sort: When subarray is of small size, use insertion to get them sorted.</li>
<li>Check before merge: When a[mid] &lt; a[mid + 1], the two subarray is already in order, so no need to merge.</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">mergeSort</span><span class="params">(Comparable[] A, <span class="type">int</span> start, <span class="type">int</span> end)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (start &gt;= end)</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (end &lt;= start + CUTOFF - <span class="number">1</span>) &#123;    <span class="comment">// CUTOFF MIGHT BE 7</span></span><br><span class="line">        insertSort(A, start, end);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">int</span> <span class="variable">mid</span> <span class="operator">=</span> (start + end) / <span class="number">2</span>;</span><br><span class="line">    mergeSort(A, start, mid);</span><br><span class="line">    mergeSort(A, mid + <span class="number">1</span>, end);</span><br><span class="line">    <span class="keyword">if</span> (!less(A[mid+<span class="number">1</span>], A[mid]))        <span class="comment">// Subarray already in order</span></span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    merge(A, start, mid, end);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Switch a[] and aux[]: Elliminate the time to copy from a[] to aux[] by switching the sequence of parameters passing into merge() and sort() each time.<br>  <img src="https://ww1.sinaimg.cn/large/9b3a5c2fgy1fejwlq5nvtj20ff09baau.jpg"></li>
</ul>
<h4 id="Comparator"><a href="#Comparator" class="headerlink" title="&lt; Comparator"></a>&lt; Comparator</h4><ul>
<li>Comparable and Comparator interface: the former is about sorting using a type’s natural order, and the latter is about sorting using an alternative order. Comparator类似一个外部的比较器，如果不指定，则会调用该类内部的comparable来比较。</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Point2D</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> Comparator&lt;Point2D&gt; POLAR_ORDER = <span class="keyword">new</span> <span class="title class_">PolarOrder</span>();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">double</span> x, y;</span><br><span class="line">    ...</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">ccw</span><span class="params">(Point2D a, Point2D b, Point2D c)</span> &#123; </span><br><span class="line">        <span class="type">double</span> <span class="variable">area2</span> <span class="operator">=</span> (b.x-a.x)*(c.y-a.y) - (b.y-a.y)*(c.x-a.x);</span><br><span class="line">        <span class="keyword">if</span> (area2 &lt; <span class="number">0</span>) <span class="keyword">return</span> -<span class="number">1</span>; <span class="comment">// clockwise</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (area2 &gt; <span class="number">0</span>) <span class="keyword">return</span> +<span class="number">1</span>; <span class="comment">// counter-clockwise</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">// collinear</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">PolarOrder</span> <span class="keyword">implements</span> <span class="title class_">Comparator</span>&lt;Point2D&gt; &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Point2D q1, Point2D q2)</span> &#123;</span><br><span class="line">            <span class="type">double</span> <span class="variable">dy1</span> <span class="operator">=</span> q1.y - y;</span><br><span class="line">            <span class="type">double</span> <span class="variable">dy2</span> <span class="operator">=</span> q2.y - y;</span><br><span class="line">            <span class="keyword">if</span> (dy1 == <span class="number">0</span> &amp;&amp; dy2 == <span class="number">0</span>) &#123; ... &#125;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (dy1 &gt;= <span class="number">0</span> &amp;&amp; dy2 &lt; <span class="number">0</span>) <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (dy2 &gt;= <span class="number">0</span> &amp;&amp; dy1 &lt; <span class="number">0</span>) <span class="keyword">return</span> +<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">return</span> -ccw(Point2D.<span class="built_in">this</span>, q1, q2);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Stablity"><a href="#Stablity" class="headerlink" title="&lt; Stablity"></a>&lt; Stablity</h4><ul>
<li>Maintain the original order for equal value.</li>
<li>Useless? No! Think about firstly sort by field A and then B, how to guarantee the correct order that is already set in field A when sorting two equal B value? Only stable algorithm can.</li>
<li>Stable: Insertion, Merge</li>
<li>Instable: Selection, Shell, Quick</li>
</ul>
<hr>
<h3 id="Quick-Sort"><a href="#Quick-Sort" class="headerlink" title="Quick Sort"></a>Quick Sort</h3><h4 id="Basic-1"><a href="#Basic-1" class="headerlink" title="&lt; Basic"></a>&lt; Basic</h4><ul>
<li>Idea: Move the radix to somewhere so that the left-hand sides are all smaller than it and the right-hand sides are greater.</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">quickSort</span><span class="params">(Comparable[] A, <span class="type">int</span> start, <span class="type">int</span> end)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (start &gt;= end) </span><br><span class="line">        <span class="keyword">return</span>;            <span class="comment">// recursion ending condition.</span></span><br><span class="line">    </span><br><span class="line">    <span class="type">int</span> <span class="variable">left</span> <span class="operator">=</span> start, right = end;</span><br><span class="line">    <span class="type">Comparable</span> <span class="variable">pivot</span> <span class="operator">=</span> A[(start + end)/<span class="number">2</span>];        <span class="comment">// take random item as pivot. Here it is the middle.</span></span><br><span class="line">    <span class="keyword">while</span> (left &lt;= right) &#123;</span><br><span class="line">        <span class="keyword">while</span> (left &lt;= right &amp;&amp; less(A[left], pivot))</span><br><span class="line">            left++;            <span class="comment">// from left to right to find the first item not smaller than pivot.</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> (left &lt;= right &amp;&amp; greater(A[right], pivot)) </span><br><span class="line">            right--;        <span class="comment">// from right to left to find the first item not greater than pivot.</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> (left &lt;= right) &#123;</span><br><span class="line">            swap(A, left, right);  <span class="comment">// let the greater-than-pivot item swap with the smaller one</span></span><br><span class="line">            left++;     </span><br><span class="line">            right--;    <span class="comment">// continue to </span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    quickSort(A, start, right);</span><br><span class="line">    quickSort(A, left, end);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="Improvement-1"><a href="#Improvement-1" class="headerlink" title="&lt; Improvement"></a>&lt; Improvement</h4><ul>
<li>Insertion sort: When subarray is of small size, use insertion to get them sorted.</li>
<li>Median as pivot: Take sample 3 items to estimate the median of the list, and swap the median to the front as pivot.</li>
</ul>
<h4 id="3-way-QuickSort"><a href="#3-way-QuickSort" class="headerlink" title="&lt; 3-way QuickSort"></a>&lt; 3-way QuickSort</h4><ul>
<li>Idea: Since quickSort goes quadratic unless partitioning stops on equal keys, in equal-keys-prevail array, put all items equal to the pivot in place by adding lt and gt.<br> <img src="https://ww1.sinaimg.cn/large/9b3a5c2fgy1fejyqzz1b9j20im0cn0ts.jpg"></li>
</ul>
<h4 id="Usage"><a href="#Usage" class="headerlink" title="&lt; Usage"></a>&lt; Usage</h4><ul>
<li>Quick-Selection: Select the kth max&#x2F;min item.</li>
</ul>
<hr>
<h3 id="Priority-Queues"><a href="#Priority-Queues" class="headerlink" title="Priority Queues"></a>Priority Queues</h3><h4 id="Binary-heaps"><a href="#Binary-heaps" class="headerlink" title="&lt; Binary heaps"></a>&lt; Binary heaps</h4><ul>
<li>binary tree: empty or node with links to left and right binary trees.</li>
<li>complete tree: prefectly balanced, except for the bottom level.</li>
<li>height of complete tree: \(\lfloor lgN \rfloor\) with \(N\) nodes.(???So one-node tree means 0?)</li>
<li>binary heap: each parent has a larger key than its children.</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">createMaxHeap</span><span class="params">(Comparable[] A, <span class="type">int</span> end)</span> &#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> (end - <span class="number">1</span>) / <span class="number">2</span>; i &gt;= <span class="number">0</span>; i--) &#123;    <span class="comment">// Start from the father of the very last child</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">fatherIndex</span> <span class="operator">=</span> i;</span><br><span class="line">        <span class="keyword">while</span> (<span class="number">2</span> * fatherIndex + <span class="number">1</span> &lt;= end) &#123;    <span class="comment">// If the node has at least a left child</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">biggerIndex</span> <span class="operator">=</span> <span class="number">2</span> * fatherIndex + <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span> (biggerIndex &lt; end) &#123;    <span class="comment">// If it also has a right child</span></span><br><span class="line">                <span class="keyword">if</span> (less(A[biggerIndex], A[biggerIndex + <span class="number">1</span>]))</span><br><span class="line">                    biggerIndex ++;        <span class="comment">// Select the bigger one between left &amp; right</span></span><br><span class="line">            &#125;</span><br><span class="line">            </span><br><span class="line">            <span class="keyword">if</span> (less(A[fatherIndex], A[biggerIndex])) &#123;    <span class="comment">// If the father is smaller than the bigger child</span></span><br><span class="line">                swap(A, fatherIndex, biggerIndex);</span><br><span class="line">                fatherIndex = biggerIndex;        <span class="comment">// Continue to compare to the childen after swap</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">break</span>;        <span class="comment">// father is already the greatest</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="HeapSort"><a href="#HeapSort" class="headerlink" title="&lt; HeapSort"></a>&lt; HeapSort</h4><ul>
<li>Idea: Take the root of binary heap and rebuild the heap.</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">maxHeapSort</span><span class="params">(Comparable[] A)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> A.length;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; size; i++) &#123;</span><br><span class="line">        createMaxHeap(A, size - <span class="number">1</span> - i);</span><br><span class="line">        swap(A, <span class="number">0</span>, size - <span class="number">1</span> - i);       <span class="comment">// put the max root at the end</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">createMaxHeap</span><span class="params">(Comparable[] A, <span class="type">int</span> end)</span> &#123;...&#125;</span><br></pre></td></tr></table></figure>

<p><img src="https://ww1.sinaimg.cn/large/9b3a5c2fgy1fek5wjqbxuj20i10a1gmm.jpg"></p>
<hr>
<h3 id="Binary-Search-Trees-BSTs"><a href="#Binary-Search-Trees-BSTs" class="headerlink" title="Binary Search Trees(BSTs)"></a>Binary Search Trees(BSTs)</h3><h4 id="Basic-2"><a href="#Basic-2" class="headerlink" title="&lt; Basic"></a>&lt; Basic</h4><ul>
<li>Definition: A BST is a binary tree with an order where each node’s key is larger than all keys in its left subtrees and smaller than all keys in its right subtree.</li>
<li>Node: 4 fields - key, value, reference to left and right subtree.</li>
<li>Improvement: Add one more field “int count” to track the size of each subtree at the corresponding root node. Help with rank() and select();</li>
</ul>
<h4 id="Operations"><a href="#Operations" class="headerlink" title="&lt; Operations"></a>&lt; Operations</h4><ul>
<li>Floor: get the biggest key that is smaller than the given key.</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Key <span class="title function_">floor</span><span class="params">(Key key)</span> &#123;</span><br><span class="line">	<span class="type">Node</span> <span class="variable">x</span> <span class="operator">=</span> floor(root, key);</span><br><span class="line">	<span class="keyword">if</span> (x == <span class="literal">null</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> x.key;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> Node <span class="title function_">floor</span><span class="params">(Node x, Key key)</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> (x == <span class="literal">null</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> <span class="variable">cmp</span> <span class="operator">=</span> key.compareTo(x.key);</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span> (cmp == <span class="number">0</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> x;</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> (cmp &lt; <span class="number">0</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> floor(x.left, key);</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="type">Node</span> <span class="variable">t</span> <span class="operator">=</span> floor(x.right, key);</span><br><span class="line">		<span class="keyword">if</span> (t != <span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> t;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> x;</span><br><span class="line">		&#125;</span><br><span class="line"> 	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Ceiling: get the smallest key that is bigger than the given key.</li>
<li>Rank: The number of keys that are smaller than the given one.</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">int</span> <span class="title function_">rank</span><span class="params">(Key key, Node x)</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> (x == <span class="literal">null</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> <span class="variable">cmp</span> <span class="operator">=</span> key.compareTo(x.key);</span><br><span class="line">	<span class="keyword">if</span> (cmp &lt; <span class="number">0</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> rank(key, x.left);</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> (cmp &gt; <span class="number">0</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">1</span> + size(x.left) + rank(key, x.right);</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> size(x.left)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>In-order traversal: Traverse the left subtree before output the current root value; tranverse  right subtree after root output.</li>
</ul>
<h4 id="Deletion"><a href="#Deletion" class="headerlink" title="&lt; Deletion"></a>&lt; Deletion</h4><ul>
<li>Lazy version: Simply set the value of that node to null. But unsatisfying for memory overloaded.</li>
<li>DeleteMin: Go left all the way until a node with null left link, and replace that node with its right link. Update the count.</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> Node <span class="title function_">deleteMin</span><span class="params">(Node x)</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> (x.left == <span class="literal">null</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> x.right;</span><br><span class="line">	&#125;</span><br><span class="line">	x.left = deleteMin(x.left);</span><br><span class="line">	x.count = <span class="number">1</span> + size(x.left) + size(x.right);</span><br><span class="line">	<span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Hibbard deletion:<br>  -&gt; [0 children]: Set its parent’s corresponding link to null.<br><img src="https://ww1.sinaimg.cn/large/9b3a5c2fgy1fektggt7ruj20g006xmxw.jpg"><br>  -&gt; [1 child]: Set its parent’s corresponding link to its only child.<br><img src="https://ww1.sinaimg.cn/large/9b3a5c2fgy1fektiv93z6j20gu068js4.jpg"><br>  -&gt; [2 children]: Find the key and put the minimum key in its right subtree on its spot.<br><img src="https://ww1.sinaimg.cn/large/9b3a5c2fgy1feku127a8qj20gf09rdhf.jpg"></li>
</ul>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">delete</span><span class="params">(Key key)</span> &#123;</span><br><span class="line">	root = delete(root, key);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> Node <span class="title function_">delete</span><span class="params">(Node x, Key key)</span> &#123;  <span class="comment">// Recursive code!!!</span></span><br><span class="line">	<span class="keyword">if</span> (x == <span class="literal">null</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> <span class="variable">cmp</span> <span class="operator">=</span> key.compareTo(x.key);</span><br><span class="line">	<span class="keyword">if</span> (cmp &lt; <span class="number">0</span>) &#123;</span><br><span class="line">		x.left = delete(x.left, key);</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> (cmp &gt; <span class="number">0</span>) &#123;</span><br><span class="line">		x.right = delete(x.right, key);</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">if</span> (x.right == <span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> x.left;</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (x.left == <span class="literal">null</span>) &#123;</span><br><span class="line">			<span class="keyword">return</span> x.right;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="type">Node</span> <span class="variable">t</span> <span class="operator">=</span> x;</span><br><span class="line">			x = min(t.right);</span><br><span class="line">			x.right = deleteMin(t.right);</span><br><span class="line">			x.left = t.left;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	x.count = <span class="number">1</span> + size(x.left) + size(x.right);</span><br><span class="line">	<span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<hr>
<h3 id="Balanced-Search-Trees"><a href="#Balanced-Search-Trees" class="headerlink" title="Balanced Search Trees"></a>Balanced Search Trees</h3><h4 id="2-3-search-trees"><a href="#2-3-search-trees" class="headerlink" title="&lt; 2-3 search trees"></a>&lt; 2-3 search trees</h4><ul>
<li>Variable number of keys per node<br>  -&gt; 2-node: one key, two children. left &lt; key &lt; right.<br>  -&gt; 3-node: two keys, three children. left &lt; key1 &lt; mid &lt; key2 &lt; right.</li>
<li>Insertion at the bottom:<br>  -&gt; 2-node: Simply add the key into it and yields a 3-node.<br>  -&gt; 3-node: Add the key and made it temporary 4-node, and then split it by passing the middle key into the parent node, and continue to pass up if necessary.</li>
<li>Perfect balance: Every path from root to null link has the same length.</li>
</ul>
<h4 id="red-black-BSTs"><a href="#red-black-BSTs" class="headerlink" title="&lt; red-black BSTs"></a>&lt; red-black BSTs</h4><ul>
<li>Idea: represent 2-3 search trees as a BST with two types of links. <strong>Null links are black</strong>.</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">boolean</span> <span class="variable">RED</span> <span class="operator">=</span> <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">boolean</span> <span class="variable">BLACK</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">	Key key;</span><br><span class="line">	Value val;</span><br><span class="line">	Node left, right;</span><br><span class="line">	<span class="type">boolean</span> color;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Left-leaning: Force red link leaning to the left as valid glue of a 3-node.<br>  <img src="https://ww1.sinaimg.cn/large/9b3a5c2fgy1fel314v2v0j20iq05tjs6.jpg"></li>
<li>Rule:<br>  -&gt; No node has two red links connected(which means it’s a 4-node).<br>  -&gt; Every path from root to null link has the same number of black links.<br>  -&gt; Red links leans left.</li>
<li>Search: Implemenation is the same but runs faster than BSTs because of better balance.</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Val <span class="title function_">get</span><span class="params">(Key key)</span> &#123;</span><br><span class="line">	<span class="type">Node</span> <span class="variable">x</span> <span class="operator">=</span> root;</span><br><span class="line">	<span class="keyword">while</span> (x != <span class="literal">null</span>) &#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">cmp</span> <span class="operator">=</span> key.compareTo(x.key);</span><br><span class="line">		<span class="keyword">if</span> (cmp &lt; <span class="number">0</span>) &#123;</span><br><span class="line">			x = x.left;</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (cmp &gt; <span class="number">0</span>) &#123;</span><br><span class="line">			x = x.right;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			<span class="keyword">return</span> x.val;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; </span><br><span class="line">	<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>Elementary Operations<br>  -&gt; Rotate Left: When right leaning red links occurs, rotate it left.<br><img src="https://ww1.sinaimg.cn/large/9b3a5c2fgy1fel3v5hx7ij20ez05gjs6.jpg"></li>
</ul>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> Node <span class="title function_">rotateLeft</span><span class="params">(Node h)</span> &#123;</span><br><span class="line">	<span class="keyword">assert</span> <span class="title function_">isRed</span><span class="params">(h.right)</span>;</span><br><span class="line">	<span class="type">Node</span> <span class="variable">x</span> <span class="operator">=</span> h.right;</span><br><span class="line">	h.right = x.left;</span><br><span class="line">	x.left = h;</span><br><span class="line">	x.color = h.color;</span><br><span class="line">	h.color = RED;</span><br><span class="line">	<span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>  -&gt; Rotate Right: When a node has consecutive red links, rotate the upper red link right.<br>   <img src="https://ww1.sinaimg.cn/large/9b3a5c2fgy1fel3zuw9tsj20f305p0tj.jpg"><br>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> Node <span class="title function_">rotateRight</span><span class="params">(Node h)</span> &#123;</span><br><span class="line">	<span class="keyword">assert</span> <span class="title function_">isRed</span><span class="params">(h.left)</span>;</span><br><span class="line">	<span class="type">Node</span> <span class="variable">x</span> <span class="operator">=</span> h.left;</span><br><span class="line">	h.left = x.right;</span><br><span class="line">	x.right = h;</span><br><span class="line">	x.color = h.color;</span><br><span class="line">	h.color = RED;</span><br><span class="line">	<span class="keyword">return</span> x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><br>  -&gt; Color flip: When two red links connected to same parent node, flip the color to split this 4-node.<br>   <img src="https://ww1.sinaimg.cn/large/9b3a5c2fgy1fel434t00mj20lt058myb.jpg"><br>  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">flipColors</span><span class="params">(Node h)</span> &#123;</span><br><span class="line">	<span class="keyword">assert</span> !isRed(h);</span><br><span class="line">	<span class="keyword">assert</span> <span class="title function_">isRed</span><span class="params">(h.left)</span>;</span><br><span class="line">	<span class="keyword">assert</span> <span class="title function_">isRed</span><span class="params">(h.right)</span>;</span><br><span class="line">	h.color = RED;</span><br><span class="line">	h.left.color = BLACK;</span><br><span class="line">	h.right.color = BLACK;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<ul>
<li>Insertion at the bottom:<br>  -&gt; 2-node: Color new link red and rotate if right leaning.<br>  -&gt; 3-node: Color new link red and rotate and&#x2F;or flip along the way to the root to keep balance. Pay attention to the order to cope with 3 kinds of situation that break the balance.<br><img src="https://ww1.sinaimg.cn/large/9b3a5c2fgy1fel5gjkyzxj20h8051jrz.jpg"></li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> Node <span class="title function_">put</span><span class="params">(Node h, Key key, Value val)</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> (h == <span class="literal">null</span>) &#123;</span><br><span class="line">		<span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Node</span>(key, val, RED);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="type">int</span> <span class="variable">cmp</span> <span class="operator">=</span> key.compareTo(h.key);</span><br><span class="line">	<span class="keyword">if</span> (cmp &lt; <span class="number">0</span>) &#123;</span><br><span class="line">		h.left = put(h.left, key, val);</span><br><span class="line">	&#125; <span class="keyword">else</span> <span class="keyword">if</span> (cmp &gt; <span class="number">0</span>) &#123;</span><br><span class="line">		h.right = put(h.right, key, val);</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		h.val = val;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span> (isRed(h.right) &amp;&amp; !isRed(h.left)) &#123;</span><br><span class="line">		h = rotateLeft(h);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="comment">// NOT elseif !!!</span></span><br><span class="line">	<span class="keyword">if</span> (isRed(h.left) &amp;&amp; isRed(h.left.left)) &#123;</span><br><span class="line">		h = rotateRight(h);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span> (isRed(h.left) &amp;&amp; isRed(h.right)) &#123;</span><br><span class="line">		flipColors(h);</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<hr>
<h3 id="Geometric-Search"><a href="#Geometric-Search" class="headerlink" title="Geometric Search"></a>Geometric Search</h3><h4 id="1D-range-search"><a href="#1D-range-search" class="headerlink" title="&lt; 1D range search"></a>&lt; 1D range search</h4><ul>
<li>Range search: Find all keys between k1 and k2.</li>
<li>Range count: Number of keys between k1 and k2.</li>
<li>BST RC: Simply use rank to get the range count.</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">size</span><span class="params">(Key lo, Key hi)</span> &#123;</span><br><span class="line">	<span class="keyword">if</span> (contains(hi)) &#123;</span><br><span class="line">		<span class="keyword">return</span> rank(hi) - rank(lo) + <span class="number">1</span>;</span><br><span class="line">	&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">		<span class="keyword">return</span> rank(hi)</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>BST RS:<br>  -&gt; Recusively find all keys in left subtree;<br>  -&gt; Check key in current node;<br>  -&gt; Recusively find all keys in right subtree;<br> <img src="https://ww1.sinaimg.cn/large/9b3a5c2fgy1felgexk0coj20az07ygmb.jpg"></li>
</ul>
<h4 id="2D-orthogonal-range-search"><a href="#2D-orthogonal-range-search" class="headerlink" title="&lt; 2D orthogonal range search"></a>&lt; 2D orthogonal range search</h4><ul>
<li>Range search: Find all keys lying in a 2D range.</li>
<li>Range count: Number of keys lying in a 2D range.</li>
<li>Data structure: BST using x and y coordinates alternatively.<br> <img src="https://ww1.sinaimg.cn/large/9b3a5c2fgy1felhpsdl9fj20h009c3z3.jpg"></li>
<li>2D tree RS:<br>  -&gt; Check if current node is in range(ractangle);<br>  -&gt; Recusively check all keys in left&#x2F;bottom subtrees;<br>  -&gt; Recusively check all keys in right&#x2F;top subtrees.<br> <img src="https://ww1.sinaimg.cn/large/9b3a5c2fgy1feli02gn3oj20hh07eglx.jpg"></li>
<li>Nearest neighbour search:<br>  -&gt; Check distance from current point to the query point;<br>  -&gt; Recusively check left&#x2F;bottom;<br>  -&gt; Recusively check right&#x2F;top. When getting closer to the query point, some search is pruned.<br> <img src="https://ww1.sinaimg.cn/large/9b3a5c2fgy1felwoqf4hrj20hg07dt92.jpg"></li>
</ul>
<h4 id="Interval-search-trees"><a href="#Interval-search-trees" class="headerlink" title="&lt; Interval search trees"></a>&lt; Interval search trees</h4><ul>
<li>BST with node storing interval. Use left endpoint as key and store max endpoint of each subtree at root.<br>  <img src="https://ww1.sinaimg.cn/large/9b3a5c2fgy1felxvsjf1bj20df07mgm1.jpg"></li>
<li>Insertion: Use left endpoint as key to insert and update max endpoint along the search path.<br>  <img src="https://ww1.sinaimg.cn/large/9b3a5c2fgy1felxzyi9ykj20ff07rwf2.jpg"></li>
<li>Search:<br>  -&gt; If interval in node intersects query interval, return it.<br>  -&gt; Else if left subtree is null, go right.<br>  -&gt; Else if max endpoint in left subtree is less than lo, go right.<br>  -&gt; Else go left.</li>
</ul>
  <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> Interval <span class="title function_">get</span><span class="params">(Key lo, Key hi)</span> &#123;</span><br><span class="line">	<span class="type">Node</span> <span class="variable">x</span> <span class="operator">=</span> root;</span><br><span class="line">	<span class="keyword">while</span> (x != <span class="literal">null</span>) &#123;</span><br><span class="line">		<span class="keyword">if</span> (x.interval.intersects(lo, hi)) &#123;</span><br><span class="line">			<span class="keyword">return</span> x.interval;</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (x.left == <span class="literal">null</span>) &#123;</span><br><span class="line">			x = x.right;</span><br><span class="line">		&#125; <span class="keyword">else</span> <span class="keyword">if</span> (x.left.max &lt; lo) &#123;</span><br><span class="line">			x = x.right;</span><br><span class="line">		&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">			x = x.left;</span><br><span class="line">		&#125;</span><br><span class="line"> 	&#125;</span><br><span class="line"> 	<span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="Rectangle-intersection"><a href="#Rectangle-intersection" class="headerlink" title="&lt; Rectangle intersection"></a>&lt; Rectangle intersection</h4><ul>
<li>Find all intersections among a set of N orthogonal rectangles.</li>
<li>Sweep vertical line method: Triggered by endpoints’ x-coordinates, maintain the y-intervals in BST; Left endpoints trigger interval search for that y-interval and insert, while right endpoints trigger removal of that interval.<br> <img src="https://ww1.sinaimg.cn/large/9b3a5c2fgy1fem0raqmocj20g206omx4.jpg"></li>
</ul>
<hr>
<h3 id="Hash-Tables"><a href="#Hash-Tables" class="headerlink" title="Hash Tables"></a>Hash Tables</h3><h4 id="Hash-function"><a href="#Hash-function" class="headerlink" title="&lt; Hash function"></a>&lt; Hash function</h4><ul>
<li>Idea: Save items in key-index table, where index is a hash function of key.</li>
<li>Hash in user-defined types: make use of prime numbers and built-in hashCode() for Java classes.</li>
</ul>
 <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">Transaction</span> <span class="keyword">implements</span> <span class="title class_">comparable</span>&lt;Transaction&gt; &#123;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">final</span> String who;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">final</span> Date <span class="keyword">when</span>;</span><br><span class="line">	<span class="keyword">private</span> <span class="keyword">final</span> <span class="type">double</span> amount;</span><br><span class="line"></span><br><span class="line">	...</span><br><span class="line">	<span class="keyword">public</span> <span class="type">int</span> <span class="title function_">hashCode</span><span class="params">()</span> &#123;</span><br><span class="line">		<span class="type">int</span> <span class="variable">hash</span> <span class="operator">=</span> <span class="number">17</span>;</span><br><span class="line">		hash = <span class="number">31</span>*hash + who.hashCode();</span><br><span class="line">		hash = <span class="number">31</span>*hash + <span class="keyword">when</span>.hashCode();</span><br><span class="line">		hash = <span class="number">31</span>*hash + ((Double) amount).hashCode();</span><br><span class="line">		<span class="keyword">return</span> hash;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<ul>
<li>Collision: Two distinct keys hashing to same index.</li>
<li>Separate chaining: maintain a chain for the collided keys.</li>
<li>Linear probing: find next empty slot.</li>
</ul>

    </div>

    
    
    

    <footer class="post-footer">
          <div class="post-tags">
              <a href="/tags/java/" rel="tag"># java</a>
              <a href="/tags/algorithm/" rel="tag"># algorithm</a>
              <a href="/tags/coursera/" rel="tag"># coursera</a>
              <a href="/tags/dataStructure/" rel="tag"># dataStructure</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-item">
                <a href="/2016/10/15/javascript_professional_3/" rel="prev" title="(Suspended)Note for Professional JavaScript for Web Developers (3/4)">
                  <i class="fa fa-angle-left"></i> (Suspended)Note for Professional JavaScript for Web Developers (3/4)
                </a>
            </div>
            <div class="post-nav-item">
                <a href="/2016/11/07/reading_note/" rel="next" title="闲书摘录2016">
                  闲书摘录2016 <i class="fa fa-angle-right"></i>
                </a>
            </div>
          </div>
    </footer>
  </article>
</div>






    
  <div class="comments" id="disqus_thread">
    <noscript>Please enable JavaScript to view the comments powered by Disqus.</noscript>
  </div>
  
</div>
  </main>

  <footer class="footer">
    <div class="footer-inner">

  <div class="copyright">
    &copy; 2016 – 
    <span itemprop="copyrightYear">2025</span>
    <span class="with-love">
      <i class="futbol-o"></i>
    </span>
    <span class="author" itemprop="copyrightHolder">Bob</span>
  </div>
  <div class="powered-by">Powered by <a href="https://hexo.io/" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.js.org/" rel="noopener" target="_blank">NexT.Gemini</a>
  </div>

    </div>
  </footer>

  
  <div class="toggle sidebar-toggle" role="button">
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
    <span class="toggle-line"></span>
  </div>
  <div class="sidebar-dimmer"></div>
  <div class="back-to-top" role="button" aria-label="Back to top">
    <i class="fa fa-arrow-up fa-lg"></i>
    <span>0%</span>
  </div>

<noscript>
  <div class="noscript-warning">Theme NexT works best with JavaScript enabled</div>
</noscript>
<script class="next-config" data-name="disqus" type="application/json">{"enable":true,"shortname":"bobbyliujb","count":true,"i18n":{"disqus":"disqus"}}</script>
<script src="/js/third-party/comments/disqus.js" defer></script>

</body>
</html>
